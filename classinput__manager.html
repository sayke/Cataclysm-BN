<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: input_manager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classinput__manager.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classinput__manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">input_manager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Manages the translation from action IDs to associated input.  
 <a href="classinput__manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="input_8h_source.html">input.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab88fbe92d9744f5bfee5010aee8d4090"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="structinput__event.html">input_event</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#ab88fbe92d9744f5bfee5010aee8d4090">get_input_for_action</a> (const std::string &amp;action_descriptor, const std::string &amp;context=&quot;default&quot;, bool *overwrites_default=nullptr)</td></tr>
<tr class="memdesc:ab88fbe92d9744f5bfee5010aee8d4090"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the input events associated with an action ID in a given context.  <a href="classinput__manager.html#ab88fbe92d9744f5bfee5010aee8d4090">More...</a><br /></td></tr>
<tr class="separator:ab88fbe92d9744f5bfee5010aee8d4090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da13ac5ecb4303a17f73cfc5f5e1af4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a3da13ac5ecb4303a17f73cfc5f5e1af4">get_first_char_for_action</a> (const std::string &amp;action_descriptor, const std::string &amp;context=&quot;default&quot;)</td></tr>
<tr class="memdesc:a3da13ac5ecb4303a17f73cfc5f5e1af4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return first char associated with an action ID in a given context.  <a href="classinput__manager.html#a3da13ac5ecb4303a17f73cfc5f5e1af4">More...</a><br /></td></tr>
<tr class="separator:a3da13ac5ecb4303a17f73cfc5f5e1af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab24c38af70d1715e73caa8fb54ffd88e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#ab24c38af70d1715e73caa8fb54ffd88e">init</a> ()</td></tr>
<tr class="memdesc:ab24c38af70d1715e73caa8fb54ffd88e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the input manager, aka loads the input mapping configuration JSON.  <a href="classinput__manager.html#ab24c38af70d1715e73caa8fb54ffd88e">More...</a><br /></td></tr>
<tr class="separator:ab24c38af70d1715e73caa8fb54ffd88e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b3a44f990f977f3a8d24c4d148b294d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a3b3a44f990f977f3a8d24c4d148b294d">save</a> ()</td></tr>
<tr class="memdesc:a3b3a44f990f977f3a8d24c4d148b294d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opposite of <a class="el" href="namespaceinit.html">init</a>, save the data that has been loaded by <a class="el" href="namespaceinit.html">init</a>, and possibly been modified.  <a href="classinput__manager.html#a3b3a44f990f977f3a8d24c4d148b294d">More...</a><br /></td></tr>
<tr class="separator:a3b3a44f990f977f3a8d24c4d148b294d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac068207a89179b89e95d31422c9991"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#adac068207a89179b89e95d31422c9991">get_previously_pressed_key</a> () const</td></tr>
<tr class="memdesc:adac068207a89179b89e95d31422c9991"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the previously pressed key, or 0 if there is no previous input or the previous input wasn't a key.  <a href="classinput__manager.html#adac068207a89179b89e95d31422c9991">More...</a><br /></td></tr>
<tr class="separator:adac068207a89179b89e95d31422c9991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f8e4b354bdbb12bf279231154ae9936"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a3f8e4b354bdbb12bf279231154ae9936">get_keycode</a> (const std::string &amp;name) const</td></tr>
<tr class="memdesc:a3f8e4b354bdbb12bf279231154ae9936"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the keycode associated with the given key name.  <a href="classinput__manager.html#a3f8e4b354bdbb12bf279231154ae9936">More...</a><br /></td></tr>
<tr class="separator:a3f8e4b354bdbb12bf279231154ae9936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6f368db01d071f88db23a13a4ffd2e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a1f6f368db01d071f88db23a13a4ffd2e">get_keyname</a> (int ch, <a class="el" href="input_8h.html#a7714eed017e41648533818b7ed636974">input_event_t</a> inp_type, bool portable=false) const</td></tr>
<tr class="memdesc:a1f6f368db01d071f88db23a13a4ffd2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the key name associated with the given keyboard keycode.  <a href="classinput__manager.html#a1f6f368db01d071f88db23a13a4ffd2e">More...</a><br /></td></tr>
<tr class="separator:a1f6f368db01d071f88db23a13a4ffd2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad550fec9aad772e44f497bf29f845739"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structinput__event.html">input_event</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#ad550fec9aad772e44f497bf29f845739">get_input_event</a> ()</td></tr>
<tr class="memdesc:ad550fec9aad772e44f497bf29f845739"><td class="mdescLeft">&#160;</td><td class="mdescRight">curses getch() replacement.  <a href="classinput__manager.html#ad550fec9aad772e44f497bf29f845739">More...</a><br /></td></tr>
<tr class="separator:ad550fec9aad772e44f497bf29f845739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56fd029f8ad1ca3dcd864a6bb5537045"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a56fd029f8ad1ca3dcd864a6bb5537045">pump_events</a> ()</td></tr>
<tr class="memdesc:a56fd029f8ad1ca3dcd864a6bb5537045"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resize &amp; refresh if necessary, process all pending window events, and ignore keypresses.  <a href="classinput__manager.html#a56fd029f8ad1ca3dcd864a6bb5537045">More...</a><br /></td></tr>
<tr class="separator:a56fd029f8ad1ca3dcd864a6bb5537045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af67f44919ce10e30e3197d45a341dbc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#af67f44919ce10e30e3197d45a341dbc9">wait_for_any_key</a> ()</td></tr>
<tr class="memdesc:af67f44919ce10e30e3197d45a341dbc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until the user presses a key.  <a href="classinput__manager.html#af67f44919ce10e30e3197d45a341dbc9">More...</a><br /></td></tr>
<tr class="separator:af67f44919ce10e30e3197d45a341dbc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71fe921eef2db73b8a665a187eb7e526"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a71fe921eef2db73b8a665a187eb7e526">set_timeout</a> (int t)</td></tr>
<tr class="memdesc:a71fe921eef2db73b8a665a187eb7e526"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets global input polling timeout as appropriate for the current interface system.  <a href="classinput__manager.html#a71fe921eef2db73b8a665a187eb7e526">More...</a><br /></td></tr>
<tr class="separator:a71fe921eef2db73b8a665a187eb7e526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b6cecac4efcad8792187f159c953f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a50b6cecac4efcad8792187f159c953f9">reset_timeout</a> ()</td></tr>
<tr class="separator:a50b6cecac4efcad8792187f159c953f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a783f2a36d610b9c0e6815c436a4917c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a783f2a36d610b9c0e6815c436a4917c7">get_timeout</a> () const</td></tr>
<tr class="separator:a783f2a36d610b9c0e6815c436a4917c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a2ec51fbcbab6a7ee498387ec4e7d83e2"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a2ec51fbcbab6a7ee498387ec4e7d83e2">t_input_event_list</a> = std::vector&lt; <a class="el" href="structinput__event.html">input_event</a> &gt;</td></tr>
<tr class="separator:a2ec51fbcbab6a7ee498387ec4e7d83e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b064e334ba0e8137f99c9cff5cdfe3"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#ae4b064e334ba0e8137f99c9cff5cdfe3">t_actions</a> = std::map&lt; std::string, <a class="el" href="structaction__attributes.html">action_attributes</a> &gt;</td></tr>
<tr class="separator:ae4b064e334ba0e8137f99c9cff5cdfe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71f2535192f07f6baf1e6013c15f325"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#ab71f2535192f07f6baf1e6013c15f325">t_action_contexts</a> = std::map&lt; std::string, <a class="el" href="classinput__manager.html#ae4b064e334ba0e8137f99c9cff5cdfe3">t_actions</a> &gt;</td></tr>
<tr class="separator:ab71f2535192f07f6baf1e6013c15f325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba3681ffeda986edeb6f11c644a9073"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#abba3681ffeda986edeb6f11c644a9073">t_key_to_name_map</a> = std::map&lt; int, std::string &gt;</td></tr>
<tr class="separator:abba3681ffeda986edeb6f11c644a9073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83c820601a369cb88573aa09446ce55f"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a83c820601a369cb88573aa09446ce55f">t_name_to_key_map</a> = std::map&lt; std::string, int &gt;</td></tr>
<tr class="separator:a83c820601a369cb88573aa09446ce55f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3a65df46bf37043db29ac4c5ba2ac594"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a3a65df46bf37043db29ac4c5ba2ac594">init_keycode_mapping</a> ()</td></tr>
<tr class="separator:a3a65df46bf37043db29ac4c5ba2ac594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f83698ed3723a101530f5f4d253712"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a> (int ch, const std::string &amp;name)</td></tr>
<tr class="separator:a87f83698ed3723a101530f5f4d253712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f89478f6ee0295fa4b887f2322cd3f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a> (int ch, const std::string &amp;name)</td></tr>
<tr class="separator:a4f89478f6ee0295fa4b887f2322cd3f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719089e88c00c4b7888bf164094d733b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a719089e88c00c4b7888bf164094d733b">load</a> (const std::string &amp;file_name, bool is_user_preferences)</td></tr>
<tr class="memdesc:a719089e88c00c4b7888bf164094d733b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load keybindings from a json file, override existing bindings.  <a href="classinput__manager.html#a719089e88c00c4b7888bf164094d733b">More...</a><br /></td></tr>
<tr class="separator:a719089e88c00c4b7888bf164094d733b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad38aeb1745f0ed694fbef9d8ef3a492c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinput__manager.html#a2ec51fbcbab6a7ee498387ec4e7d83e2">t_input_event_list</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#ad38aeb1745f0ed694fbef9d8ef3a492c">get_or_create_event_list</a> (const std::string &amp;action_descriptor, const std::string &amp;context)</td></tr>
<tr class="separator:ad38aeb1745f0ed694fbef9d8ef3a492c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadc9531489aa2b4c34afb1ee575cf2e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#aadc9531489aa2b4c34afb1ee575cf2e3">remove_input_for_action</a> (const std::string &amp;action_descriptor, const std::string &amp;context)</td></tr>
<tr class="separator:aadc9531489aa2b4c34afb1ee575cf2e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacde27ff6af00f3b0f12d66a77bf7c6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#aacde27ff6af00f3b0f12d66a77bf7c6c">add_input_for_action</a> (const std::string &amp;action_descriptor, const std::string &amp;context, const <a class="el" href="structinput__event.html">input_event</a> &amp;event)</td></tr>
<tr class="separator:aacde27ff6af00f3b0f12d66a77bf7c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b4bb140cc3ed4aedb7cc5ec4eb9c35f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structaction__attributes.html">action_attributes</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a8b4bb140cc3ed4aedb7cc5ec4eb9c35f">get_action_attributes</a> (const std::string &amp;<a class="el" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a>, const std::string &amp;context=&quot;default&quot;, bool *overwrites_default=nullptr)</td></tr>
<tr class="memdesc:a8b4bb140cc3ed4aedb7cc5ec4eb9c35f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the attributes of the action associated with an action ID by searching the given context and the default context.  <a href="classinput__manager.html#a8b4bb140cc3ed4aedb7cc5ec4eb9c35f">More...</a><br /></td></tr>
<tr class="separator:a8b4bb140cc3ed4aedb7cc5ec4eb9c35f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7ac0aef51420c50259be0396c697fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtranslation.html">translation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a1f7ac0aef51420c50259be0396c697fe">get_default_action_name</a> (const std::string &amp;<a class="el" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a>) const</td></tr>
<tr class="memdesc:a1f7ac0aef51420c50259be0396c697fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a value to be used as the default name for a newly created action.  <a href="classinput__manager.html#a1f7ac0aef51420c50259be0396c697fe">More...</a><br /></td></tr>
<tr class="separator:a1f7ac0aef51420c50259be0396c697fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:acb45709d299609fa432efc60cf57830a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinput__manager.html#ab71f2535192f07f6baf1e6013c15f325">t_action_contexts</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a></td></tr>
<tr class="separator:acb45709d299609fa432efc60cf57830a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38afff8de7bed849176a99a3b50b16f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinput__manager.html#abba3681ffeda986edeb6f11c644a9073">t_key_to_name_map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a38afff8de7bed849176a99a3b50b16f7">keycode_to_keyname</a></td></tr>
<tr class="separator:a38afff8de7bed849176a99a3b50b16f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ccd6ec63983d4ee8e87012d587fdda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinput__manager.html#abba3681ffeda986edeb6f11c644a9073">t_key_to_name_map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#af7ccd6ec63983d4ee8e87012d587fdda">gamepad_keycode_to_keyname</a></td></tr>
<tr class="separator:af7ccd6ec63983d4ee8e87012d587fdda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae775b7ea3cee0f2db7edec895342f398"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinput__manager.html#a83c820601a369cb88573aa09446ce55f">t_name_to_key_map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#ae775b7ea3cee0f2db7edec895342f398">keyname_to_keycode</a></td></tr>
<tr class="separator:ae775b7ea3cee0f2db7edec895342f398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6eb20ccdeab03473f47365cd836fb65"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#ab6eb20ccdeab03473f47365cd836fb65">previously_pressed_key</a></td></tr>
<tr class="separator:ab6eb20ccdeab03473f47365cd836fb65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c5db86b27184868198ccc6d285de17"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#a95c5db86b27184868198ccc6d285de17">input_timeout</a></td></tr>
<tr class="separator:a95c5db86b27184868198ccc6d285de17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aec6ca7fead0b329b5e042f04fa44ba3f"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinput__manager.html#aec6ca7fead0b329b5e042f04fa44ba3f">input_context</a></td></tr>
<tr class="separator:aec6ca7fead0b329b5e042f04fa44ba3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Manages the translation from action IDs to associated input. </p>
<p >Planned methods of input:</p><ol type="1">
<li>Single key press: a</li>
<li>Multi-key combination: `a</li>
<li>Gamepad button: A </li>
</ol>

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00214">214</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ab71f2535192f07f6baf1e6013c15f325" name="ab71f2535192f07f6baf1e6013c15f325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab71f2535192f07f6baf1e6013c15f325">&#9670;&nbsp;</a></span>t_action_contexts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classinput__manager.html#ab71f2535192f07f6baf1e6013c15f325">input_manager::t_action_contexts</a> =  std::map&lt;std::string, <a class="el" href="classinput__manager.html#ae4b064e334ba0e8137f99c9cff5cdfe3">t_actions</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00303">303</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>

</div>
</div>
<a id="ae4b064e334ba0e8137f99c9cff5cdfe3" name="ae4b064e334ba0e8137f99c9cff5cdfe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4b064e334ba0e8137f99c9cff5cdfe3">&#9670;&nbsp;</a></span>t_actions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classinput__manager.html#ae4b064e334ba0e8137f99c9cff5cdfe3">input_manager::t_actions</a> =  std::map&lt;std::string, <a class="el" href="structaction__attributes.html">action_attributes</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00302">302</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>

</div>
</div>
<a id="a2ec51fbcbab6a7ee498387ec4e7d83e2" name="a2ec51fbcbab6a7ee498387ec4e7d83e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ec51fbcbab6a7ee498387ec4e7d83e2">&#9670;&nbsp;</a></span>t_input_event_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classinput__manager.html#a2ec51fbcbab6a7ee498387ec4e7d83e2">input_manager::t_input_event_list</a> =  std::vector&lt;<a class="el" href="structinput__event.html">input_event</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00301">301</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>

</div>
</div>
<a id="abba3681ffeda986edeb6f11c644a9073" name="abba3681ffeda986edeb6f11c644a9073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abba3681ffeda986edeb6f11c644a9073">&#9670;&nbsp;</a></span>t_key_to_name_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classinput__manager.html#abba3681ffeda986edeb6f11c644a9073">input_manager::t_key_to_name_map</a> =  std::map&lt;int, std::string&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00306">306</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>

</div>
</div>
<a id="a83c820601a369cb88573aa09446ce55f" name="a83c820601a369cb88573aa09446ce55f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83c820601a369cb88573aa09446ce55f">&#9670;&nbsp;</a></span>t_name_to_key_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classinput__manager.html#a83c820601a369cb88573aa09446ce55f">input_manager::t_name_to_key_map</a> =  std::map&lt;std::string, int&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00309">309</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4f89478f6ee0295fa4b887f2322cd3f8" name="a4f89478f6ee0295fa4b887f2322cd3f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f89478f6ee0295fa4b887f2322cd3f8">&#9670;&nbsp;</a></span>add_gamepad_keycode_pair()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void input_manager::add_gamepad_keycode_pair </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00331">331</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>{</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <a class="code hl_variable" href="classinput__manager.html#af7ccd6ec63983d4ee8e87012d587fdda">gamepad_keycode_to_keyname</a>[ch] = <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <a class="code hl_variable" href="classinput__manager.html#ae775b7ea3cee0f2db7edec895342f398">keyname_to_keycode</a>[<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>] = ch;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>}</div>
<div class="ttc" id="aclassinput__manager_html_ae775b7ea3cee0f2db7edec895342f398"><div class="ttname"><a href="classinput__manager.html#ae775b7ea3cee0f2db7edec895342f398">input_manager::keyname_to_keycode</a></div><div class="ttdeci">t_name_to_key_map keyname_to_keycode</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00310">input.h:310</a></div></div>
<div class="ttc" id="aclassinput__manager_html_af7ccd6ec63983d4ee8e87012d587fdda"><div class="ttname"><a href="classinput__manager.html#af7ccd6ec63983d4ee8e87012d587fdda">input_manager::gamepad_keycode_to_keyname</a></div><div class="ttdeci">t_key_to_name_map gamepad_keycode_to_keyname</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00308">input.h:308</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l04129">overmap.cpp:4129</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00308">gamepad_keycode_to_keyname</a>, <a class="el" href="input_8h_source.html#l00310">keyname_to_keycode</a>, and <a class="el" href="overmap_8cpp_source.html#l04129">om_direction::name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00340">init_keycode_mapping()</a>.</p>

</div>
</div>
<a id="aacde27ff6af00f3b0f12d66a77bf7c6c" name="aacde27ff6af00f3b0f12d66a77bf7c6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacde27ff6af00f3b0f12d66a77bf7c6c">&#9670;&nbsp;</a></span>add_input_for_action()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void input_manager::add_input_for_action </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>action_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structinput__event.html">input_event</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00573">573</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>{</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    <a class="code hl_typedef" href="classinput__manager.html#a2ec51fbcbab6a7ee498387ec4e7d83e2">t_input_event_list</a> &amp;events = <a class="code hl_function" href="classinput__manager.html#ad38aeb1745f0ed694fbef9d8ef3a492c">get_or_create_event_list</a>( action_descriptor, context );</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;events_a : events ) {</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        <span class="keywordflow">if</span>( events_a == event ) {</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>        }</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>    }</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    events.push_back( event );</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>}</div>
<div class="ttc" id="aclassinput__manager_html_a2ec51fbcbab6a7ee498387ec4e7d83e2"><div class="ttname"><a href="classinput__manager.html#a2ec51fbcbab6a7ee498387ec4e7d83e2">input_manager::t_input_event_list</a></div><div class="ttdeci">std::vector&lt; input_event &gt; t_input_event_list</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00301">input.h:301</a></div></div>
<div class="ttc" id="aclassinput__manager_html_ad38aeb1745f0ed694fbef9d8ef3a492c"><div class="ttname"><a href="classinput__manager.html#ad38aeb1745f0ed694fbef9d8ef3a492c">input_manager::get_or_create_event_list</a></div><div class="ttdeci">t_input_event_list &amp; get_or_create_event_list(const std::string &amp;action_descriptor, const std::string &amp;context)</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00528">input.cpp:528</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8cpp_source.html#l00528">get_or_create_event_list()</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00993">input_context::display_menu()</a>, and <a class="el" href="input_8cpp_source.html#l00111">init()</a>.</p>

</div>
</div>
<a id="a87f83698ed3723a101530f5f4d253712" name="a87f83698ed3723a101530f5f4d253712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87f83698ed3723a101530f5f4d253712">&#9670;&nbsp;</a></span>add_keycode_pair()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void input_manager::add_keycode_pair </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00325">325</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>{</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <a class="code hl_variable" href="classinput__manager.html#a38afff8de7bed849176a99a3b50b16f7">keycode_to_keyname</a>[ch] = <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>;</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    <a class="code hl_variable" href="classinput__manager.html#ae775b7ea3cee0f2db7edec895342f398">keyname_to_keycode</a>[<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>] = ch;</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>}</div>
<div class="ttc" id="aclassinput__manager_html_a38afff8de7bed849176a99a3b50b16f7"><div class="ttname"><a href="classinput__manager.html#a38afff8de7bed849176a99a3b50b16f7">input_manager::keycode_to_keyname</a></div><div class="ttdeci">t_key_to_name_map keycode_to_keyname</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00307">input.h:307</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00307">keycode_to_keyname</a>, <a class="el" href="input_8h_source.html#l00310">keyname_to_keycode</a>, and <a class="el" href="overmap_8cpp_source.html#l04129">om_direction::name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00340">init_keycode_mapping()</a>.</p>

</div>
</div>
<a id="a8b4bb140cc3ed4aedb7cc5ec4eb9c35f" name="a8b4bb140cc3ed4aedb7cc5ec4eb9c35f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b4bb140cc3ed4aedb7cc5ec4eb9c35f">&#9670;&nbsp;</a></span>get_action_attributes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structaction__attributes.html">action_attributes</a> &amp; input_manager::get_action_attributes </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>action_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>context</em> = <code>&quot;default&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>overwrites_default</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the attributes of the action associated with an action ID by searching the given context and the default context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">action_id</td><td>The action ID of the action to find. </td></tr>
    <tr><td class="paramname">context</td><td>The context in which to get the action. If not found, the "default" context will additionally be checked. Defaults to "default". </td></tr>
    <tr><td class="paramname">overwrites_default</td><td>If this is non-NULL, this will be used as a return parameter. It will be set to true if the found action was not in the default context. It will be set to false if the found action was in the default context. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00475">475</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>{</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span> </div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    <span class="keywordflow">if</span>( context != <a class="code hl_function" href="input_8cpp.html#af6b5281f3d5857bf3194c06000ebad6b">default_context_id</a> ) {</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>        <span class="comment">// Check if the action exists in the provided context</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>        <span class="keyword">const</span> t_action_contexts::const_iterator action_context = <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>.find( context );</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>        <span class="keywordflow">if</span>( action_context != <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>.end() ) {</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>            <span class="keyword">const</span> t_actions::const_iterator <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = action_context-&gt;second.find( <a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a> );</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> != action_context-&gt;second.end() ) {</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>                <span class="keywordflow">if</span>( overwrites_default ) {</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>                    *overwrites_default = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>                }</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span> </div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>-&gt;second;</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>            }</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>        }</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>    }</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span> </div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <span class="comment">// If not, we use the default binding.</span></div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>    <span class="keywordflow">if</span>( overwrites_default ) {</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>        *overwrites_default = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    }</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span> </div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    <a class="code hl_typedef" href="classinput__manager.html#ae4b064e334ba0e8137f99c9cff5cdfe3">t_actions</a> &amp;default_action_context = <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>[<a class="code hl_function" href="input_8cpp.html#af6b5281f3d5857bf3194c06000ebad6b">default_context_id</a>];</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    <span class="keyword">const</span> t_actions::const_iterator default_action = default_action_context.find( <a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a> );</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <span class="keywordflow">if</span>( default_action == default_action_context.end() ) {</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>        <span class="comment">// A new action is created in the event that the requested action is</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>        <span class="comment">// not in the keybindings configuration e.g. the entry is missing.</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        default_action_context[<a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a>].name = <a class="code hl_function" href="classinput__manager.html#a1f7ac0aef51420c50259be0396c697fe">get_default_action_name</a>( <a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a> );</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    }</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span> </div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    <span class="keywordflow">return</span> default_action_context[<a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a>];</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>}</div>
<div class="ttc" id="aaction_8h_html_a14769f0512c139a614db195c6477c667"><div class="ttname"><a href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a></div><div class="ttdeci">action_id</div><div class="ttdoc">Enumerates all discrete actions that can be performed by player.</div><div class="ttdef"><b>Definition:</b> <a href="action_8h_source.html#l00018">action.h:18</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a1f7ac0aef51420c50259be0396c697fe"><div class="ttname"><a href="classinput__manager.html#a1f7ac0aef51420c50259be0396c697fe">input_manager::get_default_action_name</a></div><div class="ttdeci">translation get_default_action_name(const std::string &amp;action_id) const</div><div class="ttdoc">Get a value to be used as the default name for a newly created action.</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00512">input.cpp:512</a></div></div>
<div class="ttc" id="aclassinput__manager_html_acb45709d299609fa432efc60cf57830a"><div class="ttname"><a href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">input_manager::action_contexts</a></div><div class="ttdeci">t_action_contexts action_contexts</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00304">input.h:304</a></div></div>
<div class="ttc" id="aclassinput__manager_html_ae4b064e334ba0e8137f99c9cff5cdfe3"><div class="ttname"><a href="classinput__manager.html#ae4b064e334ba0e8137f99c9cff5cdfe3">input_manager::t_actions</a></div><div class="ttdeci">std::map&lt; std::string, action_attributes &gt; t_actions</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00302">input.h:302</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00037">dialogue.h:36</a></div></div>
<div class="ttc" id="ainput_8cpp_html_af6b5281f3d5857bf3194c06000ebad6b"><div class="ttname"><a href="input_8cpp.html#af6b5281f3d5857bf3194c06000ebad6b">default_context_id</a></div><div class="ttdeci">static const std::string default_context_id(&quot;default&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00036">action</a>, <a class="el" href="input_8h_source.html#l00304">action_contexts</a>, <a class="el" href="input_8cpp.html#af6b5281f3d5857bf3194c06000ebad6b">default_context_id()</a>, and <a class="el" href="input_8cpp_source.html#l00512">get_default_action_name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00585">input_context::action_uses_input()</a>, <a class="el" href="input_8cpp_source.html#l00993">input_context::display_menu()</a>, <a class="el" href="input_8cpp_source.html#l01355">input_context::get_action_name()</a>, and <a class="el" href="input_8cpp_source.html#l00459">get_input_for_action()</a>.</p>

</div>
</div>
<a id="a1f7ac0aef51420c50259be0396c697fe" name="a1f7ac0aef51420c50259be0396c697fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f7ac0aef51420c50259be0396c697fe">&#9670;&nbsp;</a></span>get_default_action_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtranslation.html">translation</a> input_manager::get_default_action_name </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>action_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a value to be used as the default name for a newly created action. </p>
<p >This name should be used as a fallback in cases where it is necessary to create a new action.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">action_id</td><td>The action ID of the action.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the action ID exists in the default context, the name of that action's name is returned. Otherwise, no_translation( action_id ) is returned. </dd></dl>

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00512">512</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>{</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    <span class="keyword">const</span> t_action_contexts::const_iterator default_action_context = <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>.find(</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>                <a class="code hl_function" href="input_8cpp.html#af6b5281f3d5857bf3194c06000ebad6b">default_context_id</a> );</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    <span class="keywordflow">if</span>( default_action_context == <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>.end() ) {</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="translations_8cpp.html#a7afa19f8e1a45d955fc6fbaa420a6760">no_translation</a>( <a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a> );</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    }</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span> </div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>    <span class="keyword">const</span> t_actions::const_iterator default_action = default_action_context-&gt;second.find( <a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a> );</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    <span class="keywordflow">if</span>( default_action != default_action_context-&gt;second.end() ) {</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>        <span class="keywordflow">return</span> default_action-&gt;second.name;</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="translations_8cpp.html#a7afa19f8e1a45d955fc6fbaa420a6760">no_translation</a>( <a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a> );</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    }</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>}</div>
<div class="ttc" id="atranslations_8cpp_html_a7afa19f8e1a45d955fc6fbaa420a6760"><div class="ttname"><a href="translations_8cpp.html#a7afa19f8e1a45d955fc6fbaa420a6760">no_translation</a></div><div class="ttdeci">translation no_translation(const std::string &amp;str)</div><div class="ttdoc">Shorthand for translation::no_translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00405">translations.cpp:405</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00304">action_contexts</a>, <a class="el" href="input_8cpp.html#af6b5281f3d5857bf3194c06000ebad6b">default_context_id()</a>, and <a class="el" href="translations_8cpp_source.html#l00405">no_translation()</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00475">get_action_attributes()</a>, and <a class="el" href="input_8cpp_source.html#l00528">get_or_create_event_list()</a>.</p>

</div>
</div>
<a id="a3da13ac5ecb4303a17f73cfc5f5e1af4" name="a3da13ac5ecb4303a17f73cfc5f5e1af4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da13ac5ecb4303a17f73cfc5f5e1af4">&#9670;&nbsp;</a></span>get_first_char_for_action()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int input_manager::get_first_char_for_action </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>action_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>context</em> = <code>&quot;default&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return first char associated with an action ID in a given context. </p>

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00468">468</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>{</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    std::vector&lt;input_event&gt; input_events = <a class="code hl_function" href="classinput__manager.html#ab88fbe92d9744f5bfee5010aee8d4090">get_input_for_action</a>( action_descriptor, context );</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    <span class="keywordflow">return</span> input_events.empty() ? 0 : input_events[0].get_first_input();</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>}</div>
<div class="ttc" id="aclassinput__manager_html_ab88fbe92d9744f5bfee5010aee8d4090"><div class="ttname"><a href="classinput__manager.html#ab88fbe92d9744f5bfee5010aee8d4090">input_manager::get_input_for_action</a></div><div class="ttdeci">const std::vector&lt; input_event &gt; &amp; get_input_for_action(const std::string &amp;action_descriptor, const std::string &amp;context=&quot;default&quot;, bool *overwrites_default=nullptr)</div><div class="ttdoc">Get the input events associated with an action ID in a given context.</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00459">input.cpp:459</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8cpp_source.html#l00459">get_input_for_action()</a>.</p>

</div>
</div>
<a id="ad550fec9aad772e44f497bf29f845739" name="ad550fec9aad772e44f497bf29f845739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad550fec9aad772e44f497bf29f845739">&#9670;&nbsp;</a></span>get_input_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structinput__event.html">input_event</a> input_manager::get_input_event </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>curses getch() replacement. </p>
<p >Defined in the respective platform wrapper, e.g. sdlcurse.cpp </p>

<p class="definition">Definition at line <a class="el" href="ncurses__def_8cpp_source.html#l00277">277</a> of file <a class="el" href="ncurses__def_8cpp_source.html">ncurses_def.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>{</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keywordtype">int</span> key = ERR;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <a class="code hl_struct" href="structinput__event.html">input_event</a> rval;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        <a class="code hl_variable" href="classinput__manager.html#ab6eb20ccdeab03473f47365cd836fb65">previously_pressed_key</a> = 0;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        <span class="comment">// flush any output</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>        <a class="code hl_function" href="namespacecatacurses.html#a27081969be8988bf3f1679ebf24c151e">catacurses::doupdate</a>();</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        key = getch();</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        <span class="keywordflow">if</span>( key != ERR ) {</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>            <span class="keywordtype">int</span> newch;</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>            <span class="comment">// Clear the buffer of characters that match the one we&#39;re going to act on.</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> prev_timeout = <a class="code hl_variable" href="classinput__manager.html#a95c5db86b27184868198ccc6d285de17">input_timeout</a>;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>            <a class="code hl_function" href="classinput__manager.html#a71fe921eef2db73b8a665a187eb7e526">set_timeout</a>( 0 );</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>            <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>                newch = getch();</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>            } <span class="keywordflow">while</span>( newch != ERR &amp;&amp; newch == key );</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>            <a class="code hl_function" href="classinput__manager.html#a71fe921eef2db73b8a665a187eb7e526">set_timeout</a>( prev_timeout );</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>            <span class="comment">// If we read a different character than the one we&#39;re going to act on, re-queue it.</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>            <span class="keywordflow">if</span>( newch != ERR &amp;&amp; newch != key ) {</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>                ungetch( newch );</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>            }</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        }</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        rval = <a class="code hl_struct" href="structinput__event.html">input_event</a>();</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        <span class="keywordflow">if</span>( key == ERR ) {</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="classinput__manager.html#a95c5db86b27184868198ccc6d285de17">input_timeout</a> &gt; 0 ) {</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                rval.<a class="code hl_variable" href="structinput__event.html#afa9e110af2c2ac3eefd1ffa4e8c8d469">type</a> = <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a8d089f5ce2c65b85e9c5855ed96ff95f">CATA_INPUT_TIMEOUT</a>;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>                rval.<a class="code hl_variable" href="structinput__event.html#afa9e110af2c2ac3eefd1ffa4e8c8d469">type</a> = <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a9493b2f19022b0a377f839377423d0de">CATA_INPUT_ERROR</a>;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>            }</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>            <span class="comment">// ncurses mouse handling</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( key == KEY_RESIZE ) {</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>            <a class="code hl_function" href="namespacecatacurses.html#a5e3d87563c99055c3a89fae235b305a4">catacurses::resizeterm</a>();</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( key == KEY_MOUSE ) {</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>            MEVENT event;</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>            <span class="keywordflow">if</span>( getmouse( &amp;event ) == OK ) {</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>                rval.<a class="code hl_variable" href="structinput__event.html#afa9e110af2c2ac3eefd1ffa4e8c8d469">type</a> = <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974addb21d0c61e43f974b49dfe0fd793c9b">CATA_INPUT_MOUSE</a>;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>                rval.<a class="code hl_variable" href="structinput__event.html#ad5400de6c4795c4d1b0d8d09fe938273">mouse_pos</a> = <a class="code hl_struct" href="structpoint.html">point</a>( event.x, event.y );</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>                <span class="keywordflow">if</span>( event.bstate &amp; BUTTON1_CLICKED ) {</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>                    rval.<a class="code hl_function" href="structinput__event.html#a1d3cc705ca3603447a5d24f3c52339d5">add_input</a>( <a class="code hl_enumvalue" href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56ea3c2e62b97b30d850c5539d0f3a6d0958">MOUSE_BUTTON_LEFT</a> );</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( event.bstate &amp; BUTTON3_CLICKED ) {</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>                    rval.<a class="code hl_function" href="structinput__event.html#a1d3cc705ca3603447a5d24f3c52339d5">add_input</a>( <a class="code hl_enumvalue" href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56ea5b61e63e73f15ed6af97d5cd3124bc6f">MOUSE_BUTTON_RIGHT</a> );</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( event.bstate &amp; REPORT_MOUSE_POSITION ) {</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                    rval.<a class="code hl_function" href="structinput__event.html#a1d3cc705ca3603447a5d24f3c52339d5">add_input</a>( <a class="code hl_enumvalue" href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56ea7513d383f97428a41f8b44594874d469">MOUSE_MOVE</a> );</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classinput__manager.html#a95c5db86b27184868198ccc6d285de17">input_timeout</a> &gt; 0 ) {</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>                        <span class="comment">// Mouse movement seems to clear ncurses timeout</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                        <a class="code hl_function" href="classinput__manager.html#a71fe921eef2db73b8a665a187eb7e526">set_timeout</a>( <a class="code hl_variable" href="classinput__manager.html#a95c5db86b27184868198ccc6d285de17">input_timeout</a> );</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>                    }</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>                    rval.<a class="code hl_variable" href="structinput__event.html#afa9e110af2c2ac3eefd1ffa4e8c8d469">type</a> = <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a9493b2f19022b0a377f839377423d0de">CATA_INPUT_ERROR</a>;</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                }</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>                rval.<a class="code hl_variable" href="structinput__event.html#afa9e110af2c2ac3eefd1ffa4e8c8d469">type</a> = <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a9493b2f19022b0a377f839377423d0de">CATA_INPUT_ERROR</a>;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>            }</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>            <span class="keywordflow">if</span>( key == 127 ) { <span class="comment">// == Unicode DELETE</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>                <a class="code hl_variable" href="classinput__manager.html#ab6eb20ccdeab03473f47365cd836fb65">previously_pressed_key</a> = <a class="code hl_variable" href="input_8h.html#a68a8c5541dd85e1870ddd2450a896cb3">KEY_BACKSPACE</a>;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>                <span class="keywordflow">return</span> <a class="code hl_struct" href="structinput__event.html">input_event</a>( <a class="code hl_variable" href="input_8h.html#a68a8c5541dd85e1870ddd2450a896cb3">KEY_BACKSPACE</a>, <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a> );</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>            }</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>            rval.<a class="code hl_variable" href="structinput__event.html#afa9e110af2c2ac3eefd1ffa4e8c8d469">type</a> = <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a>;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>            rval.<a class="code hl_variable" href="structinput__event.html#a2be5acd6dbd31ce820785df739a6c27b">text</a>.append( 1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>( key ) );</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>            <span class="comment">// Read the UTF-8 sequence (if any)</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>            <span class="keywordflow">if</span>( key &lt; 127 ) {</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>                <span class="comment">// Single byte sequence</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( 194 &lt;= key &amp;&amp; key &lt;= 223 ) {</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>                rval.<a class="code hl_variable" href="structinput__event.html#a2be5acd6dbd31ce820785df739a6c27b">text</a>.append( 1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>( getch() ) );</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( 224 &lt;= key &amp;&amp; key &lt;= 239 ) {</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>                rval.<a class="code hl_variable" href="structinput__event.html#a2be5acd6dbd31ce820785df739a6c27b">text</a>.append( 1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>( getch() ) );</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>                rval.<a class="code hl_variable" href="structinput__event.html#a2be5acd6dbd31ce820785df739a6c27b">text</a>.append( 1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>( getch() ) );</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( 240 &lt;= key &amp;&amp; key &lt;= 244 ) {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>                rval.<a class="code hl_variable" href="structinput__event.html#a2be5acd6dbd31ce820785df739a6c27b">text</a>.append( 1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>( getch() ) );</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>                rval.<a class="code hl_variable" href="structinput__event.html#a2be5acd6dbd31ce820785df739a6c27b">text</a>.append( 1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>( getch() ) );</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                rval.<a class="code hl_variable" href="structinput__event.html#a2be5acd6dbd31ce820785df739a6c27b">text</a>.append( 1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>( getch() ) );</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>                <span class="comment">// Other control character, etc. - no text at all, return an event</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>                <span class="comment">// without the text property</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>                <a class="code hl_variable" href="classinput__manager.html#ab6eb20ccdeab03473f47365cd836fb65">previously_pressed_key</a> = key;</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>                <span class="keywordflow">return</span> <a class="code hl_struct" href="structinput__event.html">input_event</a>( key, <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a> );</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>            }</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>            <span class="comment">// Now we have loaded an UTF-8 sequence (possibly several bytes)</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>            <span class="comment">// but we should only return *one* key, so return the code point of it.</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>            <span class="keyword">const</span> uint32_t cp = <a class="code hl_function" href="catacharset_8cpp.html#a2227e8c0afd74ed174cbb4daf8e46ab2">UTF8_getch</a>( rval.<a class="code hl_variable" href="structinput__event.html#a2be5acd6dbd31ce820785df739a6c27b">text</a> );</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>            <span class="keywordflow">if</span>( cp == <a class="code hl_define" href="catacharset_8h.html#a87e4d06df10657ae54780a7b95378480">UNKNOWN_UNICODE</a> ) {</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>                <span class="comment">// Invalid UTF-8 sequence, this should never happen, what now?</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>                <span class="comment">// Maybe return any error instead?</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>                <a class="code hl_variable" href="classinput__manager.html#ab6eb20ccdeab03473f47365cd836fb65">previously_pressed_key</a> = key;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>                <span class="keywordflow">return</span> <a class="code hl_struct" href="structinput__event.html">input_event</a>( key, <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a> );</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>            }</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>            <a class="code hl_variable" href="classinput__manager.html#ab6eb20ccdeab03473f47365cd836fb65">previously_pressed_key</a> = cp;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>            <span class="comment">// for compatibility only add the first byte, not the code point</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>            <span class="comment">// as it would  conflict with the special keys defined by ncurses</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>            rval.<a class="code hl_function" href="structinput__event.html#a1d3cc705ca3603447a5d24f3c52339d5">add_input</a>( key );</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        }</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    } <span class="keywordflow">while</span>( key == KEY_RESIZE );</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span> </div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <span class="keywordflow">return</span> rval;</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>}</div>
<div class="ttc" id="acatacharset_8cpp_html_a2227e8c0afd74ed174cbb4daf8e46ab2"><div class="ttname"><a href="catacharset_8cpp.html#a2227e8c0afd74ed174cbb4daf8e46ab2">UTF8_getch</a></div><div class="ttdeci">uint32_t UTF8_getch(const char **src, int *srclen)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00018">catacharset.cpp:18</a></div></div>
<div class="ttc" id="acatacharset_8h_html_a87e4d06df10657ae54780a7b95378480"><div class="ttname"><a href="catacharset_8h.html#a87e4d06df10657ae54780a7b95378480">UNKNOWN_UNICODE</a></div><div class="ttdeci">#define UNKNOWN_UNICODE</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8h_source.html#l00013">catacharset.h:13</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a71fe921eef2db73b8a665a187eb7e526"><div class="ttname"><a href="classinput__manager.html#a71fe921eef2db73b8a665a187eb7e526">input_manager::set_timeout</a></div><div class="ttdeci">void set_timeout(int t)</div><div class="ttdoc">Sets global input polling timeout as appropriate for the current interface system.</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00375">ncurses_def.cpp:375</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a95c5db86b27184868198ccc6d285de17"><div class="ttname"><a href="classinput__manager.html#a95c5db86b27184868198ccc6d285de17">input_manager::input_timeout</a></div><div class="ttdeci">int input_timeout</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00327">input.h:327</a></div></div>
<div class="ttc" id="aclassinput__manager_html_ab6eb20ccdeab03473f47365cd836fb65"><div class="ttname"><a href="classinput__manager.html#ab6eb20ccdeab03473f47365cd836fb65">input_manager::previously_pressed_key</a></div><div class="ttdeci">int previously_pressed_key</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00313">input.h:313</a></div></div>
<div class="ttc" id="ainput_8h_html_a68a8c5541dd85e1870ddd2450a896cb3"><div class="ttname"><a href="input_8h.html#a68a8c5541dd85e1870ddd2450a896cb3">KEY_BACKSPACE</a></div><div class="ttdeci">static constexpr int KEY_BACKSPACE</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00039">input.h:39</a></div></div>
<div class="ttc" id="ainput_8h_html_a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839"><div class="ttname"><a href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a></div><div class="ttdeci">@ CATA_INPUT_KEYBOARD</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00078">input.h:78</a></div></div>
<div class="ttc" id="ainput_8h_html_a7714eed017e41648533818b7ed636974a8d089f5ce2c65b85e9c5855ed96ff95f"><div class="ttname"><a href="input_8h.html#a7714eed017e41648533818b7ed636974a8d089f5ce2c65b85e9c5855ed96ff95f">CATA_INPUT_TIMEOUT</a></div><div class="ttdeci">@ CATA_INPUT_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00077">input.h:77</a></div></div>
<div class="ttc" id="ainput_8h_html_a7714eed017e41648533818b7ed636974a9493b2f19022b0a377f839377423d0de"><div class="ttname"><a href="input_8h.html#a7714eed017e41648533818b7ed636974a9493b2f19022b0a377f839377423d0de">CATA_INPUT_ERROR</a></div><div class="ttdeci">@ CATA_INPUT_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00076">input.h:76</a></div></div>
<div class="ttc" id="ainput_8h_html_a7714eed017e41648533818b7ed636974addb21d0c61e43f974b49dfe0fd793c9b"><div class="ttname"><a href="input_8h.html#a7714eed017e41648533818b7ed636974addb21d0c61e43f974b49dfe0fd793c9b">CATA_INPUT_MOUSE</a></div><div class="ttdeci">@ CATA_INPUT_MOUSE</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00081">input.h:80</a></div></div>
<div class="ttc" id="ainput_8h_html_a7e5f61c59f658d9196d15f3b98f1e56ea3c2e62b97b30d850c5539d0f3a6d0958"><div class="ttname"><a href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56ea3c2e62b97b30d850c5539d0f3a6d0958">MOUSE_BUTTON_LEFT</a></div><div class="ttdeci">@ MOUSE_BUTTON_LEFT</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00073">input.h:73</a></div></div>
<div class="ttc" id="ainput_8h_html_a7e5f61c59f658d9196d15f3b98f1e56ea5b61e63e73f15ed6af97d5cd3124bc6f"><div class="ttname"><a href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56ea5b61e63e73f15ed6af97d5cd3124bc6f">MOUSE_BUTTON_RIGHT</a></div><div class="ttdeci">@ MOUSE_BUTTON_RIGHT</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00073">input.h:73</a></div></div>
<div class="ttc" id="ainput_8h_html_a7e5f61c59f658d9196d15f3b98f1e56ea7513d383f97428a41f8b44594874d469"><div class="ttname"><a href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56ea7513d383f97428a41f8b44594874d469">MOUSE_MOVE</a></div><div class="ttdeci">@ MOUSE_MOVE</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00073">input.h:73</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a27081969be8988bf3f1679ebf24c151e"><div class="ttname"><a href="namespacecatacurses.html#a27081969be8988bf3f1679ebf24c151e">catacurses::doupdate</a></div><div class="ttdeci">void doupdate()</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00125">ncurses_def.cpp:125</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a5e3d87563c99055c3a89fae235b305a4"><div class="ttname"><a href="namespacecatacurses.html#a5e3d87563c99055c3a89fae235b305a4">catacurses::resizeterm</a></div><div class="ttdeci">void resizeterm()</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00217">ncurses_def.cpp:217</a></div></div>
<div class="ttc" id="astructinput__event_html"><div class="ttname"><a href="structinput__event.html">input_event</a></div><div class="ttdoc">An instance of an input, like a keypress etc.</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00091">input.h:91</a></div></div>
<div class="ttc" id="astructinput__event_html_a1d3cc705ca3603447a5d24f3c52339d5"><div class="ttname"><a href="structinput__event.html#a1d3cc705ca3603447a5d24f3c52339d5">input_event::add_input</a></div><div class="ttdeci">void add_input(const int input)</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00130">input.h:130</a></div></div>
<div class="ttc" id="astructinput__event_html_a2be5acd6dbd31ce820785df739a6c27b"><div class="ttname"><a href="structinput__event.html#a2be5acd6dbd31ce820785df739a6c27b">input_event::text</a></div><div class="ttdeci">std::string text</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00105">input.h:105</a></div></div>
<div class="ttc" id="astructinput__event_html_ad5400de6c4795c4d1b0d8d09fe938273"><div class="ttname"><a href="structinput__event.html#ad5400de6c4795c4d1b0d8d09fe938273">input_event::mouse_pos</a></div><div class="ttdeci">point mouse_pos</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00101">input.h:101</a></div></div>
<div class="ttc" id="astructinput__event_html_afa9e110af2c2ac3eefd1ffa4e8c8d469"><div class="ttname"><a href="structinput__event.html#afa9e110af2c2ac3eefd1ffa4e8c8d469">input_event::type</a></div><div class="ttdeci">input_event_t type</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00092">input.h:92</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00130">input_event::add_input()</a>, <a class="el" href="input_8h_source.html#l00076">CATA_INPUT_ERROR</a>, <a class="el" href="input_8h_source.html#l00078">CATA_INPUT_KEYBOARD</a>, <a class="el" href="input_8h_source.html#l00080">CATA_INPUT_MOUSE</a>, <a class="el" href="input_8h_source.html#l00077">CATA_INPUT_TIMEOUT</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00125">catacurses::doupdate()</a>, <a class="el" href="input_8h_source.html#l00327">input_timeout</a>, <a class="el" href="input_8h_source.html#l00039">KEY_BACKSPACE</a>, <a class="el" href="input_8h_source.html#l00073">MOUSE_BUTTON_LEFT</a>, <a class="el" href="input_8h_source.html#l00073">MOUSE_BUTTON_RIGHT</a>, <a class="el" href="input_8h_source.html#l00073">MOUSE_MOVE</a>, <a class="el" href="input_8h_source.html#l00101">input_event::mouse_pos</a>, <a class="el" href="input_8h_source.html#l00313">previously_pressed_key</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00217">catacurses::resizeterm()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00375">set_timeout()</a>, <a class="el" href="input_8h_source.html#l00105">input_event::text</a>, <a class="el" href="input_8h_source.html#l00092">input_event::type</a>, <a class="el" href="catacharset_8h_source.html#l00013">UNKNOWN_UNICODE</a>, and <a class="el" href="catacharset_8cpp_source.html#l00018">UTF8_getch()</a>.</p>

<p class="reference">Referenced by <a class="el" href="debug_8cpp_source.html#l00238">debug_error_prompt()</a>, <a class="el" href="input_8cpp_source.html#l00853">input_context::handle_input()</a>, <a class="el" href="animation_8cpp_source.html#l00589">anonymous_namespace{animation.cpp}::hit_animation()</a>, <a class="el" href="npctalk_8cpp_source.html#l01774">dialogue::opt()</a>, and <a class="el" href="input_8cpp_source.html#l01303">wait_for_any_key()</a>.</p>

</div>
</div>
<a id="ab88fbe92d9744f5bfee5010aee8d4090" name="ab88fbe92d9744f5bfee5010aee8d4090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab88fbe92d9744f5bfee5010aee8d4090">&#9670;&nbsp;</a></span>get_input_for_action()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; <a class="el" href="structinput__event.html">input_event</a> &gt; &amp; input_manager::get_input_for_action </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>action_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>context</em> = <code>&quot;default&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>overwrites_default</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the input events associated with an action ID in a given context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">action_descriptor</td><td>The action ID to get the input events for. </td></tr>
    <tr><td class="paramname">context</td><td>The context in which to get the input events. Defaults to "default". </td></tr>
    <tr><td class="paramname">overwrites_default</td><td>If this is non-NULL, this will be used as return parameter and will be set to true if the default keybinding is overridden by something else in the given context. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00459">459</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>{</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structaction__attributes.html">action_attributes</a> &amp;attributes =</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>        <a class="code hl_function" href="classinput__manager.html#a8b4bb140cc3ed4aedb7cc5ec4eb9c35f">get_action_attributes</a>( action_descriptor, context, overwrites_default );</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span> </div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    <span class="keywordflow">return</span> attributes.<a class="code hl_variable" href="structaction__attributes.html#a91313c5e1dccebc2f7de00771ed01242">input_events</a>;</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>}</div>
<div class="ttc" id="aclassinput__manager_html_a8b4bb140cc3ed4aedb7cc5ec4eb9c35f"><div class="ttname"><a href="classinput__manager.html#a8b4bb140cc3ed4aedb7cc5ec4eb9c35f">input_manager::get_action_attributes</a></div><div class="ttdeci">const action_attributes &amp; get_action_attributes(const std::string &amp;action_id, const std::string &amp;context=&quot;default&quot;, bool *overwrites_default=nullptr)</div><div class="ttdoc">Get the attributes of the action associated with an action ID by searching the given context and the ...</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00475">input.cpp:475</a></div></div>
<div class="ttc" id="astructaction__attributes_html"><div class="ttname"><a href="structaction__attributes.html">action_attributes</a></div><div class="ttdoc">A set of attributes for an action.</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00176">input.h:176</a></div></div>
<div class="ttc" id="astructaction__attributes_html_a91313c5e1dccebc2f7de00771ed01242"><div class="ttname"><a href="structaction__attributes.html#a91313c5e1dccebc2f7de00771ed01242">action_attributes::input_events</a></div><div class="ttdeci">std::vector&lt; input_event &gt; input_events</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00180">input.h:180</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8cpp_source.html#l00475">get_action_attributes()</a>, and <a class="el" href="input_8h_source.html#l00180">action_attributes::input_events</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00717">input_context::get_available_single_char_hotkeys()</a>, <a class="el" href="input_8cpp_source.html#l00750">input_context::get_desc()</a>, <a class="el" href="input_8cpp_source.html#l00468">get_first_char_for_action()</a>, <a class="el" href="input_8cpp_source.html#l00630">input_context::input_to_action()</a>, <a class="el" href="input_8cpp_source.html#l00691">input_context::keys_bound_to()</a>, and <a class="el" href="input_8cpp_source.html#l01396">input_context::press_x()</a>.</p>

</div>
</div>
<a id="a3f8e4b354bdbb12bf279231154ae9936" name="a3f8e4b354bdbb12bf279231154ae9936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f8e4b354bdbb12bf279231154ae9936">&#9670;&nbsp;</a></span>get_keycode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int input_manager::get_keycode </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the keycode associated with the given key name. </p>

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00397">397</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>{</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    <span class="keyword">const</span> t_name_to_key_map::const_iterator <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> = <a class="code hl_variable" href="classinput__manager.html#ae775b7ea3cee0f2db7edec895342f398">keyname_to_keycode</a>.find( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> != <a class="code hl_variable" href="classinput__manager.html#ae775b7ea3cee0f2db7edec895342f398">keyname_to_keycode</a>.end() ) {</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;second;</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    }</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    <span class="comment">// Not found in map, try to parse as int</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>.compare( 0, 8, <span class="stringliteral">&quot;UNKNOWN_&quot;</span> ) == 0 ) {</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="input_8cpp.html#aa47dbdb8d482981954b9f18b9da7e5ce">str_to_int</a>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>.substr( 8 ) );</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    }</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>}</div>
<div class="ttc" id="ainput_8cpp_html_aa47dbdb8d482981954b9f18b9da7e5ce"><div class="ttname"><a href="input_8cpp.html#aa47dbdb8d482981954b9f18b9da7e5ce">str_to_int</a></div><div class="ttdeci">static int str_to_int(const std::string &amp;number)</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00055">input.cpp:55</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a188caae18b60b66f9f44214c7e28ac1f"><div class="ttname"><a href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a></div><div class="ttdeci">constexpr double a</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01030">magic.cpp:1030</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01030">a</a>, <a class="el" href="input_8h_source.html#l00310">keyname_to_keycode</a>, <a class="el" href="overmap_8cpp_source.html#l04129">om_direction::name()</a>, and <a class="el" href="input_8cpp_source.html#l00055">str_to_int()</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00182">load()</a>.</p>

</div>
</div>
<a id="a1f6f368db01d071f88db23a13a4ffd2e" name="a1f6f368db01d071f88db23a13a4ffd2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f6f368db01d071f88db23a13a4ffd2e">&#9670;&nbsp;</a></span>get_keyname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string input_manager::get_keyname </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="input_8h.html#a7714eed017e41648533818b7ed636974">input_event_t</a>&#160;</td>
          <td class="paramname"><em>inp_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>portable</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the key name associated with the given keyboard keycode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td><a class="el" href="classCharacter.html">Character</a> code. </td></tr>
    <tr><td class="paramname">inp_type</td><td>Whether the keycode is a gamepad or a keyboard code. </td></tr>
    <tr><td class="paramname">portable</td><td>If true, return a language independent and portable name of the key. This acts as the inverse to get_keyname: <code>get_keyname(get_keycode(a), , true) == a</code> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00410">410</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>{</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    std::optional&lt;std::string&gt; raw;</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    <span class="keywordflow">if</span>( inp_type == <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a> ) {</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>        <span class="keyword">const</span> t_key_to_name_map::const_iterator <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> = <a class="code hl_variable" href="classinput__manager.html#a38afff8de7bed849176a99a3b50b16f7">keycode_to_keyname</a>.find( ch );</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> != <a class="code hl_variable" href="classinput__manager.html#a38afff8de7bed849176a99a3b50b16f7">keycode_to_keyname</a>.end() ) {</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="input_8h.html#a156f7255328fb79f96e2fd1a08d36ccf">IS_F_KEY</a>( ch ) ) {</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>                <span class="comment">// special case it since F&lt;num&gt; key names are generated using loop</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>                <span class="comment">// and not marked individually for translation</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>                <span class="keywordflow">if</span>( portable ) {</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>                    <span class="keywordflow">return</span> <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;second;</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>                    <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;function key name&quot;</span>, <span class="stringliteral">&quot;F%d&quot;</span> ), <a class="code hl_function" href="input_8h.html#ab5803744123ece1273fab04a54004261">F_KEY_NUM</a>( ch ) );</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>                }</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ch &gt;= <a class="code hl_variable" href="input_8cpp.html#af4a9083bd11952439066056c428b279b">char_key_beg</a> &amp;&amp; ch &lt;= <a class="code hl_variable" href="input_8cpp.html#afd959afe365e740ba951a78745ad5f96">char_key_end</a> &amp;&amp; ch != <span class="charliteral">&#39; &#39;</span> ) {</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>                <span class="comment">// character keys except space need no translation</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;second;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>            }</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>            raw = <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;second;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>        }</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( inp_type == <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974addb21d0c61e43f974b49dfe0fd793c9b">CATA_INPUT_MOUSE</a> ) {</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>        <span class="keywordflow">if</span>( ch == <a class="code hl_enumvalue" href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56ea3c2e62b97b30d850c5539d0f3a6d0958">MOUSE_BUTTON_LEFT</a> ) {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>            raw = <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;MOUSE_LEFT&quot;</span> );</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ch == <a class="code hl_enumvalue" href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56ea5b61e63e73f15ed6af97d5cd3124bc6f">MOUSE_BUTTON_RIGHT</a> ) {</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>            raw = <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;MOUSE_RIGHT&quot;</span> );</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ch == <a class="code hl_enumvalue" href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56eab7cc3b20f8cee2daec44e89f74c9fc10">SCROLLWHEEL_UP</a> ) {</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>            raw = <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;SCROLL_UP&quot;</span> );</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ch == <a class="code hl_enumvalue" href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56eaf84e5fcea13cbf7de4ed3cc99b086996">SCROLLWHEEL_DOWN</a> ) {</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>            raw = <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;SCROLL_DOWN&quot;</span> );</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ch == <a class="code hl_enumvalue" href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56ea7513d383f97428a41f8b44594874d469">MOUSE_MOVE</a> ) {</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>            raw = <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;MOUSE_MOVE&quot;</span> );</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        }</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( inp_type == <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a8414054836699de305ef1649ed5486e2">CATA_INPUT_GAMEPAD</a> ) {</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>        <span class="keyword">const</span> t_key_to_name_map::const_iterator <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> = <a class="code hl_variable" href="classinput__manager.html#af7ccd6ec63983d4ee8e87012d587fdda">gamepad_keycode_to_keyname</a>.find( ch );</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> != <a class="code hl_variable" href="classinput__manager.html#af7ccd6ec63983d4ee8e87012d587fdda">gamepad_keycode_to_keyname</a>.end() ) {</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>            raw = <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;second;</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        }</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>        raw = <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;UNKNOWN&quot;</span> );</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    }</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <span class="keywordflow">if</span>( !raw ) {</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>        <span class="keywordflow">if</span>( portable ) {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            <span class="keywordflow">return</span> std::string( <span class="stringliteral">&quot;UNKNOWN_&quot;</span> ) + <a class="code hl_function" href="input_8cpp.html#a7fdd00efdb53a25b55ce576024a696a7">int_to_str</a>( ch );</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        }</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;unknown key %ld&quot;</span> ), ch );</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    }</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    <span class="keywordflow">return</span> portable ? *raw : <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;key name&quot;</span>, raw-&gt;c_str() );</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>}</div>
<div class="ttc" id="ainput_8cpp_html_a7fdd00efdb53a25b55ce576024a696a7"><div class="ttname"><a href="input_8cpp.html#a7fdd00efdb53a25b55ce576024a696a7">int_to_str</a></div><div class="ttdeci">static std::string int_to_str(int number)</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00065">input.cpp:65</a></div></div>
<div class="ttc" id="ainput_8cpp_html_af4a9083bd11952439066056c428b279b"><div class="ttname"><a href="input_8cpp.html#af4a9083bd11952439066056c428b279b">char_key_beg</a></div><div class="ttdeci">constexpr int char_key_beg</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00337">input.cpp:337</a></div></div>
<div class="ttc" id="ainput_8cpp_html_afd959afe365e740ba951a78745ad5f96"><div class="ttname"><a href="input_8cpp.html#afd959afe365e740ba951a78745ad5f96">char_key_end</a></div><div class="ttdeci">constexpr int char_key_end</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00338">input.cpp:338</a></div></div>
<div class="ttc" id="ainput_8h_html_a156f7255328fb79f96e2fd1a08d36ccf"><div class="ttname"><a href="input_8h.html#a156f7255328fb79f96e2fd1a08d36ccf">IS_F_KEY</a></div><div class="ttdeci">constexpr bool IS_F_KEY(const int key)</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00053">input.h:53</a></div></div>
<div class="ttc" id="ainput_8h_html_a7714eed017e41648533818b7ed636974a8414054836699de305ef1649ed5486e2"><div class="ttname"><a href="input_8h.html#a7714eed017e41648533818b7ed636974a8414054836699de305ef1649ed5486e2">CATA_INPUT_GAMEPAD</a></div><div class="ttdeci">@ CATA_INPUT_GAMEPAD</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00079">input.h:79</a></div></div>
<div class="ttc" id="ainput_8h_html_a7e5f61c59f658d9196d15f3b98f1e56eab7cc3b20f8cee2daec44e89f74c9fc10"><div class="ttname"><a href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56eab7cc3b20f8cee2daec44e89f74c9fc10">SCROLLWHEEL_UP</a></div><div class="ttdeci">@ SCROLLWHEEL_UP</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00073">input.h:73</a></div></div>
<div class="ttc" id="ainput_8h_html_a7e5f61c59f658d9196d15f3b98f1e56eaf84e5fcea13cbf7de4ed3cc99b086996"><div class="ttname"><a href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56eaf84e5fcea13cbf7de4ed3cc99b086996">SCROLLWHEEL_DOWN</a></div><div class="ttdeci">@ SCROLLWHEEL_DOWN</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00073">input.h:73</a></div></div>
<div class="ttc" id="ainput_8h_html_ab5803744123ece1273fab04a54004261"><div class="ttname"><a href="input_8h.html#ab5803744123ece1273fab04a54004261">F_KEY_NUM</a></div><div class="ttdeci">constexpr int F_KEY_NUM(const int key)</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00049">input.h:49</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00431">string_formatter.h:431</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_af0c79b5c75a7cf2df78663485b03ed9a"><div class="ttname"><a href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a></div><div class="ttdeci">const char * pgettext(const char *context, const char *msgid)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00041">translations.cpp:41</a></div></div>
<div class="ttc" id="atranslations_8h_html_a9e39a96618079002323c6e554271d3e2"><div class="ttname"><a href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a></div><div class="ttdeci">#define translate_marker_context(c, x)</div><div class="ttdoc">Same as translate_marker, but also provides a context (string literal).</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00038">translations.h:38</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="magic_8cpp_source.html#l01030">a</a>, <a class="el" href="input_8h_source.html#l00079">CATA_INPUT_GAMEPAD</a>, <a class="el" href="input_8h_source.html#l00078">CATA_INPUT_KEYBOARD</a>, <a class="el" href="input_8h_source.html#l00080">CATA_INPUT_MOUSE</a>, <a class="el" href="input_8cpp_source.html#l00337">char_key_beg</a>, <a class="el" href="input_8cpp_source.html#l00338">char_key_end</a>, <a class="el" href="input_8h_source.html#l00049">F_KEY_NUM()</a>, <a class="el" href="input_8h_source.html#l00308">gamepad_keycode_to_keyname</a>, <a class="el" href="input_8cpp_source.html#l00065">int_to_str()</a>, <a class="el" href="input_8h_source.html#l00053">IS_F_KEY()</a>, <a class="el" href="input_8h_source.html#l00307">keycode_to_keyname</a>, <a class="el" href="input_8h_source.html#l00073">MOUSE_BUTTON_LEFT</a>, <a class="el" href="input_8h_source.html#l00073">MOUSE_BUTTON_RIGHT</a>, <a class="el" href="input_8h_source.html#l00073">MOUSE_MOVE</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, <a class="el" href="input_8h_source.html#l00073">SCROLLWHEEL_DOWN</a>, <a class="el" href="input_8h_source.html#l00073">SCROLLWHEEL_UP</a>, <a class="el" href="string__formatter_8h_source.html#l00431">string_format()</a>, and <a class="el" href="translations_8h_source.html#l00038">translate_marker_context</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00750">input_context::get_desc()</a>, <a class="el" href="handle__action_8cpp_source.html#l01528">game::handle_action()</a>, <a class="el" href="input_8cpp_source.html#l01396">input_context::press_x()</a>, and <a class="el" href="input_8cpp_source.html#l00271">save()</a>.</p>

</div>
</div>
<a id="ad38aeb1745f0ed694fbef9d8ef3a492c" name="ad38aeb1745f0ed694fbef9d8ef3a492c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad38aeb1745f0ed694fbef9d8ef3a492c">&#9670;&nbsp;</a></span>get_or_create_event_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinput__manager.html#a2ec51fbcbab6a7ee498387ec4e7d83e2">input_manager::t_input_event_list</a> &amp; input_manager::get_or_create_event_list </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>action_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00528">528</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>{</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    <span class="comment">// A new context is created in the event that the user creates a local</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <span class="comment">// keymapping in a context that doesn&#39;t yet exist e.g. a context without</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <span class="comment">// any pre-existing keybindings.</span></div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    <a class="code hl_typedef" href="classinput__manager.html#ae4b064e334ba0e8137f99c9cff5cdfe3">t_actions</a> &amp;actions = <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>[context];</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span> </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <span class="comment">// A new action is created in the event that the user creates a local</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    <span class="comment">// keymapping that masks a global one.</span></div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    <span class="keywordflow">if</span>( actions.find( action_descriptor ) == actions.end() ) {</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        <a class="code hl_struct" href="structaction__attributes.html">action_attributes</a> &amp;attributes = actions[action_descriptor];</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        attributes.<a class="code hl_variable" href="structaction__attributes.html#adf97b670376a1f7066e20fdb1105f4ca">name</a> = <a class="code hl_function" href="classinput__manager.html#a1f7ac0aef51420c50259be0396c697fe">get_default_action_name</a>( action_descriptor );</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>        attributes.<a class="code hl_variable" href="structaction__attributes.html#a808ec1f87b35cb88302d8e8cce4aa503">is_user_created</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    }</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span> </div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>    <span class="keywordflow">return</span> actions[action_descriptor].input_events;</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>}</div>
<div class="ttc" id="astructaction__attributes_html_a808ec1f87b35cb88302d8e8cce4aa503"><div class="ttname"><a href="structaction__attributes.html#a808ec1f87b35cb88302d8e8cce4aa503">action_attributes::is_user_created</a></div><div class="ttdeci">bool is_user_created</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00178">input.h:178</a></div></div>
<div class="ttc" id="astructaction__attributes_html_adf97b670376a1f7066e20fdb1105f4ca"><div class="ttname"><a href="structaction__attributes.html#adf97b670376a1f7066e20fdb1105f4ca">action_attributes::name</a></div><div class="ttdeci">translation name</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00179">input.h:179</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00304">action_contexts</a>, <a class="el" href="input_8cpp_source.html#l00512">get_default_action_name()</a>, <a class="el" href="input_8h_source.html#l00178">action_attributes::is_user_created</a>, and <a class="el" href="input_8h_source.html#l00179">action_attributes::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00573">add_input_for_action()</a>.</p>

</div>
</div>
<a id="adac068207a89179b89e95d31422c9991" name="adac068207a89179b89e95d31422c9991"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adac068207a89179b89e95d31422c9991">&#9670;&nbsp;</a></span>get_previously_pressed_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int input_manager::get_previously_pressed_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the previously pressed key, or 0 if there is no previous input or the previous input wasn't a key. </p>

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l01298">1298</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>{</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classinput__manager.html#ab6eb20ccdeab03473f47365cd836fb65">previously_pressed_key</a>;</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00313">previously_pressed_key</a>.</p>

</div>
</div>
<a id="a783f2a36d610b9c0e6815c436a4917c7" name="a783f2a36d610b9c0e6815c436a4917c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a783f2a36d610b9c0e6815c436a4917c7">&#9670;&nbsp;</a></span>get_timeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int input_manager::get_timeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00294">294</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>                                {</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classinput__manager.html#a95c5db86b27184868198ccc6d285de17">input_timeout</a>;</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00327">input_timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00853">input_context::handle_input()</a>, and <a class="el" href="main_8cpp_source.html#l00120">signal_handler()</a>.</p>

</div>
</div>
<a id="ab24c38af70d1715e73caa8fb54ffd88e" name="ab24c38af70d1715e73caa8fb54ffd88e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab24c38af70d1715e73caa8fb54ffd88e">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void input_manager::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the input manager, aka loads the input mapping configuration JSON. </p>

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00111">111</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>{</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    std::map&lt;char, action_id&gt; keymap;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    std::string keymap_file_loaded_from;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    std::set&lt;action_id&gt; unbound_keymap;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <a class="code hl_function" href="classinput__manager.html#a3a65df46bf37043db29ac4c5ba2ac594">init_keycode_mapping</a>();</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <a class="code hl_function" href="classinput__manager.html#a50b6cecac4efcad8792187f159c953f9">reset_timeout</a>();</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span> </div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="comment">// recursively load all keybindings from the data/raw directory</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_enumvalue" href="debug_8h.html#ad23721f303b059caeb1d8a751a39562ba8c7dd922ad47494fc02c388e12c00eac">file</a> : <a class="code hl_function" href="filesystem_8cpp.html#afe97147108a01af4c92a9744c919af8f">get_files_from_path</a>( <span class="stringliteral">&quot;.json&quot;</span>, <a class="code hl_function" href="namespacePATH__INFO.html#a1e9ba1a402f471d94423691877ec77f6">PATH_INFO::keybindingsdir</a>(), <span class="keyword">true</span>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>            <a class="code hl_function" href="classinput__manager.html#a719089e88c00c4b7888bf164094d733b">load</a>( <a class="code hl_enumvalue" href="debug_8h.html#ad23721f303b059caeb1d8a751a39562ba8c7dd922ad47494fc02c388e12c00eac">file</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonError.html">JsonError</a> &amp;err ) {</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>            <span class="keywordflow">throw</span> std::runtime_error( err.what() );</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>        }</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    }</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="comment">// user keybindings are searched from separate directory</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>        <a class="code hl_function" href="classinput__manager.html#a719089e88c00c4b7888bf164094d733b">load</a>( <a class="code hl_function" href="namespacePATH__INFO.html#a665749e046b646313e602eeb14be5336">PATH_INFO::user_keybindings</a>(), <span class="keyword">true</span> );</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonError.html">JsonError</a> &amp;err ) {</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>        <span class="keywordflow">throw</span> std::runtime_error( err.what() );</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    }</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="keywordflow">if</span>( keymap_file_loaded_from.empty() || ( keymap.empty() &amp;&amp; unbound_keymap.empty() ) ) {</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        <span class="comment">// No keymap file was loaded, or the file has no mappings and no unmappings,</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        <span class="comment">// we can skip the remaining part of the function, especially the save function</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    }</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <a class="code hl_typedef" href="classinput__manager.html#ae4b064e334ba0e8137f99c9cff5cdfe3">t_actions</a> &amp;actions = <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>[<span class="stringliteral">&quot;DEFAULTMODE&quot;</span>];</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    std::set&lt;action_id&gt; touched;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="keywordflow">for</span>( std::map&lt;char, action_id&gt;::const_iterator <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> = keymap.begin(); <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> != keymap.end(); ++<a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> ) {</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        <span class="keyword">const</span> std::string <a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a> = <a class="code hl_function" href="action_8cpp.html#a8b95de586fbd8f9ba7bb17f244a83689">action_ident</a>( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;second );</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        <span class="comment">// Put the binding from keymap either into the global context</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        <span class="comment">// (if an action with that ident already exists there - think movement keys)</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        <span class="comment">// or otherwise to the DEFAULTMODE context.</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>        std::string context = <span class="stringliteral">&quot;DEFAULTMODE&quot;</span>;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>[<a class="code hl_function" href="input_8cpp.html#af6b5281f3d5857bf3194c06000ebad6b">default_context_id</a>].<a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a>( <a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a> ) &gt; 0 ) {</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>            context = <a class="code hl_function" href="input_8cpp.html#af6b5281f3d5857bf3194c06000ebad6b">default_context_id</a>;</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( touched.count( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;second ) == 0 ) {</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>            <span class="comment">// Note: movement keys are somehow special as the default in keymap</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>            <span class="comment">// does not contain the arrow keys, so we don&#39;t clear existing keybindings</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>            <span class="comment">// for them.</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>            <span class="comment">// If the keymap contains a binding for this action, erase all the</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>            <span class="comment">// previously (default!) existing bindings, to only keep the bindings,</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>            <span class="comment">// the user is used to</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>            <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>[<a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a>].clear();</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>            touched.insert( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;second );</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>        }</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>        <a class="code hl_function" href="classinput__manager.html#aacde27ff6af00f3b0f12d66a77bf7c6c">add_input_for_action</a>( <a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a>, context, <a class="code hl_struct" href="structinput__event.html">input_event</a>( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;first, <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a> ) );</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    }</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="comment">// Unmap actions that are explicitly not mapped</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : unbound_keymap ) {</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        <span class="keyword">const</span> std::string <a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a> = <a class="code hl_function" href="action_8cpp.html#a8b95de586fbd8f9ba7bb17f244a83689">action_ident</a>( elem );</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>        actions[<a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a>].input_events.clear();</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    }</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">// Imported old bindings from old keymap file, save those to the new</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="comment">// keybindings.json file.</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>        <a class="code hl_function" href="classinput__manager.html#a3b3a44f990f977f3a8d24c4d148b294d">save</a>();</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    } <span class="keywordflow">catch</span>( std::exception &amp;err ) {</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Could not write imported keybindings: %s&quot;</span>, err.what() );</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    }</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="comment">// Finally if we did import a file, and saved it to the new keybindings</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="comment">// file, delete the old keymap file to prevent re-importing it.</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="keywordflow">if</span>( !keymap_file_loaded_from.empty() ) {</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        <a class="code hl_function" href="filesystem_8cpp.html#a14b29d9634a8f68f8e5dff308becebd4">remove_file</a>( keymap_file_loaded_from );</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    }</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>}</div>
<div class="ttc" id="aaction_8cpp_html_a8b95de586fbd8f9ba7bb17f244a83689"><div class="ttname"><a href="action_8cpp.html#a8b95de586fbd8f9ba7bb17f244a83689">action_ident</a></div><div class="ttdeci">std::string action_ident(action_id act)</div><div class="ttdoc">Lookup a unique string identifier for a given action ID.</div><div class="ttdef"><b>Definition:</b> <a href="action_8cpp_source.html#l00069">action.cpp:69</a></div></div>
<div class="ttc" id="aclassJsonError_html"><div class="ttname"><a href="classJsonError.html">JsonError</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00050">json.h:51</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a3a65df46bf37043db29ac4c5ba2ac594"><div class="ttname"><a href="classinput__manager.html#a3a65df46bf37043db29ac4c5ba2ac594">input_manager::init_keycode_mapping</a></div><div class="ttdeci">void init_keycode_mapping()</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00340">input.cpp:340</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a3b3a44f990f977f3a8d24c4d148b294d"><div class="ttname"><a href="classinput__manager.html#a3b3a44f990f977f3a8d24c4d148b294d">input_manager::save</a></div><div class="ttdeci">void save()</div><div class="ttdoc">Opposite of init, save the data that has been loaded by init, and possibly been modified.</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00271">input.cpp:271</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a50b6cecac4efcad8792187f159c953f9"><div class="ttname"><a href="classinput__manager.html#a50b6cecac4efcad8792187f159c953f9">input_manager::reset_timeout</a></div><div class="ttdeci">void reset_timeout()</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00291">input.h:291</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a719089e88c00c4b7888bf164094d733b"><div class="ttname"><a href="classinput__manager.html#a719089e88c00c4b7888bf164094d733b">input_manager::load</a></div><div class="ttdeci">void load(const std::string &amp;file_name, bool is_user_preferences)</div><div class="ttdoc">Load keybindings from a json file, override existing bindings.</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00182">input.cpp:182</a></div></div>
<div class="ttc" id="aclassinput__manager_html_aacde27ff6af00f3b0f12d66a77bf7c6c"><div class="ttname"><a href="classinput__manager.html#aacde27ff6af00f3b0f12d66a77bf7c6c">input_manager::add_input_for_action</a></div><div class="ttdeci">void add_input_for_action(const std::string &amp;action_descriptor, const std::string &amp;context, const input_event &amp;event)</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00573">input.cpp:573</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="adebug_8h_html_ad23721f303b059caeb1d8a751a39562ba8c7dd922ad47494fc02c388e12c00eac"><div class="ttname"><a href="debug_8h.html#ad23721f303b059caeb1d8a751a39562ba8c7dd922ad47494fc02c388e12c00eac">DebugOutput::file</a></div><div class="ttdeci">@ file</div></div>
<div class="ttc" id="afilesystem_8cpp_html_a14b29d9634a8f68f8e5dff308becebd4"><div class="ttname"><a href="filesystem_8cpp.html#a14b29d9634a8f68f8e5dff308becebd4">remove_file</a></div><div class="ttdeci">bool remove_file(const std::string &amp;path)</div><div class="ttdoc">Remove a file.</div><div class="ttdef"><b>Definition:</b> <a href="filesystem_8cpp_source.html#l00089">filesystem.cpp:89</a></div></div>
<div class="ttc" id="afilesystem_8cpp_html_afe97147108a01af4c92a9744c919af8f"><div class="ttname"><a href="filesystem_8cpp.html#afe97147108a01af4c92a9744c919af8f">get_files_from_path</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_files_from_path(const std::string &amp;pattern, const std::string &amp;root_path, const bool recursive_search, const bool match_extension)</div><div class="ttdoc">Returns a vector of files or directories matching pattern at root_path.</div><div class="ttdef"><b>Definition:</b> <a href="filesystem_8cpp_source.html#l00366">filesystem.cpp:366</a></div></div>
<div class="ttc" id="anamespacePATH__INFO_html_a1e9ba1a402f471d94423691877ec77f6"><div class="ttname"><a href="namespacePATH__INFO.html#a1e9ba1a402f471d94423691877ec77f6">PATH_INFO::keybindingsdir</a></div><div class="ttdeci">std::string keybindingsdir()</div><div class="ttdef"><b>Definition:</b> <a href="path__info_8cpp_source.html#l00210">path_info.cpp:210</a></div></div>
<div class="ttc" id="anamespacePATH__INFO_html_a665749e046b646313e602eeb14be5336"><div class="ttname"><a href="namespacePATH__INFO.html#a665749e046b646313e602eeb14be5336">PATH_INFO::user_keybindings</a></div><div class="ttdeci">std::string user_keybindings()</div><div class="ttdef"><b>Definition:</b> <a href="path__info_8cpp_source.html#l00266">path_info.cpp:266</a></div></div>
<div class="ttc" id="anamespacedetail_html_ab2f84fb3de26acdac3fc63a2dce5ea5e"><div class="ttname"><a href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">detail::count</a></div><div class="ttdeci">constexpr size_t count()</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__core_8h_source.html#l01073">fmtlib_core.h:1073</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01030">a</a>, <a class="el" href="input_8h_source.html#l00304">action_contexts</a>, <a class="el" href="action_8cpp_source.html#l00069">action_ident()</a>, <a class="el" href="input_8cpp_source.html#l00573">add_input_for_action()</a>, <a class="el" href="input_8h_source.html#l00078">CATA_INPUT_KEYBOARD</a>, <a class="el" href="fmtlib__core_8h_source.html#l01073">detail::count()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="input_8cpp.html#af6b5281f3d5857bf3194c06000ebad6b">default_context_id()</a>, <a class="el" href="debug_8h.html#ad23721f303b059caeb1d8a751a39562ba8c7dd922ad47494fc02c388e12c00eac">file</a>, <a class="el" href="filesystem_8cpp_source.html#l00366">get_files_from_path()</a>, <a class="el" href="input_8cpp_source.html#l00340">init_keycode_mapping()</a>, <a class="el" href="path__info_8cpp_source.html#l00210">PATH_INFO::keybindingsdir()</a>, <a class="el" href="input_8cpp_source.html#l00182">load()</a>, <a class="el" href="filesystem_8cpp_source.html#l00089">remove_file()</a>, <a class="el" href="input_8h_source.html#l00291">reset_timeout()</a>, <a class="el" href="input_8cpp_source.html#l00271">save()</a>, and <a class="el" href="path__info_8cpp_source.html#l00266">PATH_INFO::user_keybindings()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l00339">game::load_static_data()</a>.</p>

</div>
</div>
<a id="a3a65df46bf37043db29ac4c5ba2ac594" name="a3a65df46bf37043db29ac4c5ba2ac594"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a65df46bf37043db29ac4c5ba2ac594">&#9670;&nbsp;</a></span>init_keycode_mapping()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void input_manager::init_keycode_mapping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00340">340</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>{</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    <span class="comment">// Between space and tilde, all keys more or less map</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <span class="comment">// to themselves(see ASCII table)</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <span class="keywordflow">for</span>( <span class="keywordtype">char</span> <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> = <a class="code hl_variable" href="input_8cpp.html#af4a9083bd11952439066056c428b279b">char_key_beg</a>; <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> &lt;= <a class="code hl_variable" href="input_8cpp.html#afd959afe365e740ba951a78745ad5f96">char_key_end</a>; <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>++ ) {</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        std::string <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>( 1, <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> );</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    }</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span> </div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <span class="charliteral">&#39;\t&#39;</span>,          <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;TAB&quot;</span> ) );</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_variable" href="input_8h.html#a46add43309f000c3734e6b3474724581">KEY_BTAB</a>,      <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;BACKTAB&quot;</span> ) );</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <span class="charliteral">&#39; &#39;</span>,           <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;SPACE&quot;</span> ) );</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_variable" href="input_8h.html#af4f9cc98a80e8e792d91d13ef7036005">KEY_UP</a>,        <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;UP&quot;</span> ) );</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_variable" href="input_8h.html#af3b3462a5f8df1b9fae4c8dec239bc76">KEY_DOWN</a>,      <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;DOWN&quot;</span> ) );</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_variable" href="input_8h.html#a7f98a32a40edbfcb172d2b4dde581f2c">KEY_LEFT</a>,      <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;LEFT&quot;</span> ) );</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_variable" href="input_8h.html#aef82d50d6bc11e0fa4b39c47c2129952">KEY_RIGHT</a>,     <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;RIGHT&quot;</span> ) );</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_variable" href="input_8h.html#a3eb5e354329f66eddf45515dedadfc14">KEY_NPAGE</a>,     <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;NPAGE&quot;</span> ) );</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_variable" href="input_8h.html#a6759cfc3c55dcda34effc92014d899e3">KEY_PPAGE</a>,     <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;PPAGE&quot;</span> ) );</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_variable" href="input_8h.html#a4b401effe387ffb86753e0d294e25921">KEY_ESCAPE</a>,    <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;ESC&quot;</span> ) );</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_variable" href="input_8h.html#a68a8c5541dd85e1870ddd2450a896cb3">KEY_BACKSPACE</a>, <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;BACKSPACE&quot;</span> ) );</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_variable" href="input_8h.html#aea29fc0b83c1bfd7ed22cd3fd393309d">KEY_HOME</a>,      <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;HOME&quot;</span> ) );</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_variable" href="input_8h.html#ac005234f3da16e6581094aeb6efcbda3">KEY_BREAK</a>,     <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;BREAK&quot;</span> ) );</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_variable" href="input_8h.html#aa23f27bba0dea2abede275e7aa5a2704">KEY_END</a>,       <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;END&quot;</span> ) );</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <span class="charliteral">&#39;\n&#39;</span>,          <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;RETURN&quot;</span> ) );</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span> </div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    <span class="comment">// function keys, as defined by ncurses</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = <a class="code hl_variable" href="input_8h.html#aaba1550eba291a6dc20d5d224a7e5c1b">F_KEY_NUM_BEG</a>; i &lt;= <a class="code hl_variable" href="input_8h.html#af3c8b2cf5025982326b298c2853a9f31">F_KEY_NUM_END</a>; i++ ) {</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>        <span class="comment">// not marked for translation here, but specially handled in get_keyname so</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>        <span class="comment">// it gets properly translated.</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        <a class="code hl_function" href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">add_keycode_pair</a>( <a class="code hl_function" href="input_8h.html#a69101dce789c9f46ff6f5ba023a6ac17">KEY_F</a>( i ), <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;F%d&quot;</span>, i ) );</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    }</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span> </div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#a5b41c548ba97989b473f6393b9c2c7f1">JOY_LEFT</a>,      <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_LEFT&quot;</span> ) );</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#a59c1b2e5c6856ed044ba0635102fd995">JOY_RIGHT</a>,     <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_RIGHT&quot;</span> ) );</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#a85e47af11e6a32e3a819f247d9f619d6">JOY_UP</a>,        <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_UP&quot;</span> ) );</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#a950e3ba6cd65c992b92f36b837c52a0a">JOY_DOWN</a>,      <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_DOWN&quot;</span> ) );</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#a8652df8af8a63eb892cb37a3e17c42a9">JOY_LEFTUP</a>,    <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_LEFTUP&quot;</span> ) );</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#a2d978f97bc94de22c70a467b8c99601b">JOY_LEFTDOWN</a>,  <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_LEFTDOWN&quot;</span> ) );</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#a2aef865eab8b2637d2c159e7ebf79b4f">JOY_RIGHTUP</a>,   <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_RIGHTUP&quot;</span> ) );</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#ac9b1d7c1b4f49119dda90b1a227158eb">JOY_RIGHTDOWN</a>, <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_RIGHTDOWN&quot;</span> ) );</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span> </div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#aa11f1ac5600d27c753abab763352c87a">JOY_0</a>,         <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_0&quot;</span> ) );</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#af724869611fc9ce05f32571d3e0eadde">JOY_1</a>,         <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_1&quot;</span> ) );</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#a2d3dd135c43947efa070730df87bd41d">JOY_2</a>,         <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_2&quot;</span> ) );</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#a8a7e2107d1c9644e24c46ff05a116b2f">JOY_3</a>,         <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_3&quot;</span> ) );</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#aa2d467ee49c0bd3b811d17bf59abf673">JOY_4</a>,         <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_4&quot;</span> ) );</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#a6003ce4306204508334fcc5958701af5">JOY_5</a>,         <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_5&quot;</span> ) );</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#aee5ea9f806cb413c8e0e3df6aba154cc">JOY_6</a>,         <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_6&quot;</span> ) );</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    <a class="code hl_function" href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">add_gamepad_keycode_pair</a>( <a class="code hl_define" href="input_8h.html#a02ee47c0f87fb35ac6f63315b352485f">JOY_7</a>,         <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;key name&quot;</span>, <span class="stringliteral">&quot;JOY_7&quot;</span> ) );</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span> </div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    <a class="code hl_variable" href="classinput__manager.html#ae775b7ea3cee0f2db7edec895342f398">keyname_to_keycode</a>[<span class="stringliteral">&quot;MOUSE_LEFT&quot;</span>] = <a class="code hl_enumvalue" href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56ea3c2e62b97b30d850c5539d0f3a6d0958">MOUSE_BUTTON_LEFT</a>;</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <a class="code hl_variable" href="classinput__manager.html#ae775b7ea3cee0f2db7edec895342f398">keyname_to_keycode</a>[<span class="stringliteral">&quot;MOUSE_RIGHT&quot;</span>] = <a class="code hl_enumvalue" href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56ea5b61e63e73f15ed6af97d5cd3124bc6f">MOUSE_BUTTON_RIGHT</a>;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <a class="code hl_variable" href="classinput__manager.html#ae775b7ea3cee0f2db7edec895342f398">keyname_to_keycode</a>[<span class="stringliteral">&quot;SCROLL_UP&quot;</span>] = <a class="code hl_enumvalue" href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56eab7cc3b20f8cee2daec44e89f74c9fc10">SCROLLWHEEL_UP</a>;</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <a class="code hl_variable" href="classinput__manager.html#ae775b7ea3cee0f2db7edec895342f398">keyname_to_keycode</a>[<span class="stringliteral">&quot;SCROLL_DOWN&quot;</span>] = <a class="code hl_enumvalue" href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56eaf84e5fcea13cbf7de4ed3cc99b086996">SCROLLWHEEL_DOWN</a>;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <a class="code hl_variable" href="classinput__manager.html#ae775b7ea3cee0f2db7edec895342f398">keyname_to_keycode</a>[<span class="stringliteral">&quot;MOUSE_MOVE&quot;</span>] = <a class="code hl_enumvalue" href="input_8h.html#a7e5f61c59f658d9196d15f3b98f1e56ea7513d383f97428a41f8b44594874d469">MOUSE_MOVE</a>;</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>}</div>
<div class="ttc" id="aclassinput__manager_html_a4f89478f6ee0295fa4b887f2322cd3f8"><div class="ttname"><a href="classinput__manager.html#a4f89478f6ee0295fa4b887f2322cd3f8">input_manager::add_gamepad_keycode_pair</a></div><div class="ttdeci">void add_gamepad_keycode_pair(int ch, const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00331">input.cpp:331</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a87f83698ed3723a101530f5f4d253712"><div class="ttname"><a href="classinput__manager.html#a87f83698ed3723a101530f5f4d253712">input_manager::add_keycode_pair</a></div><div class="ttdeci">void add_keycode_pair(int ch, const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00325">input.cpp:325</a></div></div>
<div class="ttc" id="ainput_8h_html_a02ee47c0f87fb35ac6f63315b352485f"><div class="ttname"><a href="input_8h.html#a02ee47c0f87fb35ac6f63315b352485f">JOY_7</a></div><div class="ttdeci">#define JOY_7</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00195">input.h:195</a></div></div>
<div class="ttc" id="ainput_8h_html_a2aef865eab8b2637d2c159e7ebf79b4f"><div class="ttname"><a href="input_8h.html#a2aef865eab8b2637d2c159e7ebf79b4f">JOY_RIGHTUP</a></div><div class="ttdeci">#define JOY_RIGHTUP</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00201">input.h:201</a></div></div>
<div class="ttc" id="ainput_8h_html_a2d3dd135c43947efa070730df87bd41d"><div class="ttname"><a href="input_8h.html#a2d3dd135c43947efa070730df87bd41d">JOY_2</a></div><div class="ttdeci">#define JOY_2</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00190">input.h:190</a></div></div>
<div class="ttc" id="ainput_8h_html_a2d978f97bc94de22c70a467b8c99601b"><div class="ttname"><a href="input_8h.html#a2d978f97bc94de22c70a467b8c99601b">JOY_LEFTDOWN</a></div><div class="ttdeci">#define JOY_LEFTDOWN</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00204">input.h:204</a></div></div>
<div class="ttc" id="ainput_8h_html_a3eb5e354329f66eddf45515dedadfc14"><div class="ttname"><a href="input_8h.html#a3eb5e354329f66eddf45515dedadfc14">KEY_NPAGE</a></div><div class="ttdeci">static constexpr int KEY_NPAGE</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00061">input.h:61</a></div></div>
<div class="ttc" id="ainput_8h_html_a46add43309f000c3734e6b3474724581"><div class="ttname"><a href="input_8h.html#a46add43309f000c3734e6b3474724581">KEY_BTAB</a></div><div class="ttdeci">static constexpr int KEY_BTAB</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00064">input.h:64</a></div></div>
<div class="ttc" id="ainput_8h_html_a4b401effe387ffb86753e0d294e25921"><div class="ttname"><a href="input_8h.html#a4b401effe387ffb86753e0d294e25921">KEY_ESCAPE</a></div><div class="ttdeci">static constexpr int KEY_ESCAPE</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00028">input.h:28</a></div></div>
<div class="ttc" id="ainput_8h_html_a59c1b2e5c6856ed044ba0635102fd995"><div class="ttname"><a href="input_8h.html#a59c1b2e5c6856ed044ba0635102fd995">JOY_RIGHT</a></div><div class="ttdeci">#define JOY_RIGHT</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00198">input.h:198</a></div></div>
<div class="ttc" id="ainput_8h_html_a5b41c548ba97989b473f6393b9c2c7f1"><div class="ttname"><a href="input_8h.html#a5b41c548ba97989b473f6393b9c2c7f1">JOY_LEFT</a></div><div class="ttdeci">#define JOY_LEFT</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00197">input.h:197</a></div></div>
<div class="ttc" id="ainput_8h_html_a6003ce4306204508334fcc5958701af5"><div class="ttname"><a href="input_8h.html#a6003ce4306204508334fcc5958701af5">JOY_5</a></div><div class="ttdeci">#define JOY_5</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00193">input.h:193</a></div></div>
<div class="ttc" id="ainput_8h_html_a6759cfc3c55dcda34effc92014d899e3"><div class="ttname"><a href="input_8h.html#a6759cfc3c55dcda34effc92014d899e3">KEY_PPAGE</a></div><div class="ttdeci">static constexpr int KEY_PPAGE</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00062">input.h:62</a></div></div>
<div class="ttc" id="ainput_8h_html_a69101dce789c9f46ff6f5ba023a6ac17"><div class="ttname"><a href="input_8h.html#a69101dce789c9f46ff6f5ba023a6ac17">KEY_F</a></div><div class="ttdeci">constexpr int KEY_F(const int n)</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00043">input.h:43</a></div></div>
<div class="ttc" id="ainput_8h_html_a7f98a32a40edbfcb172d2b4dde581f2c"><div class="ttname"><a href="input_8h.html#a7f98a32a40edbfcb172d2b4dde581f2c">KEY_LEFT</a></div><div class="ttdeci">static constexpr int KEY_LEFT</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00035">input.h:35</a></div></div>
<div class="ttc" id="ainput_8h_html_a85e47af11e6a32e3a819f247d9f619d6"><div class="ttname"><a href="input_8h.html#a85e47af11e6a32e3a819f247d9f619d6">JOY_UP</a></div><div class="ttdeci">#define JOY_UP</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00199">input.h:199</a></div></div>
<div class="ttc" id="ainput_8h_html_a8652df8af8a63eb892cb37a3e17c42a9"><div class="ttname"><a href="input_8h.html#a8652df8af8a63eb892cb37a3e17c42a9">JOY_LEFTUP</a></div><div class="ttdeci">#define JOY_LEFTUP</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00203">input.h:203</a></div></div>
<div class="ttc" id="ainput_8h_html_a8a7e2107d1c9644e24c46ff05a116b2f"><div class="ttname"><a href="input_8h.html#a8a7e2107d1c9644e24c46ff05a116b2f">JOY_3</a></div><div class="ttdeci">#define JOY_3</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00191">input.h:191</a></div></div>
<div class="ttc" id="ainput_8h_html_a950e3ba6cd65c992b92f36b837c52a0a"><div class="ttname"><a href="input_8h.html#a950e3ba6cd65c992b92f36b837c52a0a">JOY_DOWN</a></div><div class="ttdeci">#define JOY_DOWN</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00200">input.h:200</a></div></div>
<div class="ttc" id="ainput_8h_html_aa11f1ac5600d27c753abab763352c87a"><div class="ttname"><a href="input_8h.html#aa11f1ac5600d27c753abab763352c87a">JOY_0</a></div><div class="ttdeci">#define JOY_0</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00188">input.h:188</a></div></div>
<div class="ttc" id="ainput_8h_html_aa23f27bba0dea2abede275e7aa5a2704"><div class="ttname"><a href="input_8h.html#aa23f27bba0dea2abede275e7aa5a2704">KEY_END</a></div><div class="ttdeci">static constexpr int KEY_END</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00065">input.h:65</a></div></div>
<div class="ttc" id="ainput_8h_html_aa2d467ee49c0bd3b811d17bf59abf673"><div class="ttname"><a href="input_8h.html#aa2d467ee49c0bd3b811d17bf59abf673">JOY_4</a></div><div class="ttdeci">#define JOY_4</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00192">input.h:192</a></div></div>
<div class="ttc" id="ainput_8h_html_aaba1550eba291a6dc20d5d224a7e5c1b"><div class="ttname"><a href="input_8h.html#aaba1550eba291a6dc20d5d224a7e5c1b">F_KEY_NUM_BEG</a></div><div class="ttdeci">static constexpr int F_KEY_NUM_BEG</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00047">input.h:47</a></div></div>
<div class="ttc" id="ainput_8h_html_ac005234f3da16e6581094aeb6efcbda3"><div class="ttname"><a href="input_8h.html#ac005234f3da16e6581094aeb6efcbda3">KEY_BREAK</a></div><div class="ttdeci">static constexpr int KEY_BREAK</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00031">input.h:31</a></div></div>
<div class="ttc" id="ainput_8h_html_ac9b1d7c1b4f49119dda90b1a227158eb"><div class="ttname"><a href="input_8h.html#ac9b1d7c1b4f49119dda90b1a227158eb">JOY_RIGHTDOWN</a></div><div class="ttdeci">#define JOY_RIGHTDOWN</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00202">input.h:202</a></div></div>
<div class="ttc" id="ainput_8h_html_aea29fc0b83c1bfd7ed22cd3fd393309d"><div class="ttname"><a href="input_8h.html#aea29fc0b83c1bfd7ed22cd3fd393309d">KEY_HOME</a></div><div class="ttdeci">static constexpr int KEY_HOME</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00037">input.h:37</a></div></div>
<div class="ttc" id="ainput_8h_html_aee5ea9f806cb413c8e0e3df6aba154cc"><div class="ttname"><a href="input_8h.html#aee5ea9f806cb413c8e0e3df6aba154cc">JOY_6</a></div><div class="ttdeci">#define JOY_6</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00194">input.h:194</a></div></div>
<div class="ttc" id="ainput_8h_html_aef82d50d6bc11e0fa4b39c47c2129952"><div class="ttname"><a href="input_8h.html#aef82d50d6bc11e0fa4b39c47c2129952">KEY_RIGHT</a></div><div class="ttdeci">static constexpr int KEY_RIGHT</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00036">input.h:36</a></div></div>
<div class="ttc" id="ainput_8h_html_af3b3462a5f8df1b9fae4c8dec239bc76"><div class="ttname"><a href="input_8h.html#af3b3462a5f8df1b9fae4c8dec239bc76">KEY_DOWN</a></div><div class="ttdeci">static constexpr int KEY_DOWN</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00033">input.h:33</a></div></div>
<div class="ttc" id="ainput_8h_html_af3c8b2cf5025982326b298c2853a9f31"><div class="ttname"><a href="input_8h.html#af3c8b2cf5025982326b298c2853a9f31">F_KEY_NUM_END</a></div><div class="ttdeci">static constexpr int F_KEY_NUM_END</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00048">input.h:48</a></div></div>
<div class="ttc" id="ainput_8h_html_af4f9cc98a80e8e792d91d13ef7036005"><div class="ttname"><a href="input_8h.html#af4f9cc98a80e8e792d91d13ef7036005">KEY_UP</a></div><div class="ttdeci">static constexpr int KEY_UP</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00034">input.h:34</a></div></div>
<div class="ttc" id="ainput_8h_html_af724869611fc9ce05f32571d3e0eadde"><div class="ttname"><a href="input_8h.html#af724869611fc9ce05f32571d3e0eadde">JOY_1</a></div><div class="ttdeci">#define JOY_1</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00189">input.h:189</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01032">magic.cpp:1032</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8cpp_source.html#l00331">add_gamepad_keycode_pair()</a>, <a class="el" href="input_8cpp_source.html#l00325">add_keycode_pair()</a>, <a class="el" href="magic_8cpp_source.html#l01032">c</a>, <a class="el" href="input_8cpp_source.html#l00337">char_key_beg</a>, <a class="el" href="input_8cpp_source.html#l00338">char_key_end</a>, <a class="el" href="input_8h_source.html#l00047">F_KEY_NUM_BEG</a>, <a class="el" href="input_8h_source.html#l00048">F_KEY_NUM_END</a>, <a class="el" href="input_8h_source.html#l00188">JOY_0</a>, <a class="el" href="input_8h_source.html#l00189">JOY_1</a>, <a class="el" href="input_8h_source.html#l00190">JOY_2</a>, <a class="el" href="input_8h_source.html#l00191">JOY_3</a>, <a class="el" href="input_8h_source.html#l00192">JOY_4</a>, <a class="el" href="input_8h_source.html#l00193">JOY_5</a>, <a class="el" href="input_8h_source.html#l00194">JOY_6</a>, <a class="el" href="input_8h_source.html#l00195">JOY_7</a>, <a class="el" href="input_8h_source.html#l00200">JOY_DOWN</a>, <a class="el" href="input_8h_source.html#l00197">JOY_LEFT</a>, <a class="el" href="input_8h_source.html#l00204">JOY_LEFTDOWN</a>, <a class="el" href="input_8h_source.html#l00203">JOY_LEFTUP</a>, <a class="el" href="input_8h_source.html#l00198">JOY_RIGHT</a>, <a class="el" href="input_8h_source.html#l00202">JOY_RIGHTDOWN</a>, <a class="el" href="input_8h_source.html#l00201">JOY_RIGHTUP</a>, <a class="el" href="input_8h_source.html#l00199">JOY_UP</a>, <a class="el" href="input_8h_source.html#l00039">KEY_BACKSPACE</a>, <a class="el" href="input_8h_source.html#l00031">KEY_BREAK</a>, <a class="el" href="input_8h_source.html#l00064">KEY_BTAB</a>, <a class="el" href="input_8h_source.html#l00033">KEY_DOWN</a>, <a class="el" href="input_8h_source.html#l00065">KEY_END</a>, <a class="el" href="input_8h_source.html#l00028">KEY_ESCAPE</a>, <a class="el" href="input_8h_source.html#l00043">KEY_F()</a>, <a class="el" href="input_8h_source.html#l00037">KEY_HOME</a>, <a class="el" href="input_8h_source.html#l00035">KEY_LEFT</a>, <a class="el" href="input_8h_source.html#l00061">KEY_NPAGE</a>, <a class="el" href="input_8h_source.html#l00062">KEY_PPAGE</a>, <a class="el" href="input_8h_source.html#l00036">KEY_RIGHT</a>, <a class="el" href="input_8h_source.html#l00034">KEY_UP</a>, <a class="el" href="input_8h_source.html#l00310">keyname_to_keycode</a>, <a class="el" href="input_8h_source.html#l00073">MOUSE_BUTTON_LEFT</a>, <a class="el" href="input_8h_source.html#l00073">MOUSE_BUTTON_RIGHT</a>, <a class="el" href="input_8h_source.html#l00073">MOUSE_MOVE</a>, <a class="el" href="overmap_8cpp_source.html#l04129">om_direction::name()</a>, <a class="el" href="input_8h_source.html#l00073">SCROLLWHEEL_DOWN</a>, <a class="el" href="input_8h_source.html#l00073">SCROLLWHEEL_UP</a>, <a class="el" href="string__formatter_8h_source.html#l00431">string_format()</a>, and <a class="el" href="translations_8h_source.html#l00038">translate_marker_context</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00111">init()</a>.</p>

</div>
</div>
<a id="a719089e88c00c4b7888bf164094d733b" name="a719089e88c00c4b7888bf164094d733b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a719089e88c00c4b7888bf164094d733b">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void input_manager::load </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_user_preferences</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load keybindings from a json file, override existing bindings. </p>
<p >Throws std::string on errors </p>

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00182">182</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>{</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    std::ifstream data_file( file_name.c_str(), std::ifstream::in | std::ifstream::binary );</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keywordflow">if</span>( !data_file.good() ) {</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        <span class="comment">// Only throw if this is the first file to load, that file _must_ exist,</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        <span class="comment">// otherwise the keybindings can not be read at all.</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>.empty() ) {</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>            <span class="keywordflow">throw</span> std::runtime_error( std::string( <span class="stringliteral">&quot;Could not read &quot;</span> ) + file_name );</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>        }</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    }</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span> </div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <a class="code hl_class" href="classJsonIn.html">JsonIn</a> jsin( data_file, file_name );</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span> </div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="comment">//Crawl through once and create an entry for every definition</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    jsin.start_array();</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="keywordflow">while</span>( !jsin.end_array() ) {</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        <span class="comment">// JSON object representing the action</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        <a class="code hl_class" href="classJsonObject.html">JsonObject</a> <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = jsin.get_object();</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">type</a> = <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>.get_string( <span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;keybinding&quot;</span> );</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">type</a> != <span class="stringliteral">&quot;keybinding&quot;</span> ) {</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Only objects of type &#39;keybinding&#39; (not %s) should appear in the &quot;</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>                      <span class="stringliteral">&quot;keybindings file &#39;%s&#39;&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, file_name );</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        }</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>        <span class="keyword">const</span> std::string <a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a> = <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>.get_string( <span class="stringliteral">&quot;id&quot;</span> );</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        <span class="keyword">const</span> std::string context = <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>.get_string( <span class="stringliteral">&quot;category&quot;</span>, <a class="code hl_function" href="input_8cpp.html#af6b5281f3d5857bf3194c06000ebad6b">default_context_id</a> );</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        <a class="code hl_typedef" href="classinput__manager.html#ae4b064e334ba0e8137f99c9cff5cdfe3">t_actions</a> &amp;actions = <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>[context];</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        <span class="keywordflow">if</span>( !is_user_preferences &amp;&amp; <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>.has_member( <span class="stringliteral">&quot;name&quot;</span> ) ) {</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>            <span class="comment">// Action names are not user preferences. Some experimental builds</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>            <span class="comment">// post-0.A had written action names into the user preferences</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>            <span class="comment">// config file. Any names that exist in user preferences will be</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>            <span class="comment">// ignored.</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>            <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>.read( <span class="stringliteral">&quot;name&quot;</span>, actions[<a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a>].<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>        }</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>        <a class="code hl_typedef" href="classinput__manager.html#a2ec51fbcbab6a7ee498387ec4e7d83e2">t_input_event_list</a> events;</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> keybinding : <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>.get_array( <span class="stringliteral">&quot;bindings&quot;</span> ) ) {</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>            std::string input_method = keybinding.get_string( <span class="stringliteral">&quot;input_method&quot;</span> );</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>            <a class="code hl_struct" href="structinput__event.html">input_event</a> new_event;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>            <span class="keywordflow">if</span>( input_method == <span class="stringliteral">&quot;keyboard&quot;</span> ) {</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>                new_event.<a class="code hl_variable" href="structinput__event.html#afa9e110af2c2ac3eefd1ffa4e8c8d469">type</a> = <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a>;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( input_method == <span class="stringliteral">&quot;gamepad&quot;</span> ) {</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>                new_event.<a class="code hl_variable" href="structinput__event.html#afa9e110af2c2ac3eefd1ffa4e8c8d469">type</a> = <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a8414054836699de305ef1649ed5486e2">CATA_INPUT_GAMEPAD</a>;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( input_method == <span class="stringliteral">&quot;mouse&quot;</span> ) {</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>                new_event.<a class="code hl_variable" href="structinput__event.html#afa9e110af2c2ac3eefd1ffa4e8c8d469">type</a> = <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974addb21d0c61e43f974b49dfe0fd793c9b">CATA_INPUT_MOUSE</a>;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>            }</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>            <span class="keywordflow">if</span>( keybinding.has_array( <span class="stringliteral">&quot;key&quot;</span> ) ) {</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string <a class="code hl_function" href="mapgen_8cpp.html#a7a9bb2e98af3268deb7dd8fda06a7d2e">line</a> : keybinding.get_array( <span class="stringliteral">&quot;key&quot;</span> ) ) {</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>                    new_event.<a class="code hl_variable" href="structinput__event.html#a343e2146133dfc743895676f122f7ae1">sequence</a>.push_back( <a class="code hl_function" href="classinput__manager.html#a3f8e4b354bdbb12bf279231154ae9936">get_keycode</a>( <a class="code hl_function" href="mapgen_8cpp.html#a7a9bb2e98af3268deb7dd8fda06a7d2e">line</a> ) );</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>                }</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>            } <span class="keywordflow">else</span> { <span class="comment">// assume string if not array, and throw if not string</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>                new_event.<a class="code hl_variable" href="structinput__event.html#a343e2146133dfc743895676f122f7ae1">sequence</a>.push_back(</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>                    <a class="code hl_function" href="classinput__manager.html#a3f8e4b354bdbb12bf279231154ae9936">get_keycode</a>( keybinding.get_string( <span class="stringliteral">&quot;key&quot;</span> ) )</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>                );</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>            }</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>            events.push_back( new_event );</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        }</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        <span class="comment">// An invariant of this class is that user-created, local keybindings</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <span class="comment">// with an empty set of input_events do not exist in the</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        <span class="comment">// action_contexts map. In prior versions of this class, this was not</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>        <span class="comment">// true, so users of experimental builds post-0.A will have empty</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        <span class="comment">// local keybindings saved in their keybindings.json config.</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        <span class="comment">//</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        <span class="comment">// To be backwards compatible with keybindings.json from prior</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        <span class="comment">// experimental builds, we will detect user-created, local keybindings</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>        <span class="comment">// with empty input_events and disregard them. When keybindings are</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        <span class="comment">// later saved, these remnants won&#39;t be saved.</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>        <span class="keywordflow">if</span>( !is_user_preferences ||</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>            !events.empty() ||</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>            context == <a class="code hl_function" href="input_8cpp.html#af6b5281f3d5857bf3194c06000ebad6b">default_context_id</a> ||</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>            actions.count( <a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a> ) &gt; 0 ) {</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>            <span class="comment">// In case this is the second file containing user preferences,</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>            <span class="comment">// this replaces the default bindings with the user&#39;s preferences.</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>            <a class="code hl_struct" href="structaction__attributes.html">action_attributes</a> &amp;attributes = actions[<a class="code hl_enumeration" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a>];</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>            attributes.<a class="code hl_variable" href="structaction__attributes.html#a91313c5e1dccebc2f7de00771ed01242">input_events</a> = events;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>.has_member( <span class="stringliteral">&quot;is_user_created&quot;</span> ) ) {</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>                attributes.<a class="code hl_variable" href="structaction__attributes.html#a808ec1f87b35cb88302d8e8cce4aa503">is_user_created</a> = <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>.get_bool( <span class="stringliteral">&quot;is_user_created&quot;</span> );</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>            }</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>        }</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    }</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>}</div>
<div class="ttc" id="aclassJsonIn_html"><div class="ttname"><a href="classJsonIn.html">JsonIn</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00171">json.h:172</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00826">json.h:827</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a3f8e4b354bdbb12bf279231154ae9936"><div class="ttname"><a href="classinput__manager.html#a3f8e4b354bdbb12bf279231154ae9936">input_manager::get_keycode</a></div><div class="ttdeci">int get_keycode(const std::string &amp;name) const</div><div class="ttdoc">Get the keycode associated with the given key name.</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00397">input.cpp:397</a></div></div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a></div><div class="ttdeci">@ type</div></div>
<div class="ttc" id="amapgen_8cpp_html_a7a9bb2e98af3268deb7dd8fda06a7d2e"><div class="ttname"><a href="mapgen_8cpp.html#a7a9bb2e98af3268deb7dd8fda06a7d2e">line</a></div><div class="ttdeci">void line(map *m, const ter_id &amp;type, point p1, point p2)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l06289">mapgen.cpp:6289</a></div></div>
<div class="ttc" id="astructinput__event_html_a343e2146133dfc743895676f122f7ae1"><div class="ttname"><a href="structinput__event.html#a343e2146133dfc743895676f122f7ae1">input_event::sequence</a></div><div class="ttdeci">std::vector&lt; int &gt; sequence</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00097">input.h:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00036">action</a>, <a class="el" href="input_8h_source.html#l00304">action_contexts</a>, <a class="el" href="input_8h_source.html#l00079">CATA_INPUT_GAMEPAD</a>, <a class="el" href="input_8h_source.html#l00078">CATA_INPUT_KEYBOARD</a>, <a class="el" href="input_8h_source.html#l00080">CATA_INPUT_MOUSE</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="input_8cpp.html#af6b5281f3d5857bf3194c06000ebad6b">default_context_id()</a>, <a class="el" href="json_8cpp_source.html#l01457">JsonIn::end_array()</a>, <a class="el" href="input_8cpp_source.html#l00397">get_keycode()</a>, <a class="el" href="json_8cpp_source.html#l01432">JsonIn::get_object()</a>, <a class="el" href="input_8h_source.html#l00180">action_attributes::input_events</a>, <a class="el" href="input_8h_source.html#l00178">action_attributes::is_user_created</a>, <a class="el" href="mapgen_8cpp_source.html#l06289">line()</a>, <a class="el" href="overmap_8cpp_source.html#l04129">om_direction::name()</a>, <a class="el" href="input_8h_source.html#l00097">input_event::sequence</a>, <a class="el" href="json_8cpp_source.html#l01441">JsonIn::start_array()</a>, <a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, and <a class="el" href="input_8h_source.html#l00092">input_event::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00111">init()</a>.</p>

</div>
</div>
<a id="a56fd029f8ad1ca3dcd864a6bb5537045" name="a56fd029f8ad1ca3dcd864a6bb5537045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56fd029f8ad1ca3dcd864a6bb5537045">&#9670;&nbsp;</a></span>pump_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void input_manager::pump_events </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resize &amp; refresh if necessary, process all pending window events, and ignore keypresses. </p>

<p class="definition">Definition at line <a class="el" href="ncurses__def_8cpp_source.html#l00252">252</a> of file <a class="el" href="ncurses__def_8cpp_source.html">ncurses_def.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>{</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="cached__options_8cpp.html#a07c66893ce868671f9998dad80094cb1">test_mode</a> ) {</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    }</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span> </div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <span class="comment">// Handle all events, but ignore any keypress</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="keywordtype">int</span> key = ERR;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    <span class="keywordtype">bool</span> resize = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> prev_timeout = <a class="code hl_variable" href="classinput__manager.html#a95c5db86b27184868198ccc6d285de17">input_timeout</a>;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <a class="code hl_function" href="classinput__manager.html#a71fe921eef2db73b8a665a187eb7e526">set_timeout</a>( 0 );</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        key = getch();</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        <span class="keywordflow">if</span>( key == KEY_RESIZE ) {</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>            resize = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>        }</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    } <span class="keywordflow">while</span>( key != ERR );</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <a class="code hl_function" href="classinput__manager.html#a71fe921eef2db73b8a665a187eb7e526">set_timeout</a>( prev_timeout );</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <span class="keywordflow">if</span>( resize ) {</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        <a class="code hl_function" href="namespacecatacurses.html#a5e3d87563c99055c3a89fae235b305a4">catacurses::resizeterm</a>();</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    }</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <a class="code hl_variable" href="classinput__manager.html#ab6eb20ccdeab03473f47365cd836fb65">previously_pressed_key</a> = 0;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>}</div>
<div class="ttc" id="acached__options_8cpp_html_a07c66893ce868671f9998dad80094cb1"><div class="ttname"><a href="cached__options_8cpp.html#a07c66893ce868671f9998dad80094cb1">test_mode</a></div><div class="ttdeci">bool test_mode</div><div class="ttdoc">Set to true when running in test mode (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00003">cached_options.cpp:3</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00327">input_timeout</a>, <a class="el" href="input_8h_source.html#l00313">previously_pressed_key</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00217">catacurses::resizeterm()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00375">set_timeout()</a>, and <a class="el" href="cached__options_8cpp_source.html#l00003">test_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="debug__menu_8cpp_source.html#l01314">debug_menu::benchmark()</a>, <a class="el" href="mapgen_8cpp_source.html#l00375">calculate_mapgen_weights()</a>, <a class="el" href="item__factory_8cpp_source.html#l01120">Item_factory::check_definitions()</a>, <a class="el" href="construction_8cpp_source.html#l00223">constructions::finalize()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00360">recipe_dictionary::finalize_internal()</a>, <a class="el" href="game_8cpp_source.html#l09791">game::fling_creature()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00472">Character::hardcoded_effects()</a>, <a class="el" href="gamemode__defense_8cpp_source.html#l00224">defense_game::init_map()</a>, <a class="el" href="map_8cpp_source.html#l06749">map::load()</a>, <a class="el" href="init_8cpp_source.html#l00509">DynamicDataLoader::load_all_from_json()</a>, <a class="el" href="init_8cpp_source.html#l00159">DynamicDataLoader::load_deferred()</a>, <a class="el" href="map_8cpp_source.html#l00579">map::move_vehicle()</a>, <a class="el" href="iuse__software__kitten_8cpp_source.html#l00418">robot_finds_kitten::process_input()</a>, <a class="el" href="animation_8cpp_source.html#l00061">anonymous_namespace{animation.cpp}::basic_animation::progress()</a>, <a class="el" href="monattack_8cpp_source.html#l02593">mattack::ranged_pull()</a>, <a class="el" href="mapbuffer_8cpp_source.html#l00098">mapbuffer::save()</a>, <a class="el" href="mapgen_8cpp_source.html#l00322">mapgen_factory::setup()</a>, <a class="el" href="loading__ui_8cpp_source.html#l00076">loading_ui::show()</a>, and <a class="el" href="savegame_8cpp_source.html#l00167">game::unserialize()</a>.</p>

</div>
</div>
<a id="aadc9531489aa2b4c34afb1ee575cf2e3" name="aadc9531489aa2b4c34afb1ee575cf2e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadc9531489aa2b4c34afb1ee575cf2e3">&#9670;&nbsp;</a></span>remove_input_for_action()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void input_manager::remove_input_for_action </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>action_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00547">547</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>{</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    <span class="keyword">const</span> t_action_contexts::iterator action_context = <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>.find( context );</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    <span class="keywordflow">if</span>( action_context != <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>.end() ) {</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>        <a class="code hl_typedef" href="classinput__manager.html#ae4b064e334ba0e8137f99c9cff5cdfe3">t_actions</a> &amp;actions = action_context-&gt;second;</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        t_actions::iterator <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = actions.find( action_descriptor );</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> != actions.end() ) {</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>-&gt;second.is_user_created ) {</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>                <span class="comment">// Since this is a user created hotkey, remove it so that the</span></div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>                <span class="comment">// user will fallback to the hotkey in the default context.</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>                actions.erase( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> );</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>                <span class="comment">// If a context no longer has any keybindings remaining for an action but</span></div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>                <span class="comment">// there&#39;s an attempt to remove bindings anyway, presumably the user wants</span></div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                <span class="comment">// to fully remove the binding from that context.</span></div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>-&gt;second.input_events.empty() ) {</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>                    actions.erase( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> );</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>                    <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>-&gt;second.input_events.clear();</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>                }</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>            }</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>        }</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    }</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00036">action</a>, and <a class="el" href="input_8h_source.html#l00304">action_contexts</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00993">input_context::display_menu()</a>.</p>

</div>
</div>
<a id="a50b6cecac4efcad8792187f159c953f9" name="a50b6cecac4efcad8792187f159c953f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50b6cecac4efcad8792187f159c953f9">&#9670;&nbsp;</a></span>reset_timeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void input_manager::reset_timeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00291">291</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>                             {</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>            <a class="code hl_function" href="classinput__manager.html#a71fe921eef2db73b8a665a187eb7e526">set_timeout</a>( -1 );</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ncurses__def_8cpp_source.html#l00375">set_timeout()</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00853">input_context::handle_input()</a>, <a class="el" href="animation_8cpp_source.html#l00589">anonymous_namespace{animation.cpp}::hit_animation()</a>, <a class="el" href="input_8cpp_source.html#l00111">init()</a>, and <a class="el" href="main_8cpp_source.html#l00120">signal_handler()</a>.</p>

</div>
</div>
<a id="a3b3a44f990f977f3a8d24c4d148b294d" name="a3b3a44f990f977f3a8d24c4d148b294d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b3a44f990f977f3a8d24c4d148b294d">&#9670;&nbsp;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void input_manager::save </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opposite of <a class="el" href="namespaceinit.html">init</a>, save the data that has been loaded by <a class="el" href="namespaceinit.html">init</a>, and possibly been modified. </p>

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l00271">271</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>{</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <a class="code hl_function" href="cata__utility_8cpp.html#a622c5bbf103e24e414fea34574eb68a8">write_to_file</a>( <a class="code hl_function" href="namespacePATH__INFO.html#a665749e046b646313e602eeb14be5336">PATH_INFO::user_keybindings</a>(), [&amp;]( std::ostream &amp; data_file ) {</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        <a class="code hl_class" href="classJsonOut.html">JsonOut</a> jsout( data_file, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> </div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        jsout.start_array();</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        <span class="keywordflow">for</span>( t_action_contexts::const_iterator <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> = <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>.begin(); <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> != <a class="code hl_variable" href="classinput__manager.html#acb45709d299609fa432efc60cf57830a">action_contexts</a>.end();</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>             ++<a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> ) {</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="classinput__manager.html#ae4b064e334ba0e8137f99c9cff5cdfe3">t_actions</a> &amp;actions = <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;second;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> : actions ) {</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>                <span class="keyword">const</span> <a class="code hl_typedef" href="classinput__manager.html#a2ec51fbcbab6a7ee498387ec4e7d83e2">t_input_event_list</a> &amp;events = <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>.second.input_events;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>                jsout.start_object();</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>                jsout.member( <span class="stringliteral">&quot;id&quot;</span>, <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>.first );</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>                jsout.member( <span class="stringliteral">&quot;category&quot;</span>, <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;first );</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>                <span class="keywordtype">bool</span> is_user_created = <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>.second.is_user_created;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>                <span class="keywordflow">if</span>( is_user_created ) {</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>                    jsout.member( <span class="stringliteral">&quot;is_user_created&quot;</span>, is_user_created );</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>                }</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span> </div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>                jsout.member( <span class="stringliteral">&quot;bindings&quot;</span> );</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>                jsout.start_array();</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;event : events ) {</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>                    jsout.start_object();</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>                    <span class="keywordflow">switch</span>( event.type ) {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a>:</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>                            jsout.member( <span class="stringliteral">&quot;input_method&quot;</span>, <span class="stringliteral">&quot;keyboard&quot;</span> );</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a8414054836699de305ef1649ed5486e2">CATA_INPUT_GAMEPAD</a>:</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                            jsout.member( <span class="stringliteral">&quot;input_method&quot;</span>, <span class="stringliteral">&quot;gamepad&quot;</span> );</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974addb21d0c61e43f974b49dfe0fd793c9b">CATA_INPUT_MOUSE</a>:</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                            jsout.member( <span class="stringliteral">&quot;input_method&quot;</span>, <span class="stringliteral">&quot;mouse&quot;</span> );</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>                        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>                            <span class="keywordflow">throw</span> std::runtime_error( <span class="stringliteral">&quot;unknown input_event_t&quot;</span> );</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>                    }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>                    jsout.member( <span class="stringliteral">&quot;key&quot;</span> );</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>                    jsout.start_array();</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>                    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; <span class="keyword">event</span>.sequence.size(); i++ ) {</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>                        jsout.write( <a class="code hl_function" href="classinput__manager.html#a1f6f368db01d071f88db23a13a4ffd2e">get_keyname</a>( event.sequence[i], event.type, <span class="keyword">true</span> ) );</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>                    }</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>                    jsout.end_array();</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>                    jsout.end_object();</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>                }</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>                jsout.end_array();</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span> </div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>                jsout.end_object();</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>            }</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>        }</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>        jsout.end_array();</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    }, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;key bindings configuration&quot;</span> ) );</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>}</div>
<div class="ttc" id="acata__utility_8cpp_html_a622c5bbf103e24e414fea34574eb68a8"><div class="ttname"><a href="cata__utility_8cpp.html#a622c5bbf103e24e414fea34574eb68a8">write_to_file</a></div><div class="ttdeci">void write_to_file(const std::string &amp;path, const std::function&lt; void(std::ostream &amp;)&gt; &amp;writer)</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00454">cata_utility.cpp:454</a></div></div>
<div class="ttc" id="aclassJsonOut_html"><div class="ttname"><a href="classJsonOut.html">JsonOut</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00574">json.h:575</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a1f6f368db01d071f88db23a13a4ffd2e"><div class="ttname"><a href="classinput__manager.html#a1f6f368db01d071f88db23a13a4ffd2e">input_manager::get_keyname</a></div><div class="ttdeci">std::string get_keyname(int ch, input_event_t inp_type, bool portable=false) const</div><div class="ttdoc">Get the key name associated with the given keyboard keycode.</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00410">input.cpp:410</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="magic_8cpp_source.html#l01030">a</a>, <a class="el" href="dialogue_8h_source.html#l00036">action</a>, <a class="el" href="input_8h_source.html#l00304">action_contexts</a>, <a class="el" href="input_8h_source.html#l00079">CATA_INPUT_GAMEPAD</a>, <a class="el" href="input_8h_source.html#l00078">CATA_INPUT_KEYBOARD</a>, <a class="el" href="input_8h_source.html#l00080">CATA_INPUT_MOUSE</a>, <a class="el" href="json_8cpp_source.html#l02150">JsonOut::end_array()</a>, <a class="el" href="json_8cpp_source.html#l02131">JsonOut::end_object()</a>, <a class="el" href="input_8cpp_source.html#l00410">get_keyname()</a>, <a class="el" href="json_8cpp_source.html#l02235">JsonOut::member()</a>, <a class="el" href="json_8cpp_source.html#l02139">JsonOut::start_array()</a>, <a class="el" href="json_8cpp_source.html#l02120">JsonOut::start_object()</a>, <a class="el" href="path__info_8cpp_source.html#l00266">PATH_INFO::user_keybindings()</a>, <a class="el" href="json_8h_source.html#l00615">JsonOut::write()</a>, and <a class="el" href="cata__utility_8cpp_source.html#l00454">write_to_file()</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00993">input_context::display_menu()</a>, and <a class="el" href="input_8cpp_source.html#l00111">init()</a>.</p>

</div>
</div>
<a id="a71fe921eef2db73b8a665a187eb7e526" name="a71fe921eef2db73b8a665a187eb7e526"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71fe921eef2db73b8a665a187eb7e526">&#9670;&nbsp;</a></span>set_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void input_manager::set_timeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets global input polling timeout as appropriate for the current interface system. </p>
<p >Use <code><a class="el" href="classinput__context.html" title="Represents a context in which a set of actions can be performed.">input_context</a>::(re)<a class="el" href="classinput__manager.html#a71fe921eef2db73b8a665a187eb7e526" title="Sets global input polling timeout as appropriate for the current interface system.">set_timeout()</a></code> when possible so timeout will be properly reset when entering a new input context. </p>

<p class="definition">Definition at line <a class="el" href="ncurses__def_8cpp_source.html#l00375">375</a> of file <a class="el" href="ncurses__def_8cpp_source.html">ncurses_def.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>{</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    timeout( delay );</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <span class="comment">// Use this to determine when curses should return a CATA_INPUT_TIMEOUT event.</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <a class="code hl_variable" href="classinput__manager.html#a95c5db86b27184868198ccc6d285de17">input_timeout</a> = delay;</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00327">input_timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="ncurses__def_8cpp_source.html#l00277">get_input_event()</a>, <a class="el" href="input_8cpp_source.html#l00853">input_context::handle_input()</a>, <a class="el" href="animation_8cpp_source.html#l00589">anonymous_namespace{animation.cpp}::hit_animation()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00252">pump_events()</a>, <a class="el" href="input_8h_source.html#l00291">reset_timeout()</a>, and <a class="el" href="main_8cpp_source.html#l00120">signal_handler()</a>.</p>

</div>
</div>
<a id="af67f44919ce10e30e3197d45a341dbc9" name="af67f44919ce10e30e3197d45a341dbc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af67f44919ce10e30e3197d45a341dbc9">&#9670;&nbsp;</a></span>wait_for_any_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void input_manager::wait_for_any_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until the user presses a key. </p>
<p >Mouse and similar input is ignored, only input events from the keyboard are considered. </p>

<p class="definition">Definition at line <a class="el" href="input_8cpp_source.html#l01303">1303</a> of file <a class="el" href="input_8cpp_source.html">input.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>{</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span><span class="preprocessor">#if defined(__ANDROID__)</span></div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>    <a class="code hl_class" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;WAIT_FOR_ANY_KEY&quot;</span> );</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structinput__event.html">input_event</a> evt = <a class="code hl_variable" href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a>.<a class="code hl_function" href="classinput__manager.html#ad550fec9aad772e44f497bf29f845739">get_input_event</a>();</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>        <span class="keywordflow">switch</span>( evt.<a class="code hl_variable" href="structinput__event.html#afa9e110af2c2ac3eefd1ffa4e8c8d469">type</a> ) {</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a>:</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>                <span class="keywordflow">if</span>( !evt.<a class="code hl_variable" href="structinput__event.html#a343e2146133dfc743895676f122f7ae1">sequence</a>.empty() ) {</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>                }</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>            <span class="comment">// errors are accepted as well to avoid an infinite loop</span></div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a9493b2f19022b0a377f839377423d0de">CATA_INPUT_ERROR</a>:</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>        }</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>    }</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>}</div>
<div class="ttc" id="aclassinput__context_html"><div class="ttname"><a href="classinput__context.html">input_context</a></div><div class="ttdoc">Represents a context in which a set of actions can be performed.</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00381">input.h:382</a></div></div>
<div class="ttc" id="aclassinput__manager_html_ad550fec9aad772e44f497bf29f845739"><div class="ttname"><a href="classinput__manager.html#ad550fec9aad772e44f497bf29f845739">input_manager::get_input_event</a></div><div class="ttdeci">input_event get_input_event()</div><div class="ttdoc">curses getch() replacement.</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00277">ncurses_def.cpp:277</a></div></div>
<div class="ttc" id="ainput_8cpp_html_af16c50890fa8503efa899fc3b6de56d7"><div class="ttname"><a href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a></div><div class="ttdeci">input_manager inp_mngr</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00109">input.cpp:109</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00076">CATA_INPUT_ERROR</a>, <a class="el" href="input_8h_source.html#l00078">CATA_INPUT_KEYBOARD</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00277">get_input_event()</a>, <a class="el" href="input_8cpp_source.html#l00109">inp_mngr</a>, <a class="el" href="input_8h_source.html#l00097">input_event::sequence</a>, and <a class="el" href="input_8h_source.html#l00092">input_event::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="debug__menu_8cpp_source.html#l01384">debug_menu::debug()</a>, <a class="el" href="game_8cpp_source.html#l11173">game::display_scent()</a>, and <a class="el" href="computer__session_8cpp_source.html#l01532">computer_session::query_any()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="aec6ca7fead0b329b5e042f04fa44ba3f" name="aec6ca7fead0b329b5e042f04fa44ba3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec6ca7fead0b329b5e042f04fa44ba3f">&#9670;&nbsp;</a></span>input_context</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classinput__context.html">input_context</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00299">299</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="acb45709d299609fa432efc60cf57830a" name="acb45709d299609fa432efc60cf57830a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb45709d299609fa432efc60cf57830a">&#9670;&nbsp;</a></span>action_contexts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinput__manager.html#ab71f2535192f07f6baf1e6013c15f325">t_action_contexts</a> input_manager::action_contexts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00304">304</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00600">input_context::clear_conflicting_keybindings()</a>, <a class="el" href="input_8cpp_source.html#l00993">input_context::display_menu()</a>, <a class="el" href="input_8cpp_source.html#l00475">get_action_attributes()</a>, <a class="el" href="input_8cpp_source.html#l00512">get_default_action_name()</a>, <a class="el" href="input_8cpp_source.html#l00528">get_or_create_event_list()</a>, <a class="el" href="input_8cpp_source.html#l00111">init()</a>, <a class="el" href="input_8cpp_source.html#l00182">load()</a>, <a class="el" href="input_8cpp_source.html#l00547">remove_input_for_action()</a>, and <a class="el" href="input_8cpp_source.html#l00271">save()</a>.</p>

</div>
</div>
<a id="af7ccd6ec63983d4ee8e87012d587fdda" name="af7ccd6ec63983d4ee8e87012d587fdda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7ccd6ec63983d4ee8e87012d587fdda">&#9670;&nbsp;</a></span>gamepad_keycode_to_keyname</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinput__manager.html#abba3681ffeda986edeb6f11c644a9073">t_key_to_name_map</a> input_manager::gamepad_keycode_to_keyname</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00308">308</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00331">add_gamepad_keycode_pair()</a>, and <a class="el" href="input_8cpp_source.html#l00410">get_keyname()</a>.</p>

</div>
</div>
<a id="a95c5db86b27184868198ccc6d285de17" name="a95c5db86b27184868198ccc6d285de17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95c5db86b27184868198ccc6d285de17">&#9670;&nbsp;</a></span>input_timeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int input_manager::input_timeout</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00327">327</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ncurses__def_8cpp_source.html#l00277">get_input_event()</a>, <a class="el" href="input_8h_source.html#l00294">get_timeout()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00252">pump_events()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00375">set_timeout()</a>.</p>

</div>
</div>
<a id="a38afff8de7bed849176a99a3b50b16f7" name="a38afff8de7bed849176a99a3b50b16f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38afff8de7bed849176a99a3b50b16f7">&#9670;&nbsp;</a></span>keycode_to_keyname</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinput__manager.html#abba3681ffeda986edeb6f11c644a9073">t_key_to_name_map</a> input_manager::keycode_to_keyname</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00307">307</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00325">add_keycode_pair()</a>, and <a class="el" href="input_8cpp_source.html#l00410">get_keyname()</a>.</p>

</div>
</div>
<a id="ae775b7ea3cee0f2db7edec895342f398" name="ae775b7ea3cee0f2db7edec895342f398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae775b7ea3cee0f2db7edec895342f398">&#9670;&nbsp;</a></span>keyname_to_keycode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinput__manager.html#a83c820601a369cb88573aa09446ce55f">t_name_to_key_map</a> input_manager::keyname_to_keycode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00310">310</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="input_8cpp_source.html#l00331">add_gamepad_keycode_pair()</a>, <a class="el" href="input_8cpp_source.html#l00325">add_keycode_pair()</a>, <a class="el" href="input_8cpp_source.html#l00397">get_keycode()</a>, and <a class="el" href="input_8cpp_source.html#l00340">init_keycode_mapping()</a>.</p>

</div>
</div>
<a id="ab6eb20ccdeab03473f47365cd836fb65" name="ab6eb20ccdeab03473f47365cd836fb65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6eb20ccdeab03473f47365cd836fb65">&#9670;&nbsp;</a></span>previously_pressed_key</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int input_manager::previously_pressed_key</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="input_8h_source.html#l00313">313</a> of file <a class="el" href="input_8h_source.html">input.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ncurses__def_8cpp_source.html#l00277">get_input_event()</a>, <a class="el" href="input_8cpp_source.html#l01298">get_previously_pressed_key()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00252">pump_events()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="input_8h_source.html">input.h</a></li>
<li>src/<a class="el" href="input_8cpp_source.html">input.cpp</a></li>
<li>src/<a class="el" href="ncurses__def_8cpp_source.html">ncurses_def.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classinput__manager.html">input_manager</a></li>
    <li class="footer">Generated on Wed Sep 13 2023 02:58:06 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
