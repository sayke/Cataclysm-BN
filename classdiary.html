<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: diary Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classdiary.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classdiary-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">diary Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>diary is connected to the player avatar.  
 <a href="classdiary.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="diary_8h_source.html">diary.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a86422a12599b8270949114da84153288"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a86422a12599b8270949114da84153288">diary</a> ()</td></tr>
<tr class="separator:a86422a12599b8270949114da84153288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90a98b4baa9604353f14fb6b54e2b5ab"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a90a98b4baa9604353f14fb6b54e2b5ab">~diary</a> ()=default</td></tr>
<tr class="separator:a90a98b4baa9604353f14fb6b54e2b5ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ca50176a183179503d64dd627035c41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a7ca50176a183179503d64dd627035c41">death_entry</a> ()</td></tr>
<tr class="separator:a7ca50176a183179503d64dd627035c41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7941d21aab55904c3fad41332e3ff90f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a7941d21aab55904c3fad41332e3ff90f">store</a> ()</td></tr>
<tr class="separator:a7941d21aab55904c3fad41332e3ff90f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09cb51c0f59fd2def93eaac8a0ebc20f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a09cb51c0f59fd2def93eaac8a0ebc20f">load</a> ()</td></tr>
<tr class="separator:a09cb51c0f59fd2def93eaac8a0ebc20f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4172f93b61f99c02ef8a359b4daedc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a6d4172f93b61f99c02ef8a359b4daedc">serialize</a> (std::ostream &amp;fout)</td></tr>
<tr class="separator:a6d4172f93b61f99c02ef8a359b4daedc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89fc35a3512d10c4309fd3f7259ccb3f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a89fc35a3512d10c4309fd3f7259ccb3f">deserialize</a> (std::istream &amp;fin)</td></tr>
<tr class="separator:a89fc35a3512d10c4309fd3f7259ccb3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dc65d3f14d229ced80d6a0d37040f4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a1dc65d3f14d229ced80d6a0d37040f4d">deserialize</a> (<a class="el" href="classJsonIn.html">JsonIn</a> &amp;jsin)</td></tr>
<tr class="separator:a1dc65d3f14d229ced80d6a0d37040f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06443969896266eb913c97ce8031c86b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a06443969896266eb913c97ce8031c86b">serialize</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;jsout)</td></tr>
<tr class="separator:a06443969896266eb913c97ce8031c86b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a66d05a576c8306885cb621ef7995e625"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a66d05a576c8306885cb621ef7995e625">show_diary_ui</a> (<a class="el" href="classdiary.html">diary</a> *c_diary)</td></tr>
<tr class="separator:a66d05a576c8306885cb621ef7995e625"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a5828b8fb6180e37f932a666b0900dc08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a5828b8fb6180e37f932a666b0900dc08">edit_page_ui</a> ()</td></tr>
<tr class="separator:a5828b8fb6180e37f932a666b0900dc08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0b9c6e242815fa528bdadf4e2a678c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#aa0b9c6e242815fa528bdadf4e2a678c2">edit_page_ui</a> (const std::function&lt; <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>()&gt; &amp;create_window)</td></tr>
<tr class="separator:aa0b9c6e242815fa528bdadf4e2a678c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6469b5ff715938a500d7dde5cb68803"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#af6469b5ff715938a500d7dde5cb68803">set_opened_page</a> (int page_number)</td></tr>
<tr class="separator:af6469b5ff715938a500d7dde5cb68803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48a0cea09069099df5f5100a385ae3db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a48a0cea09069099df5f5100a385ae3db">new_page</a> ()</td></tr>
<tr class="separator:a48a0cea09069099df5f5100a385ae3db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae91bc2c692491781357f10d8968a4d39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#ae91bc2c692491781357f10d8968a4d39">set_page_text</a> (std::string text)</td></tr>
<tr class="separator:ae91bc2c692491781357f10d8968a4d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a366422f3e1571b56a7eb25b2aa4fcbda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a366422f3e1571b56a7eb25b2aa4fcbda">delete_page</a> ()</td></tr>
<tr class="separator:a366422f3e1571b56a7eb25b2aa4fcbda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a258954db4774907392c34f72e97d4276"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a258954db4774907392c34f72e97d4276">get_pages_list</a> ()</td></tr>
<tr class="separator:a258954db4774907392c34f72e97d4276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f04f66b87bac6fe12e292805908071c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a6f04f66b87bac6fe12e292805908071c">get_change_list</a> ()</td></tr>
<tr class="separator:a6f04f66b87bac6fe12e292805908071c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8673546132edabe134be1168c73ea4"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a4d8673546132edabe134be1168c73ea4">get_desc_map</a> ()</td></tr>
<tr class="separator:a4d8673546132edabe134be1168c73ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa20c00b8b9dd1a1375f85d40e205d488"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdiary__page.html">diary_page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a> (int offset=0)</td></tr>
<tr class="separator:aa20c00b8b9dd1a1375f85d40e205d488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafbfa5ecd902193a34752d16009b2b0e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#aafbfa5ecd902193a34752d16009b2b0e">get_page_text</a> ()</td></tr>
<tr class="separator:aafbfa5ecd902193a34752d16009b2b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d5fd9bc9fb7a6f88ab90d2a39997b2b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a6d5fd9bc9fb7a6f88ab90d2a39997b2b">get_head_text</a> ()</td></tr>
<tr class="separator:a6d5fd9bc9fb7a6f88ab90d2a39997b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf3223f044433acc53d75b76a0c771c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#aaf3223f044433acc53d75b76a0c771c3">skill_changes</a> ()</td></tr>
<tr class="separator:aaf3223f044433acc53d75b76a0c771c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6a0abb001ad2a79c20ecf2cb7d1b6bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#ae6a0abb001ad2a79c20ecf2cb7d1b6bd">kill_changes</a> ()</td></tr>
<tr class="separator:ae6a0abb001ad2a79c20ecf2cb7d1b6bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f11125e72e6d7feff26ced914142a85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a6f11125e72e6d7feff26ced914142a85">trait_changes</a> ()</td></tr>
<tr class="separator:a6f11125e72e6d7feff26ced914142a85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaefc266f94c291a2b97f81730b3eedd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#afaefc266f94c291a2b97f81730b3eedd">bionic_changes</a> ()</td></tr>
<tr class="separator:afaefc266f94c291a2b97f81730b3eedd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9025dec5b103cd066b8bdb8e45f2027f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a9025dec5b103cd066b8bdb8e45f2027f">stat_changes</a> ()</td></tr>
<tr class="separator:a9025dec5b103cd066b8bdb8e45f2027f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8078f58e8ccb22dbed7f3da9f524cc57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a8078f58e8ccb22dbed7f3da9f524cc57">mission_changes</a> ()</td></tr>
<tr class="separator:a8078f58e8ccb22dbed7f3da9f524cc57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ff278fdf400df7ead4de72650753ffb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a5ff278fdf400df7ead4de72650753ffb">spell_changes</a> ()</td></tr>
<tr class="separator:a5ff278fdf400df7ead4de72650753ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b9c43c07534e0c3416b3a049ce67bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#af3b9c43c07534e0c3416b3a049ce67bb">martial_art_changes</a> ()</td></tr>
<tr class="separator:af3b9c43c07534e0c3416b3a049ce67bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f109b4d98dab7838eb2056cff3c8481"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a0f109b4d98dab7838eb2056cff3c8481">max_power_level_changes</a> ()</td></tr>
<tr class="separator:a0f109b4d98dab7838eb2056cff3c8481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd7808ad7a0b97e48b7de3910b666f44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#acd7808ad7a0b97e48b7de3910b666f44">export_to_md</a> (bool last_export=false)</td></tr>
<tr class="separator:acd7808ad7a0b97e48b7de3910b666f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4426882dbdd1c00b9e3481c027aa1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a> (std::string entry, std::string desc=&quot;&quot;)</td></tr>
<tr class="separator:a8e4426882dbdd1c00b9e3481c027aa1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8d8461f55fc270d98364c4c181a74a06"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a8d8461f55fc270d98364c4c181a74a06">owner</a></td></tr>
<tr class="separator:a8d8461f55fc270d98364c4c181a74a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ad2dbccb0c00daf2921a5e7cf69b9d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::unique_ptr&lt; <a class="el" href="structdiary__page.html">diary_page</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a></td></tr>
<tr class="separator:a97ad2dbccb0c00daf2921a5e7cf69b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae762e8247e4d80c00810c0fc0bf942a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">opened_page</a> = 0</td></tr>
<tr class="separator:ae762e8247e4d80c00810c0fc0bf942a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99503e866a4edf7acc31209e55138462"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a99503e866a4edf7acc31209e55138462">change_list</a></td></tr>
<tr class="separator:a99503e866a4edf7acc31209e55138462"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0577a52698a647c7c617a96badb379c8"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdiary.html#a0577a52698a647c7c617a96badb379c8">desc_map</a></td></tr>
<tr class="separator:a0577a52698a647c7c617a96badb379c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >diary is connected to the player avatar. </p>
<p >the player is able to add new pages, every page saves the current character progression and shows the improvements compared to the previous pages the player is also able to add a text in every page. </p>

<p class="definition">Definition at line <a class="el" href="diary_8h_source.html#l00062">62</a> of file <a class="el" href="diary_8h_source.html">diary.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a86422a12599b8270949114da84153288" name="a86422a12599b8270949114da84153288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86422a12599b8270949114da84153288">&#9670;&nbsp;</a></span>diary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">diary::diary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00681">681</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>{</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    <a class="code hl_variable" href="classdiary.html#a8d8461f55fc270d98364c4c181a74a06">owner</a> = <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>().<a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>;</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>}</div>
<div class="ttc" id="aavatar_8cpp_html_a2eddae690431cd32ce7a091217d68a3a"><div class="ttname"><a href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l00104">avatar.cpp:104</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6592c35167738421f3e04ca8808d37db"><div class="ttname"><a href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">Character::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01566">character.h:1566</a></div></div>
<div class="ttc" id="aclassdiary_html_a8d8461f55fc270d98364c4c181a74a06"><div class="ttname"><a href="classdiary.html#a8d8461f55fc270d98364c4c181a74a06">diary::owner</a></div><div class="ttdeci">std::string owner</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00066">diary.h:66</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="avatar_8cpp_source.html#l00104">get_avatar()</a>, <a class="el" href="character_8h_source.html#l01566">Character::name</a>, and <a class="el" href="diary_8h_source.html#l00066">owner</a>.</p>

</div>
</div>
<a id="a90a98b4baa9604353f14fb6b54e2b5ab" name="a90a98b4baa9604353f14fb6b54e2b5ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90a98b4baa9604353f14fb6b54e2b5ab">&#9670;&nbsp;</a></span>~diary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual diary::~diary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8e4426882dbdd1c00b9e3481c027aa1e" name="a8e4426882dbdd1c00b9e3481c027aa1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e4426882dbdd1c00b9e3481c027aa1e">&#9670;&nbsp;</a></span>add_to_change_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::add_to_change_list </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>desc</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00067">67</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>{</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="keywordflow">if</span>( !desc.empty() ) {</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>        <a class="code hl_variable" href="classdiary.html#a0577a52698a647c7c617a96badb379c8">desc_map</a>[<a class="code hl_variable" href="classdiary.html#a99503e866a4edf7acc31209e55138462">change_list</a>.size() + <a class="code hl_function" href="classdiary.html#a6d5fd9bc9fb7a6f88ab90d2a39997b2b">get_head_text</a>().size()] = desc;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    }</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <a class="code hl_variable" href="classdiary.html#a99503e866a4edf7acc31209e55138462">change_list</a>.push_back( entry );</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>}</div>
<div class="ttc" id="aclassdiary_html_a0577a52698a647c7c617a96badb379c8"><div class="ttname"><a href="classdiary.html#a0577a52698a647c7c617a96badb379c8">diary::desc_map</a></div><div class="ttdeci">std::map&lt; int, std::string &gt; desc_map</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00075">diary.h:75</a></div></div>
<div class="ttc" id="aclassdiary_html_a6d5fd9bc9fb7a6f88ab90d2a39997b2b"><div class="ttname"><a href="classdiary.html#a6d5fd9bc9fb7a6f88ab90d2a39997b2b">diary::get_head_text</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_head_text()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00616">diary.cpp:616</a></div></div>
<div class="ttc" id="aclassdiary_html_a99503e866a4edf7acc31209e55138462"><div class="ttname"><a href="classdiary.html#a99503e866a4edf7acc31209e55138462">diary::change_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; change_list</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00073">diary.h:73</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="diary_8h_source.html#l00073">change_list</a>, <a class="el" href="diary_8h_source.html#l00075">desc_map</a>, and <a class="el" href="diary_8cpp_source.html#l00616">get_head_text()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00232">bionic_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00289">kill_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00126">martial_art_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00552">max_power_level_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00172">mission_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00380">skill_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00077">spell_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00494">stat_changes()</a>, and <a class="el" href="diary_8cpp_source.html#l00428">trait_changes()</a>.</p>

</div>
</div>
<a id="afaefc266f94c291a2b97f81730b3eedd" name="afaefc266f94c291a2b97f81730b3eedd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaefc266f94c291a2b97f81730b3eedd">&#9670;&nbsp;</a></span>bionic_changes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::bionic_changes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00232">232</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>{</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *curr_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>();</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *prev_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>( -1 );</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    <span class="keywordflow">if</span>( curr_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    }</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <span class="keywordflow">if</span>( prev_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        <span class="keywordflow">if</span>( !curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aa8970073b1e846c46b2d3e9932751143">bionics</a>.empty() ) {</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Bionics:&quot;</span> ) );</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aa8970073b1e846c46b2d3e9932751143">bionics</a> ) {</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structbionic__data.html">bionic_data</a> &amp;<a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> = elem.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.name.translated(), <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.description.translated() );</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>            }</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        }</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        <span class="keywordflow">if</span>( !curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aa8970073b1e846c46b2d3e9932751143">bionics</a>.empty() ) {</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aa8970073b1e846c46b2d3e9932751143">bionics</a> ) {</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aa8970073b1e846c46b2d3e9932751143">bionics</a>.begin(), prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aa8970073b1e846c46b2d3e9932751143">bionics</a>.end(),</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>                               elem ) == prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aa8970073b1e846c46b2d3e9932751143">bionics</a>.end() ) {</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>                    <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>                        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;New bionics:&quot;</span> ) );</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>                        flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>                    }</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>                    <span class="keyword">const</span> <a class="code hl_struct" href="structbionic__data.html">bionic_data</a> &amp;<a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> = elem.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>                    <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.name.translated(), <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.description.translated() );</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>                }</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>            }</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>            <span class="keywordflow">if</span>( !flag ) {</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>            }</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>        }</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span> </div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        flag = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        <span class="keywordflow">if</span>( !prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aa8970073b1e846c46b2d3e9932751143">bionics</a>.empty() ) {</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> &amp;elem : prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aa8970073b1e846c46b2d3e9932751143">bionics</a> ) {</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aa8970073b1e846c46b2d3e9932751143">bionics</a>.begin(), curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aa8970073b1e846c46b2d3e9932751143">bionics</a>.end(),</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>                               elem ) == curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aa8970073b1e846c46b2d3e9932751143">bionics</a>.end() ) {</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>                    <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>                        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Lost bionics:&quot;</span> ) );</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>                        flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>                    }</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>                    <span class="keyword">const</span> <a class="code hl_struct" href="structbionic__data.html">bionic_data</a> &amp;<a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> = elem.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>                    <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.name.translated(), <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.description.translated() );</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>                }</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>            }</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>            <span class="keywordflow">if</span>( !flag ) {</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>            }</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        }</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    }</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>}</div>
<div class="ttc" id="aclassdiary_html_a8e4426882dbdd1c00b9e3481c027aa1e"><div class="ttname"><a href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">diary::add_to_change_list</a></div><div class="ttdeci">void add_to_change_list(std::string entry, std::string desc=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00067">diary.cpp:67</a></div></div>
<div class="ttc" id="aclassdiary_html_aa20c00b8b9dd1a1375f85d40e205d488"><div class="ttname"><a href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">diary::get_page_ptr</a></div><div class="ttdeci">diary_page * get_page_ptr(int offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00058">diary.cpp:58</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; bionic_data &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00063">achievement.cpp:63</a></div></div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01031">magic.cpp:1031</a></div></div>
<div class="ttc" id="anamespacedetail_html_ad06b74f7502b63cbab323bba1ca3f72b"><div class="ttname"><a href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">detail::find</a></div><div class="ttdeci">FMT_CONSTEXPR bool find(Ptr first, Ptr last, T value, Ptr &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l03355">fmtlib_format.h:3355</a></div></div>
<div class="ttc" id="astructbionic__data_html"><div class="ttname"><a href="structbionic__data.html">bionic_data</a></div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00028">bionics.h:28</a></div></div>
<div class="ttc" id="astructdiary__page_html"><div class="ttname"><a href="structdiary__page.html">diary_page</a></div><div class="ttdoc">diary page, to save current character progression</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00021">diary.h:21</a></div></div>
<div class="ttc" id="astructdiary__page_html_aa8970073b1e846c46b2d3e9932751143"><div class="ttname"><a href="structdiary__page.html#aa8970073b1e846c46b2d3e9932751143">diary_page::bionics</a></div><div class="ttdeci">std::vector&lt; bionic_id &gt; bionics</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00050">diary.h:50</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="diary_8cpp_source.html#l00067">add_to_change_list()</a>, <a class="el" href="magic_8cpp_source.html#l01031">b</a>, <a class="el" href="diary_8h_source.html#l00050">diary_page::bionics</a>, <a class="el" href="fmtlib__format_8h_source.html#l03355">detail::find()</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, and <a class="el" href="achievement_8cpp_source.html#l00063">string_id&lt; T &gt;::obj()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>.</p>

</div>
</div>
<a id="a7ca50176a183179503d64dd627035c41" name="a7ca50176a183179503d64dd627035c41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ca50176a183179503d64dd627035c41">&#9670;&nbsp;</a></span>death_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diary::death_entry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00672">672</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>{</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    <span class="keywordtype">bool</span> last_time = <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Open your diary for the last time?&quot;</span> ) );</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>    <span class="keywordflow">if</span>( last_time ) {</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>        <a class="code hl_function" href="classdiary.html#a66d05a576c8306885cb621ef7995e625">show_diary_ui</a>( <span class="keyword">this</span> );</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    }</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    <a class="code hl_function" href="classdiary.html#acd7808ad7a0b97e48b7de3910b666f44">export_to_md</a>( <span class="keyword">true</span> );</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>}</div>
<div class="ttc" id="aclassdiary_html_a66d05a576c8306885cb621ef7995e625"><div class="ttname"><a href="classdiary.html#a66d05a576c8306885cb621ef7995e625">diary::show_diary_ui</a></div><div class="ttdeci">static void show_diary_ui(diary *c_diary)</div><div class="ttdef"><b>Definition:</b> <a href="diary__ui_8cpp_source.html#l00164">diary_ui.cpp:164</a></div></div>
<div class="ttc" id="aclassdiary_html_acd7808ad7a0b97e48b7de3910b666f44"><div class="ttname"><a href="classdiary.html#acd7808ad7a0b97e48b7de3910b666f44">diary::export_to_md</a></div><div class="ttdeci">void export_to_md(bool last_export=false)</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00731">diary.cpp:731</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00698">output.cpp:698</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="diary_8cpp_source.html#l00731">export_to_md()</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, and <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l02415">game::death_screen()</a>.</p>

</div>
</div>
<a id="a366422f3e1571b56a7eb25b2aa4fcbda" name="a366422f3e1571b56a7eb25b2aa4fcbda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a366422f3e1571b56a7eb25b2aa4fcbda">&#9670;&nbsp;</a></span>delete_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::delete_page </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00723">723</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>{</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">opened_page</a> &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.size() ) ) {</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>        <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.erase( <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.begin() + <a class="code hl_variable" href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">opened_page</a> );</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>        <a class="code hl_function" href="classdiary.html#af6469b5ff715938a500d7dde5cb68803">set_opened_page</a>( <a class="code hl_variable" href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">opened_page</a> - 1 );</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>    }</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>}</div>
<div class="ttc" id="aclassdiary_html_a97ad2dbccb0c00daf2921a5e7cf69b9d"><div class="ttname"><a href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">diary::pages</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; diary_page &gt; &gt; pages</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00068">diary.h:68</a></div></div>
<div class="ttc" id="aclassdiary_html_ae762e8247e4d80c00810c0fc0bf942a2"><div class="ttname"><a href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">diary::opened_page</a></div><div class="ttdeci">int opened_page</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00071">diary.h:71</a></div></div>
<div class="ttc" id="aclassdiary_html_af6469b5ff715938a500d7dde5cb68803"><div class="ttname"><a href="classdiary.html#af6469b5ff715938a500d7dde5cb68803">diary::set_opened_page</a></div><div class="ttdeci">int set_opened_page(int page_number)</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00041">diary.cpp:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="diary_8h_source.html#l00071">opened_page</a>, <a class="el" href="diary_8h_source.html#l00068">pages</a>, and <a class="el" href="diary_8cpp_source.html#l00041">set_opened_page()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

</div>
</div>
<a id="a1dc65d3f14d229ced80d6a0d37040f4d" name="a1dc65d3f14d229ced80d6a0d37040f4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dc65d3f14d229ced80d6a0d37040f4d">&#9670;&nbsp;</a></span>deserialize() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diary::deserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonIn.html">JsonIn</a> &amp;&#160;</td>
          <td class="paramname"><em>jsin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00827">827</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>{</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>        <a class="code hl_class" href="classJsonObject.html">JsonObject</a> data = jsin.<a class="code hl_function" href="classJsonIn.html#af988f122efed0696d9d05f649e57c9b2">get_object</a>();</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span> </div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>        data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;owner&quot;</span>, <a class="code hl_variable" href="classdiary.html#a8d8461f55fc270d98364c4c181a74a06">owner</a> );</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>        <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.clear();</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonObject.html">JsonObject</a> elem : data.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;pages&quot;</span> ) ) {</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>            std::unique_ptr&lt;diary_page&gt; <a class="code hl_struct" href="structpage.html">page</a>( <span class="keyword">new</span> <a class="code hl_struct" href="structdiary__page.html">diary_page</a>() );</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>            <a class="code hl_struct" href="structpage.html">page</a>-&gt;m_text = elem.get_string( <span class="stringliteral">&quot;text&quot;</span> );</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>            elem.read( <span class="stringliteral">&quot;turn&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;turn );</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>            elem.read( <span class="stringliteral">&quot;active&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;mission_active );</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>            elem.read( <span class="stringliteral">&quot;completed&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;mission_completed );</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>            elem.read( <span class="stringliteral">&quot;failed&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;mission_failed );</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>            elem.read( <span class="stringliteral">&quot;kills&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;kills );</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>            elem.read( <span class="stringliteral">&quot;npc_kills&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;npc_kills );</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>            elem.read( <span class="stringliteral">&quot;male&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;male );</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>            elem.read( <span class="stringliteral">&quot;str&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;strength );</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>            elem.read( <span class="stringliteral">&quot;dex&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;dexterity );</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>            elem.read( <span class="stringliteral">&quot;int&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;intelligence );</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>            elem.read( <span class="stringliteral">&quot;per&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;perception );</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>            elem.read( <span class="stringliteral">&quot;traits&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;traits );</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>            elem.read( <span class="stringliteral">&quot;bionics&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;bionics );</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>            elem.read( <span class="stringliteral">&quot;spells&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;known_spells );</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            elem.read( <span class="stringliteral">&quot;skill_levels&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;skill_levels );</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>            elem.read( <span class="stringliteral">&quot;martial_arts&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;known_martial_arts );</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>            elem.read( <span class="stringliteral">&quot;max_power_level&quot;</span>, <a class="code hl_struct" href="structpage.html">page</a>-&gt;max_power_level );</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>            <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">diary::pages</a>.push_back( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( <a class="code hl_struct" href="structpage.html">page</a> ) );</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>        }</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonError.html">JsonError</a> &amp;e ) {</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span> </div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    }</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>}</div>
<div class="ttc" id="aclassJsonError_html"><div class="ttname"><a href="classJsonError.html">JsonError</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00050">json.h:51</a></div></div>
<div class="ttc" id="aclassJsonIn_html_af988f122efed0696d9d05f649e57c9b2"><div class="ttname"><a href="classJsonIn.html#af988f122efed0696d9d05f649e57c9b2">JsonIn::get_object</a></div><div class="ttdeci">JsonObject get_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01432">json.cpp:1432</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00826">json.h:827</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a69f62f59b5e39da6059b7c3cf8b12421"><div class="ttname"><a href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00400">json.cpp:400</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae66d47f9cb4993dfaf79819ec2aff2f8"><div class="ttname"><a href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">JsonObject::read</a></div><div class="ttdeci">bool read(const std::string &amp;name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00941">json.h:941</a></div></div>
<div class="ttc" id="anamespaceavatar__action_html_a76ba74774376a08222b8cdcce08f7304"><div class="ttname"><a href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">avatar_action::move</a></div><div class="ttdeci">bool move(avatar &amp;you, map &amp;m, const tripoint &amp;d)</div><div class="ttdef"><b>Definition:</b> <a href="avatar__action_8cpp_source.html#l00096">avatar_action.cpp:96</a></div></div>
<div class="ttc" id="astructpage_html"><div class="ttname"><a href="structpage.html">page</a></div><div class="ttdef"><b>Definition:</b> <a href="dialogue__win_8cpp_source.html#l00080">dialogue_win.cpp:80</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l00400">JsonObject::get_array()</a>, <a class="el" href="json_8cpp_source.html#l01432">JsonIn::get_object()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00096">avatar_action::move()</a>, <a class="el" href="diary_8h_source.html#l00066">owner</a>, <a class="el" href="diary_8h_source.html#l00068">pages</a>, and <a class="el" href="json_8h_source.html#l00941">JsonObject::read()</a>.</p>

</div>
</div>
<a id="a89fc35a3512d10c4309fd3f7259ccb3f" name="a89fc35a3512d10c4309fd3f7259ccb3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89fc35a3512d10c4309fd3f7259ccb3f">&#9670;&nbsp;</a></span>deserialize() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diary::deserialize </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>fin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00821">821</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>{</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    <a class="code hl_class" href="classJsonIn.html">JsonIn</a> jsin( fin );</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>    <a class="code hl_function" href="classdiary.html#a89fc35a3512d10c4309fd3f7259ccb3f">deserialize</a>( jsin );</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>}</div>
<div class="ttc" id="aclassJsonIn_html"><div class="ttname"><a href="classJsonIn.html">JsonIn</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00171">json.h:172</a></div></div>
<div class="ttc" id="aclassdiary_html_a89fc35a3512d10c4309fd3f7259ccb3f"><div class="ttname"><a href="classdiary.html#a89fc35a3512d10c4309fd3f7259ccb3f">diary::deserialize</a></div><div class="ttdeci">void deserialize(std::istream &amp;fin)</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00821">diary.cpp:821</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="diary_8cpp_source.html#l00821">deserialize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00821">deserialize()</a>, and <a class="el" href="diary_8cpp_source.html#l00810">load()</a>.</p>

</div>
</div>
<a id="a5828b8fb6180e37f932a666b0900dc08" name="a5828b8fb6180e37f932a666b0900dc08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5828b8fb6180e37f932a666b0900dc08">&#9670;&nbsp;</a></span>edit_page_ui() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::edit_page_ui </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

</div>
</div>
<a id="aa0b9c6e242815fa528bdadf4e2a678c2" name="aa0b9c6e242815fa528bdadf4e2a678c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0b9c6e242815fa528bdadf4e2a678c2">&#9670;&nbsp;</a></span>edit_page_ui() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::edit_page_ui </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>()&gt; &amp;&#160;</td>
          <td class="paramname"><em>create_window</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary__ui_8cpp_source.html#l00371">371</a> of file <a class="el" href="diary__ui_8cpp_source.html">diary_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>{</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <span class="comment">// modify the stored text, so the new text is displayed after exiting from</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <span class="comment">// the editor window, and before confirming or canceling the y/n query.</span></div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    std::string &amp;new_text = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>()-&gt;<a class="code hl_variable" href="structdiary__page.html#a5d054f340835490c5243fa62addffb4e">m_text</a>;</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <span class="keyword">const</span> std::string old_text = new_text;</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span> </div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <a class="code hl_class" href="classstring__editor__window.html">string_editor_window</a> ed( create_window, new_text );</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>        <span class="keyword">const</span> std::pair&lt;bool, std::string&gt; <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = ed.query_string();</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>        new_text = <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.second;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span> </div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>        <span class="comment">// confirmed or unchanged</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>        <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.first || old_text == new_text ) {</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>        }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> force_uc = get_option&lt;bool&gt;( <span class="stringliteral">&quot;FORCE_CAPITAL_YN&quot;</span> );</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;allow_key = force_uc ? <a class="code hl_variable" href="classinput__context.html#ae3188ac9757c53b66f49a8302de0f1f1">input_context::disallow_lower_case</a></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>                                : <a class="code hl_variable" href="classinput__context.html#adbc1d8663a9378309e7ebe57a4693d66">input_context::allow_all_keys</a>;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>        <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = <a class="code hl_class" href="classquery__popup.html">query_popup</a>()</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>                                   .<a class="code hl_function" href="classquery__popup.html#a0fcdd9c0efe58e77f0dbebe2cf0a0a92">context</a>( <span class="stringliteral">&quot;YESNOQUIT&quot;</span> )</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>                                   .<a class="code hl_function" href="classquery__popup.html#afaf11ff265d2f47f0b7f7b2e0fd54088">message</a>( <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Save entry?&quot;</span> ) )</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                                   .<a class="code hl_function" href="classquery__popup.html#a677ca3e1f238f2bdaa7d2ad0eadf49e1">option</a>( <span class="stringliteral">&quot;YES&quot;</span>, allow_key )</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                                   .<a class="code hl_function" href="classquery__popup.html#a677ca3e1f238f2bdaa7d2ad0eadf49e1">option</a>( <span class="stringliteral">&quot;NO&quot;</span>, allow_key )</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                                   .<a class="code hl_function" href="classquery__popup.html#aaf394e7bc1c55779a9527e98d5a350d9">allow_cancel</a>( <span class="keyword">true</span> )</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                                   .<a class="code hl_function" href="classquery__popup.html#ad84a1a1b87c57f4346d30c6f61eedd17">default_color</a>( <a class="code hl_define" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a> )</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>                                   .<a class="code hl_function" href="classquery__popup.html#aa26700877b0cf2a70bb3af9926c9588b">query</a>()</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>                                   .<a class="code hl_variable" href="structquery__popup_1_1result.html#a319891694f37a6970df28ca2279cf851">action</a>;</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;YES&quot;</span> ) {</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;NO&quot;</span> ) {</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>            new_text = old_text;</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        }</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    } <span class="keywordflow">while</span>( <span class="keyword">true</span> );</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>}</div>
<div class="ttc" id="aclassinput__context_html_adbc1d8663a9378309e7ebe57a4693d66"><div class="ttname"><a href="classinput__context.html#adbc1d8663a9378309e7ebe57a4693d66">input_context::allow_all_keys</a></div><div class="ttdeci">static const input_event_filter allow_all_keys</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00541">input.h:541</a></div></div>
<div class="ttc" id="aclassinput__context_html_ae3188ac9757c53b66f49a8302de0f1f1"><div class="ttname"><a href="classinput__context.html#ae3188ac9757c53b66f49a8302de0f1f1">input_context::disallow_lower_case</a></div><div class="ttdeci">static const input_event_filter disallow_lower_case</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00540">input.h:540</a></div></div>
<div class="ttc" id="aclassquery__popup_html"><div class="ttname"><a href="classquery__popup.html">query_popup</a></div><div class="ttdoc">UI class for displaying messages or querying player input with popups.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8h_source.html#l00038">popup.h:39</a></div></div>
<div class="ttc" id="aclassquery__popup_html_a0fcdd9c0efe58e77f0dbebe2cf0a0a92"><div class="ttname"><a href="classquery__popup.html#a0fcdd9c0efe58e77f0dbebe2cf0a0a92">query_popup::context</a></div><div class="ttdeci">query_popup &amp; context(const std::string &amp;cat)</div><div class="ttdoc">Specify the input context.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8cpp_source.html#l00021">popup.cpp:21</a></div></div>
<div class="ttc" id="aclassquery__popup_html_a677ca3e1f238f2bdaa7d2ad0eadf49e1"><div class="ttname"><a href="classquery__popup.html#a677ca3e1f238f2bdaa7d2ad0eadf49e1">query_popup::option</a></div><div class="ttdeci">query_popup &amp; option(const std::string &amp;opt)</div><div class="ttdoc">Specify an action as an option.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8cpp_source.html#l00028">popup.cpp:28</a></div></div>
<div class="ttc" id="aclassquery__popup_html_aa26700877b0cf2a70bb3af9926c9588b"><div class="ttname"><a href="classquery__popup.html#aa26700877b0cf2a70bb3af9926c9588b">query_popup::query</a></div><div class="ttdeci">result query()</div><div class="ttdoc">Query until a valid action or an error happens and return the result.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8cpp_source.html#l00348">popup.cpp:348</a></div></div>
<div class="ttc" id="aclassquery__popup_html_aaf394e7bc1c55779a9527e98d5a350d9"><div class="ttname"><a href="classquery__popup.html#aaf394e7bc1c55779a9527e98d5a350d9">query_popup::allow_cancel</a></div><div class="ttdeci">query_popup &amp; allow_cancel(bool allow)</div><div class="ttdoc">Specify whether an implicit cancel option is allowed.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8cpp_source.html#l00052">popup.cpp:52</a></div></div>
<div class="ttc" id="aclassquery__popup_html_ad84a1a1b87c57f4346d30c6f61eedd17"><div class="ttname"><a href="classquery__popup.html#ad84a1a1b87c57f4346d30c6f61eedd17">query_popup::default_color</a></div><div class="ttdeci">query_popup &amp; default_color(const nc_color &amp;d_color)</div><div class="ttdoc">Specify the default message color.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8cpp_source.html#l00080">popup.cpp:80</a></div></div>
<div class="ttc" id="aclassquery__popup_html_afaf11ff265d2f47f0b7f7b2e0fd54088"><div class="ttname"><a href="classquery__popup.html#afaf11ff265d2f47f0b7f7b2e0fd54088">query_popup::message</a></div><div class="ttdeci">query_popup &amp; message(const std::string &amp;fmt, Args &amp;&amp;... args)</div><div class="ttdoc">Specify the query message.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8h_source.html#l00091">popup.h:91</a></div></div>
<div class="ttc" id="aclassstring__editor__window_html"><div class="ttname"><a href="classstring__editor__window.html">string_editor_window</a></div><div class="ttdoc">editor, to let the player edit text.</div><div class="ttdef"><b>Definition:</b> <a href="string__editor__window_8h_source.html#l00026">string_editor_window.h:27</a></div></div>
<div class="ttc" id="acolor_8h_html_aab11865a3631a7ce78da82b7fb386b71"><div class="ttname"><a href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a></div><div class="ttdeci">#define c_light_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00027">color.h:27</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00037">dialogue.h:36</a></div></div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5ae"><div class="ttname"><a href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">detail::digits::result</a></div><div class="ttdeci">result</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format-inl_8h_source.html#l01626">fmtlib_format-inl.h:1626</a></div></div>
<div class="ttc" id="astructdiary__page_html_a5d054f340835490c5243fa62addffb4e"><div class="ttname"><a href="structdiary__page.html#a5d054f340835490c5243fa62addffb4e">diary_page::m_text</a></div><div class="ttdeci">std::string m_text</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00025">diary.h:25</a></div></div>
<div class="ttc" id="astructquery__popup_1_1result_html_a319891694f37a6970df28ca2279cf851"><div class="ttname"><a href="structquery__popup_1_1result.html#a319891694f37a6970df28ca2279cf851">query_popup::result::action</a></div><div class="ttdeci">std::string action</div><div class="ttdef"><b>Definition:</b> <a href="popup_8h_source.html#l00068">popup.h:68</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="dialogue_8h_source.html#l00036">action</a>, <a class="el" href="popup_8h_source.html#l00068">query_popup::result::action</a>, <a class="el" href="input_8h_source.html#l00541">input_context::allow_all_keys</a>, <a class="el" href="popup_8cpp_source.html#l00052">query_popup::allow_cancel()</a>, <a class="el" href="color_8h_source.html#l00027">c_light_red</a>, <a class="el" href="popup_8cpp_source.html#l00021">query_popup::context()</a>, <a class="el" href="popup_8cpp_source.html#l00080">query_popup::default_color()</a>, <a class="el" href="input_8h_source.html#l00540">input_context::disallow_lower_case</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, <a class="el" href="diary_8h_source.html#l00025">diary_page::m_text</a>, <a class="el" href="popup_8h_source.html#l00091">query_popup::message()</a>, <a class="el" href="popup_8cpp_source.html#l00028">query_popup::option()</a>, <a class="el" href="popup_8cpp_source.html#l00348">query_popup::query()</a>, and <a class="el" href="string__editor__window_8cpp_source.html#l00307">string_editor_window::query_string()</a>.</p>

</div>
</div>
<a id="acd7808ad7a0b97e48b7de3910b666f44" name="acd7808ad7a0b97e48b7de3910b666f44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd7808ad7a0b97e48b7de3910b666f44">&#9670;&nbsp;</a></span>export_to_md()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::export_to_md </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>last_export</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00731">731</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>{</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    std::ofstream myfile;</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>    std::string path = last_export ? <a class="code hl_function" href="namespacePATH__INFO.html#a182bc8dae734699bdf8e6942592366bc">PATH_INFO::memorialdir</a>() : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_world_base_save_path();</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>    path += <span class="stringliteral">&quot;/&quot;</span> + <a class="code hl_variable" href="classdiary.html#a8d8461f55fc270d98364c4c181a74a06">owner</a> + <span class="stringliteral">&quot;s_diary.md&quot;</span>;</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>    myfile.open( path );</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span> </div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; static_cast&lt;int&gt;( <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.size() ); i++ ) {</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>        <a class="code hl_function" href="classdiary.html#af6469b5ff715938a500d7dde5cb68803">set_opened_page</a>( i );</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structdiary__page.html">diary_page</a> <a class="code hl_struct" href="structpage.html">page</a> = *<a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>();</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span> </div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>        std::vector&lt;std::string&gt; left_diary_text = this-&gt;<a class="code hl_function" href="classdiary.html#a6d5fd9bc9fb7a6f88ab90d2a39997b2b">get_head_text</a>();</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>        std::vector&lt;std::string&gt; <a class="code hl_variable" href="classdiary.html#a99503e866a4edf7acc31209e55138462">change_list</a> = this-&gt;<a class="code hl_function" href="classdiary.html#a6f04f66b87bac6fe12e292805908071c">get_change_list</a>();</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>        left_diary_text.insert( left_diary_text.end(), <a class="code hl_variable" href="classdiary.html#a99503e866a4edf7acc31209e55138462">change_list</a>.begin(), <a class="code hl_variable" href="classdiary.html#a99503e866a4edf7acc31209e55138462">change_list</a>.end() );</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>        <span class="comment">// add &quot;## &quot; before each &quot;Entry&quot; line to visually differentiate each page</span></div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>        left_diary_text[0] = <span class="stringliteral">&quot;## &quot;</span> + left_diary_text[0];</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span> </div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;str : left_diary_text ) {</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>            myfile &lt;&lt; <a class="code hl_function" href="output_8cpp.html#a7dc5cafe61ba3c31bc3288767aa018f9">remove_color_tags</a>( str ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>        }</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>        <span class="keyword">const</span> std::vector&lt;std::string&gt; folded_texts = <a class="code hl_function" href="output_8cpp.html#afc0a91b0fbe1ed197d2e2ac5ceaac1a2">foldstring</a>( <a class="code hl_struct" href="structpage.html">page</a>.m_text, 50 );</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_typedef" href="fmtlib__core_8h.html#a204ca715c2febee035464fa53dfc50c4">std::string_view</a> <a class="code hl_class" href="classfolded__text.html">folded_text</a> : folded_texts ) {</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>            myfile &lt;&lt; <a class="code hl_class" href="classfolded__text.html">folded_text</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>        }</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>        myfile &lt;&lt; <span class="stringliteral">&quot;\n\n\n&quot;</span>;</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>    }</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>    myfile.close();</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>}</div>
<div class="ttc" id="aclassdiary_html_a6f04f66b87bac6fe12e292805908071c"><div class="ttname"><a href="classdiary.html#a6f04f66b87bac6fe12e292805908071c">diary::get_change_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_change_list()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00577">diary.cpp:577</a></div></div>
<div class="ttc" id="aclassfolded__text_html"><div class="ttname"><a href="classfolded__text.html">folded_text</a></div><div class="ttdef"><b>Definition:</b> <a href="string__editor__window_8cpp_source.html#l00037">string_editor_window.cpp:38</a></div></div>
<div class="ttc" id="afmtlib__core_8h_html_a204ca715c2febee035464fa53dfc50c4"><div class="ttname"><a href="fmtlib__core_8h.html#a204ca715c2febee035464fa53dfc50c4">string_view</a></div><div class="ttdeci">basic_string_view&lt; char &gt; string_view</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__core_8h_source.html#l00465">fmtlib_core.h:465</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00283">game.cpp:283</a></div></div>
<div class="ttc" id="anamespacePATH__INFO_html_a182bc8dae734699bdf8e6942592366bc"><div class="ttname"><a href="namespacePATH__INFO.html#a182bc8dae734699bdf8e6942592366bc">PATH_INFO::memorialdir</a></div><div class="ttdeci">std::string memorialdir()</div><div class="ttdef"><b>Definition:</b> <a href="path__info_8cpp_source.html#l00222">path_info.cpp:222</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a7dc5cafe61ba3c31bc3288767aa018f9"><div class="ttname"><a href="output_8cpp.html#a7dc5cafe61ba3c31bc3288767aa018f9">remove_color_tags</a></div><div class="ttdeci">std::string remove_color_tags(const std::string &amp;s)</div><div class="ttdoc">Removes the color tags from the input string.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00145">output.cpp:145</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afc0a91b0fbe1ed197d2e2ac5ceaac1a2"><div class="ttname"><a href="output_8cpp.html#afc0a91b0fbe1ed197d2e2ac5ceaac1a2">foldstring</a></div><div class="ttdeci">std::vector&lt; std::string &gt; foldstring(const std::string &amp;str, int width, const char split)</div><div class="ttdoc">Split the input text into separate lines and wrap long lines.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00068">output.cpp:68</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="diary_8h_source.html#l00073">change_list</a>, <a class="el" href="output_8cpp_source.html#l00068">foldstring()</a>, <a class="el" href="game_8cpp_source.html#l00283">g</a>, <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>, <a class="el" href="diary_8cpp_source.html#l00616">get_head_text()</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, <a class="el" href="path__info_8cpp_source.html#l00222">PATH_INFO::memorialdir()</a>, <a class="el" href="diary_8h_source.html#l00066">owner</a>, <a class="el" href="diary_8h_source.html#l00068">pages</a>, <a class="el" href="output_8cpp_source.html#l00145">remove_color_tags()</a>, and <a class="el" href="diary_8cpp_source.html#l00041">set_opened_page()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00672">death_entry()</a>, and <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

</div>
</div>
<a id="a6f04f66b87bac6fe12e292805908071c" name="a6f04f66b87bac6fe12e292805908071c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f04f66b87bac6fe12e292805908071c">&#9670;&nbsp;</a></span>get_change_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; diary::get_change_list </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00577">577</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>{</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classdiary.html#a99503e866a4edf7acc31209e55138462">change_list</a>.empty() ) {</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classdiary.html#a99503e866a4edf7acc31209e55138462">change_list</a>;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>    }</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.empty() ) {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        <a class="code hl_function" href="classdiary.html#a9025dec5b103cd066b8bdb8e45f2027f">stat_changes</a>();</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>        <a class="code hl_function" href="classdiary.html#aaf3223f044433acc53d75b76a0c771c3">skill_changes</a>();</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        <a class="code hl_function" href="classdiary.html#a6f11125e72e6d7feff26ced914142a85">trait_changes</a>();</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        <a class="code hl_function" href="classdiary.html#afaefc266f94c291a2b97f81730b3eedd">bionic_changes</a>();</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>        <a class="code hl_function" href="classdiary.html#a0f109b4d98dab7838eb2056cff3c8481">max_power_level_changes</a>();</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>        <a class="code hl_function" href="classdiary.html#a5ff278fdf400df7ead4de72650753ffb">spell_changes</a>();</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>        <a class="code hl_function" href="classdiary.html#af3b9c43c07534e0c3416b3a049ce67bb">martial_art_changes</a>();</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>        <a class="code hl_function" href="classdiary.html#a8078f58e8ccb22dbed7f3da9f524cc57">mission_changes</a>();</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>        <a class="code hl_function" href="classdiary.html#ae6a0abb001ad2a79c20ecf2cb7d1b6bd">kill_changes</a>();</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    }</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classdiary.html#a99503e866a4edf7acc31209e55138462">change_list</a>;</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>}</div>
<div class="ttc" id="aclassdiary_html_a0f109b4d98dab7838eb2056cff3c8481"><div class="ttname"><a href="classdiary.html#a0f109b4d98dab7838eb2056cff3c8481">diary::max_power_level_changes</a></div><div class="ttdeci">void max_power_level_changes()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00552">diary.cpp:552</a></div></div>
<div class="ttc" id="aclassdiary_html_a5ff278fdf400df7ead4de72650753ffb"><div class="ttname"><a href="classdiary.html#a5ff278fdf400df7ead4de72650753ffb">diary::spell_changes</a></div><div class="ttdeci">void spell_changes()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00077">diary.cpp:77</a></div></div>
<div class="ttc" id="aclassdiary_html_a6f11125e72e6d7feff26ced914142a85"><div class="ttname"><a href="classdiary.html#a6f11125e72e6d7feff26ced914142a85">diary::trait_changes</a></div><div class="ttdeci">void trait_changes()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00428">diary.cpp:428</a></div></div>
<div class="ttc" id="aclassdiary_html_a8078f58e8ccb22dbed7f3da9f524cc57"><div class="ttname"><a href="classdiary.html#a8078f58e8ccb22dbed7f3da9f524cc57">diary::mission_changes</a></div><div class="ttdeci">void mission_changes()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00172">diary.cpp:172</a></div></div>
<div class="ttc" id="aclassdiary_html_a9025dec5b103cd066b8bdb8e45f2027f"><div class="ttname"><a href="classdiary.html#a9025dec5b103cd066b8bdb8e45f2027f">diary::stat_changes</a></div><div class="ttdeci">void stat_changes()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00494">diary.cpp:494</a></div></div>
<div class="ttc" id="aclassdiary_html_aaf3223f044433acc53d75b76a0c771c3"><div class="ttname"><a href="classdiary.html#aaf3223f044433acc53d75b76a0c771c3">diary::skill_changes</a></div><div class="ttdeci">void skill_changes()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00380">diary.cpp:380</a></div></div>
<div class="ttc" id="aclassdiary_html_ae6a0abb001ad2a79c20ecf2cb7d1b6bd"><div class="ttname"><a href="classdiary.html#ae6a0abb001ad2a79c20ecf2cb7d1b6bd">diary::kill_changes</a></div><div class="ttdeci">void kill_changes()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00289">diary.cpp:289</a></div></div>
<div class="ttc" id="aclassdiary_html_af3b9c43c07534e0c3416b3a049ce67bb"><div class="ttname"><a href="classdiary.html#af3b9c43c07534e0c3416b3a049ce67bb">diary::martial_art_changes</a></div><div class="ttdeci">void martial_art_changes()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00126">diary.cpp:126</a></div></div>
<div class="ttc" id="aclassdiary_html_afaefc266f94c291a2b97f81730b3eedd"><div class="ttname"><a href="classdiary.html#afaefc266f94c291a2b97f81730b3eedd">diary::bionic_changes</a></div><div class="ttdeci">void bionic_changes()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00232">diary.cpp:232</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="diary_8cpp_source.html#l00232">bionic_changes()</a>, <a class="el" href="diary_8h_source.html#l00073">change_list</a>, <a class="el" href="diary_8cpp_source.html#l00289">kill_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00126">martial_art_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00552">max_power_level_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00172">mission_changes()</a>, <a class="el" href="diary_8h_source.html#l00068">pages</a>, <a class="el" href="diary_8cpp_source.html#l00380">skill_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00077">spell_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00494">stat_changes()</a>, and <a class="el" href="diary_8cpp_source.html#l00428">trait_changes()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00731">export_to_md()</a>, <a class="el" href="diary_8cpp_source.html#l00596">get_desc_map()</a>, and <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

</div>
</div>
<a id="a4d8673546132edabe134be1168c73ea4" name="a4d8673546132edabe134be1168c73ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d8673546132edabe134be1168c73ea4">&#9670;&nbsp;</a></span>get_desc_map()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; int, std::string &gt; diary::get_desc_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00596">596</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>{</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classdiary.html#a0577a52698a647c7c617a96badb379c8">desc_map</a>.empty() ) {</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classdiary.html#a0577a52698a647c7c617a96badb379c8">desc_map</a>;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>        <a class="code hl_function" href="classdiary.html#a6f04f66b87bac6fe12e292805908071c">get_change_list</a>();</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classdiary.html#a0577a52698a647c7c617a96badb379c8">desc_map</a>;</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    }</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="diary_8h_source.html#l00075">desc_map</a>, and <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

</div>
</div>
<a id="a6d5fd9bc9fb7a6f88ab90d2a39997b2b" name="a6d5fd9bc9fb7a6f88ab90d2a39997b2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d5fd9bc9fb7a6f88ab90d2a39997b2b">&#9670;&nbsp;</a></span>get_head_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; diary::get_head_text </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00616">616</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>{</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span> </div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.empty() ) {</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *prev_page_ptr = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>( -1 );</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>        <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> prev_turn = ( prev_page_ptr != nullptr ) ? prev_page_ptr-&gt;<a class="code hl_variable" href="structdiary__page.html#a3e232d6bcca57fd3eff07393d60edd0d">turn</a> :</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>                                     <a class="code hl_variable" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a>;</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>        <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> turn_diff = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>()-&gt;<a class="code hl_variable" href="structdiary__page.html#a3e232d6bcca57fd3eff07393d60edd0d">turn</a> - prev_turn;</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> days = to_days&lt;int&gt;( turn_diff );</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> hours = to_hours&lt;int&gt;( turn_diff ) % 24;</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> minutes = to_minutes&lt;int&gt;( turn_diff ) % 60;</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> seconds = to_seconds&lt;int&gt;( turn_diff ) % 60;</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span> </div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        std::string time_diff_text;</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">opened_page</a> != 0 ) {</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>            <span class="comment">// will display the time since last entry (excluding days) as &quot;hours:min:sec&quot;</span></div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>            std::string days_text;</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>            std::string time_text;</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>            <span class="keywordflow">if</span>( days &gt; 0 ) {</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>                days_text = <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;%d day, &quot;</span>, <span class="stringliteral">&quot;%d days, &quot;</span>, days ), days );</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>            }</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span> </div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>            time_text += ( hours &gt; 9 ) ? <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">std::to_string</a>( hours ) : <span class="stringliteral">&quot;0&quot;</span> + <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">std::to_string</a>( hours );</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>            time_text += <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>            time_text += ( minutes &gt; 9 ) ? <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">std::to_string</a>( minutes ) : <span class="stringliteral">&quot;0&quot;</span> + <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">std::to_string</a>( minutes );</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>            time_text += <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>            time_text += ( seconds &gt; 9 ) ? <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">std::to_string</a>( seconds ) : <span class="stringliteral">&quot;0&quot;</span> + <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">std::to_string</a>( seconds );</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span> </div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>            <span class="comment">//~ %1$s is xx days, %2$d is the time left in universal format</span></div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>            time_diff_text = <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%1$s%2$s since last entry&quot;</span> ),</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>                                            days_text, time_text );</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span> </div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>        }</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>        <span class="comment">//~ Head text of a diary page</span></div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>        <span class="comment">//~ %1$d is the current page number, %2$d is the number of pages in total</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>        std::vector&lt;std::string&gt; head_text = { <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Entry: %1$d/%2$d&quot;</span> ), <a class="code hl_variable" href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">opened_page</a> + 1, <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.size() ) };</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span> </div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>        std::string complete_time_text = <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">to_string</a>( <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>()-&gt;<a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a> ); <span class="comment">// get complete time</span></div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>        std::string day_and_time_text = complete_time_text.substr( complete_time_text.find_last_of( <span class="charliteral">&#39;,&#39;</span> ) +</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>                                        2 );</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>        day_and_time_text[0] = std::toupper( day_and_time_text[0] );</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>        std::string year_and_season_text = complete_time_text.substr( 0,</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>                                           complete_time_text.find_last_of( <span class="charliteral">&#39;,&#39;</span> ) + 1 );</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span> </div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>        head_text.insert( head_text.end(), year_and_season_text );</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>        head_text.insert( head_text.end(), day_and_time_text );</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>        head_text.insert( head_text.end(), time_diff_text );</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>        <span class="keywordflow">if</span>( !time_diff_text.empty() ) {</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>            head_text.insert( head_text.end(), { <span class="stringliteral">&quot;&quot;</span> } );</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>        }</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span> </div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>        <span class="keywordflow">return</span> head_text;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    }</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>    <span class="keywordflow">return</span> { <span class="stringliteral">&quot;&quot;</span> };</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>}</div>
<div class="ttc" id="acalendar_8cpp_html_aeb989652ea2bf7fd03b07a74fd30bd7a"><div class="ttname"><a href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">to_string</a></div><div class="ttdeci">std::string to_string(const time_duration &amp;d)</div><div class="ttdoc">Returns a string showing a duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00327">calendar.cpp:327</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00179">calendar.h:180</a></div></div>
<div class="ttc" id="aclasstime__point_html"><div class="ttname"><a href="classtime__point.html">time_point</a></div><div class="ttdoc">A point in the game time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00430">calendar.h:431</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a2ad145a605c70358e73fdd4a802ba21a"><div class="ttname"><a href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a></div><div class="ttdeci">const time_point turn_zero</div><div class="ttdoc">Represents time point 0.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00026">calendar.cpp:26</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00036">calendar.cpp:36</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00430">string_formatter.h:430</a></div></div>
<div class="ttc" id="astructdiary__page_html_a3e232d6bcca57fd3eff07393d60edd0d"><div class="ttname"><a href="structdiary__page.html#a3e232d6bcca57fd3eff07393d60edd0d">diary_page::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00027">diary.h:27</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_a82b835742108b8d7f5f6a291b41e208e"><div class="ttname"><a href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a></div><div class="ttdeci">const char * vgettext(const char *msgid, const char *msgid_plural, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00036">translations.cpp:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, <a class="el" href="diary_8h_source.html#l00071">opened_page</a>, <a class="el" href="diary_8h_source.html#l00068">pages</a>, <a class="el" href="string__formatter_8h_source.html#l00430">string_format()</a>, <a class="el" href="calendar_8cpp_source.html#l00327">to_string()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="diary_8h_source.html#l00027">diary_page::turn</a>, <a class="el" href="calendar_8cpp_source.html#l00026">calendar::turn_zero</a>, and <a class="el" href="translations_8cpp_source.html#l00036">vgettext()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00067">add_to_change_list()</a>, <a class="el" href="diary_8cpp_source.html#l00731">export_to_md()</a>, and <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

</div>
</div>
<a id="aa20c00b8b9dd1a1375f85d40e205d488" name="aa20c00b8b9dd1a1375f85d40e205d488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa20c00b8b9dd1a1375f85d40e205d488">&#9670;&nbsp;</a></span>get_page_ptr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdiary__page.html">diary_page</a> * diary::get_page_ptr </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00058">58</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>{</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.empty() &amp;&amp; <a class="code hl_variable" href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">opened_page</a> + offset &gt;= 0 ) {</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>[<a class="code hl_variable" href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">opened_page</a> + offset].get();</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    }</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="diary_8h_source.html#l00071">opened_page</a>, and <a class="el" href="diary_8h_source.html#l00068">pages</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00232">bionic_changes()</a>, <a class="el" href="diary__ui_8cpp_source.html#l00371">edit_page_ui()</a>, <a class="el" href="diary_8cpp_source.html#l00731">export_to_md()</a>, <a class="el" href="diary_8cpp_source.html#l00616">get_head_text()</a>, <a class="el" href="diary_8cpp_source.html#l00607">get_page_text()</a>, <a class="el" href="diary_8cpp_source.html#l00289">kill_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00126">martial_art_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00552">max_power_level_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00172">mission_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00685">set_page_text()</a>, <a class="el" href="diary_8cpp_source.html#l00380">skill_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00077">spell_changes()</a>, <a class="el" href="diary_8cpp_source.html#l00494">stat_changes()</a>, and <a class="el" href="diary_8cpp_source.html#l00428">trait_changes()</a>.</p>

</div>
</div>
<a id="aafbfa5ecd902193a34752d16009b2b0e" name="aafbfa5ecd902193a34752d16009b2b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafbfa5ecd902193a34752d16009b2b0e">&#9670;&nbsp;</a></span>get_page_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string diary::get_page_text </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00607">607</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>{</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span> </div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.empty() ) {</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>()-&gt;<a class="code hl_variable" href="structdiary__page.html#a5d054f340835490c5243fa62addffb4e">m_text</a>;</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    }</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, <a class="el" href="diary_8h_source.html#l00025">diary_page::m_text</a>, and <a class="el" href="diary_8h_source.html#l00068">pages</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

</div>
</div>
<a id="a258954db4774907392c34f72e97d4276" name="a258954db4774907392c34f72e97d4276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a258954db4774907392c34f72e97d4276">&#9670;&nbsp;</a></span>get_pages_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; diary::get_pages_list </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00032">32</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>{</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    std::vector&lt;std::string&gt; <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    <span class="keywordflow">for</span>( std::unique_ptr&lt;diary_page&gt; &amp;n : <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a> ) {</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>        <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.push_back( <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">to_string</a>( n-&gt;turn ) );</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    }</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="diary_8h_source.html#l00068">pages</a>, and <a class="el" href="calendar_8cpp_source.html#l00327">to_string()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

</div>
</div>
<a id="ae6a0abb001ad2a79c20ecf2cb7d1b6bd" name="ae6a0abb001ad2a79c20ecf2cb7d1b6bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6a0abb001ad2a79c20ecf2cb7d1b6bd">&#9670;&nbsp;</a></span>kill_changes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::kill_changes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00289">289</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>{</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *curr_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>();</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *prev_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>( -1 );</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <span class="keywordflow">if</span>( curr_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    }</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <span class="keywordflow">if</span>( prev_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        <span class="keywordflow">if</span>( !curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#abffa26498493ef5540ac4e4abe8e3361">kills</a>.empty() ) {</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Kills:&quot;</span> ) );</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;<span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">string_id&lt;mtype&gt;</a>, <span class="keywordtype">int</span>&gt; &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#abffa26498493ef5540ac4e4abe8e3361">kills</a> ) {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structmtype.html">mtype</a> &amp;m = elem.first.obj();</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                <a class="code hl_class" href="classnc__color.html">nc_color</a> <a class="code hl_function" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = m.<a class="code hl_variable" href="structmtype.html#a6ad4c76593c4cd6423492169733885a1">color</a>;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                std::string <a class="code hl_function" href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol</a> = m.<a class="code hl_variable" href="structmtype.html#a38400904b6ae1207054cca44318d0426">sym</a>;</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                std::string nname = m.<a class="code hl_function" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>( elem.second );</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%4d &quot;</span>, elem.second ) + <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code hl_function" href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol</a>,</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>                                    <a class="code hl_function" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> ) + <span class="stringliteral">&quot; &quot;</span> + <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( nname, <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ), m.<a class="code hl_function" href="structmtype.html#abace25d482003f6cfc96e4ef98763eea">get_description</a>() );</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>            }</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>        }</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>        <span class="keywordflow">if</span>( !curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a3077bb64c49d2a19d25b6b59fd21a0b6">npc_kills</a>.empty() ) {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;NPC killed:&quot;</span> ) );</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;npc_name : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a3077bb64c49d2a19d25b6b59fd21a0b6">npc_kills</a> ) {</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%4d &quot;</span>, 1 ) + <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <span class="stringliteral">&quot;@ &quot;</span> + npc_name, <a class="code hl_define" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> ) );</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>            }</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        }</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span> </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span> </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        <span class="keywordflow">if</span>( !curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#abffa26498493ef5540ac4e4abe8e3361">kills</a>.empty() ) {</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span> </div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>            <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;<span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">string_id&lt;mtype&gt;</a>, <span class="keywordtype">int</span>&gt; &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#abffa26498493ef5540ac4e4abe8e3361">kills</a> ) {</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structmtype.html">mtype</a> &amp;m = elem.first.obj();</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>                <a class="code hl_class" href="classnc__color.html">nc_color</a> <a class="code hl_function" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = m.<a class="code hl_variable" href="structmtype.html#a6ad4c76593c4cd6423492169733885a1">color</a>;</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                std::string <a class="code hl_function" href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol</a> = m.<a class="code hl_variable" href="structmtype.html#a38400904b6ae1207054cca44318d0426">sym</a>;</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>                std::string nname = m.<a class="code hl_function" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>( elem.second );</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                <span class="keywordtype">int</span> kills = elem.second;</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>                <span class="keywordflow">if</span>( prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#abffa26498493ef5540ac4e4abe8e3361">kills</a>.count( elem.first ) &gt; 0 ) {</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>                    <span class="keyword">const</span> <span class="keywordtype">int</span> prev_kills = prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#abffa26498493ef5540ac4e4abe8e3361">kills</a>[elem.first];</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>                    <span class="keywordflow">if</span>( kills &gt; prev_kills ) {</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>                        <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>                            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Kills:&quot;</span> ) );</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>                            flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>                        }</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>                        kills = kills - prev_kills;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>                        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%4d &quot;</span>, kills ) + <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code hl_function" href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol</a>,</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>                                            <a class="code hl_function" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> ) + <span class="stringliteral">&quot; &quot;</span> + <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( nname, <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ), m.<a class="code hl_function" href="structmtype.html#abace25d482003f6cfc96e4ef98763eea">get_description</a>() );</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>                    }</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>                    <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>                        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Kills:&quot;</span> ) );</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>                        flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>                    }</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>                    <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%4d &quot;</span>, kills ) + <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code hl_function" href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol</a>,</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>                                        <a class="code hl_function" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> ) + <span class="stringliteral">&quot; &quot;</span> + <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( nname, <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> ), m.<a class="code hl_function" href="structmtype.html#abace25d482003f6cfc96e4ef98763eea">get_description</a>() );</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>                }</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span> </div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span> </div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>            }</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>            <span class="keywordflow">if</span>( !flag ) {</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>            }</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        }</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>        <span class="keywordflow">if</span>( !curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a3077bb64c49d2a19d25b6b59fd21a0b6">npc_kills</a>.empty() ) {</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span> </div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>            <span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;prev_npc_kills = prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a3077bb64c49d2a19d25b6b59fd21a0b6">npc_kills</a>;</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span> </div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>            <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;npc_name : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a3077bb64c49d2a19d25b6b59fd21a0b6">npc_kills</a> ) {</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>                <span class="keywordflow">if</span>( ( <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( prev_npc_kills.begin(), prev_npc_kills.end(),</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>                                 npc_name ) == prev_npc_kills.end() ) ) {</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>                    <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>                        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;NPC killed:&quot;</span> ) );</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>                        flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>                    }</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>                    <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%4d &quot;</span>, 1 ) + <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <span class="stringliteral">&quot;@ &quot;</span> + npc_name, <a class="code hl_define" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> ) );</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>                }</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>            }</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>            <span class="keywordflow">if</span>( !flag ) {</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            }</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>        }</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    }</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>}</div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00348">color.h:349</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a0f25678be1fc95cb81381a004493a4cc"><div class="ttname"><a href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a></div><div class="ttdeci">std::string colorize(const std::string &amp;text, const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00669">color.cpp:669</a></div></div>
<div class="ttc" id="acolor_8h_html_a1b1e3c0bef566a83c3535e38a93ad733"><div class="ttname"><a href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a></div><div class="ttdeci">#define c_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="acolor_8h_html_a39fc218ef401d918701636583a85a168"><div class="ttname"><a href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a></div><div class="ttdeci">#define c_magenta</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00025">color.h:25</a></div></div>
<div class="ttc" id="aeditmap_8cpp_html_a025a5c063205294df20818edc4cfe355"><div class="ttname"><a href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a></div><div class="ttdeci">static nc_color color(const T_t &amp;t)</div></div>
<div class="ttc" id="aeditmap_8cpp_html_aad8315087dc1d0ef9212680412a20601"><div class="ttname"><a href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol</a></div><div class="ttdeci">static int symbol(const T_t &amp;t)</div></div>
<div class="ttc" id="astructdiary__page_html_a3077bb64c49d2a19d25b6b59fd21a0b6"><div class="ttname"><a href="structdiary__page.html#a3077bb64c49d2a19d25b6b59fd21a0b6">diary_page::npc_kills</a></div><div class="ttdeci">std::vector&lt; std::string &gt; npc_kills</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00035">diary.h:35</a></div></div>
<div class="ttc" id="astructdiary__page_html_abffa26498493ef5540ac4e4abe8e3361"><div class="ttname"><a href="structdiary__page.html#abffa26498493ef5540ac4e4abe8e3361">diary_page::kills</a></div><div class="ttdeci">std::map&lt; mtype_id, int &gt; kills</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00033">diary.h:33</a></div></div>
<div class="ttc" id="astructmtype_html"><div class="ttname"><a href="structmtype.html">mtype</a></div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00208">mtype.h:208</a></div></div>
<div class="ttc" id="astructmtype_html_a38400904b6ae1207054cca44318d0426"><div class="ttname"><a href="structmtype.html#a38400904b6ae1207054cca44318d0426">mtype::sym</a></div><div class="ttdeci">std::string sym</div><div class="ttdoc">UTF-8 encoded symbol, should be exactly one cell wide.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00256">mtype.h:256</a></div></div>
<div class="ttc" id="astructmtype_html_a6ad4c76593c4cd6423492169733885a1"><div class="ttname"><a href="structmtype.html#a6ad4c76593c4cd6423492169733885a1">mtype::color</a></div><div class="ttdeci">nc_color color</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00261">mtype.h:261</a></div></div>
<div class="ttc" id="astructmtype_html_a9a8f4ead67d1836e3f4db624533af5aa"><div class="ttname"><a href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">mtype::nname</a></div><div class="ttdeci">std::string nname(unsigned int quantity=1) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00065">mtype.cpp:65</a></div></div>
<div class="ttc" id="astructmtype_html_abace25d482003f6cfc96e4ef98763eea"><div class="ttname"><a href="structmtype.html#abace25d482003f6cfc96e4ef98763eea">mtype::get_description</a></div><div class="ttdeci">std::string get_description() const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00235">mtype.cpp:235</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="diary_8cpp_source.html#l00067">add_to_change_list()</a>, <a class="el" href="color_8h_source.html#l00019">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00025">c_magenta</a>, <a class="el" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color()</a>, <a class="el" href="mtype_8h_source.html#l00261">mtype::color</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="fmtlib__format_8h_source.html#l03355">detail::find()</a>, <a class="el" href="mtype_8cpp_source.html#l00235">mtype::get_description()</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, <a class="el" href="diary_8h_source.html#l00033">diary_page::kills</a>, <a class="el" href="mtype_8cpp_source.html#l00065">mtype::nname()</a>, <a class="el" href="diary_8h_source.html#l00035">diary_page::npc_kills</a>, <a class="el" href="string__formatter_8h_source.html#l00430">string_format()</a>, <a class="el" href="mtype_8h_source.html#l00256">mtype::sym</a>, and <a class="el" href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>.</p>

</div>
</div>
<a id="a09cb51c0f59fd2def93eaac8a0ebc20f" name="a09cb51c0f59fd2def93eaac8a0ebc20f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09cb51c0f59fd2def93eaac8a0ebc20f">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diary::load </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00810">810</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>{</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>    std::string <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = <a class="code hl_function" href="catacharset_8cpp.html#ae8ff0664ea195486ad0940e9a64a2452">base64_encode</a>( <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>().get_save_id() + <span class="stringliteral">&quot;_diary&quot;</span> );</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>    std::string path = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_world_base_save_path() + <span class="stringliteral">&quot;/&quot;</span> + <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> + <span class="stringliteral">&quot;.json&quot;</span>;</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="filesystem_8cpp.html#aea678a36e4bf1e9ff808c85f1f367d30">file_exist</a>( path ) ) {</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>        <a class="code hl_function" href="cata__utility_8cpp.html#a996629d79715bd5b44fb507d0d368476">read_from_file</a>( path, [&amp;]( std::istream &amp; fin ) {</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>            <a class="code hl_function" href="classdiary.html#a89fc35a3512d10c4309fd3f7259ccb3f">deserialize</a>( fin );</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>        } );</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    }</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>}</div>
<div class="ttc" id="acata__utility_8cpp_html_a996629d79715bd5b44fb507d0d368476"><div class="ttname"><a href="cata__utility_8cpp.html#a996629d79715bd5b44fb507d0d368476">read_from_file</a></div><div class="ttdeci">bool read_from_file(const std::string &amp;path, const std::function&lt; void(std::istream &amp;)&gt; &amp;reader)</div><div class="ttdoc">Try to open and read from given file using the given callback.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00520">cata_utility.cpp:520</a></div></div>
<div class="ttc" id="acatacharset_8cpp_html_ae8ff0664ea195486ad0940e9a64a2452"><div class="ttname"><a href="catacharset_8cpp.html#ae8ff0664ea195486ad0940e9a64a2452">base64_encode</a></div><div class="ttdeci">std::string base64_encode(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00276">catacharset.cpp:276</a></div></div>
<div class="ttc" id="afilesystem_8cpp_html_aea678a36e4bf1e9ff808c85f1f367d30"><div class="ttname"><a href="filesystem_8cpp.html#aea678a36e4bf1e9ff808c85f1f367d30">file_exist</a></div><div class="ttdeci">bool file_exist(const std::string &amp;path)</div><div class="ttdoc">Check if file exists.</div><div class="ttdef"><b>Definition:</b> <a href="filesystem_8cpp_source.html#l00075">filesystem.cpp:75</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l04129">overmap.cpp:4129</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="catacharset_8cpp_source.html#l00276">base64_encode()</a>, <a class="el" href="diary_8cpp_source.html#l00821">deserialize()</a>, <a class="el" href="filesystem_8cpp_source.html#l00075">file_exist()</a>, <a class="el" href="game_8cpp_source.html#l00283">g</a>, <a class="el" href="avatar_8cpp_source.html#l00104">get_avatar()</a>, <a class="el" href="overmap_8cpp_source.html#l04129">om_direction::name()</a>, and <a class="el" href="cata__utility_8cpp_source.html#l00520">read_from_file()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l02535">game::load()</a>.</p>

</div>
</div>
<a id="af3b9c43c07534e0c3416b3a049ce67bb" name="af3b9c43c07534e0c3416b3a049ce67bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3b9c43c07534e0c3416b3a049ce67bb">&#9670;&nbsp;</a></span>martial_art_changes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::martial_art_changes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00126">126</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>{</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *curr_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>();</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *prev_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>( -1 );</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="keywordflow">if</span>( curr_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    }</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="keywordflow">if</span>( prev_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        <span class="keywordflow">if</span>( !curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a94b59c08a10f94cdee82cc5bcccb76e2">known_martial_arts</a>.empty() ) {</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Known martial arts:&quot;</span> ) );</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">matype_id</a> &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a94b59c08a10f94cdee82cc5bcccb76e2">known_martial_arts</a> ) {</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;ma = elem.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( ma.name.translated(), ma.description.translated() );</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>            }</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        }</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        <span class="keywordflow">if</span>( prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a94b59c08a10f94cdee82cc5bcccb76e2">known_martial_arts</a>.empty() &amp;&amp; !curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a94b59c08a10f94cdee82cc5bcccb76e2">known_martial_arts</a>.empty() ) {</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;New martial arts:&quot;</span> ) );</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">matype_id</a> &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a94b59c08a10f94cdee82cc5bcccb76e2">known_martial_arts</a> ) {</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;ma = elem.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( ma.name.translated(), ma.description.translated() );</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>            }</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>            <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">matype_id</a> &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a94b59c08a10f94cdee82cc5bcccb76e2">known_martial_arts</a> ) {</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a94b59c08a10f94cdee82cc5bcccb76e2">known_martial_arts</a>.begin(), prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a94b59c08a10f94cdee82cc5bcccb76e2">known_martial_arts</a>.end(),</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>                               elem ) == prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a94b59c08a10f94cdee82cc5bcccb76e2">known_martial_arts</a>.end() ) {</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>                    <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>                        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;New martial arts:&quot;</span> ) );</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>                        flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>                    }</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>                    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;ma = elem.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>                    <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( ma.name.translated(), ma.description.translated() );</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>                }</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>            }</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>            <span class="keywordflow">if</span>( !flag ) {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>            }</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>        }</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    }</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>}</div>
<div class="ttc" id="astructdiary__page_html_a94b59c08a10f94cdee82cc5bcccb76e2"><div class="ttname"><a href="structdiary__page.html#a94b59c08a10f94cdee82cc5bcccb76e2">diary_page::known_martial_arts</a></div><div class="ttdeci">std::vector&lt; matype_id &gt; known_martial_arts</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00048">diary.h:48</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="diary_8cpp_source.html#l00067">add_to_change_list()</a>, <a class="el" href="fmtlib__format_8h_source.html#l03355">detail::find()</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, <a class="el" href="diary_8h_source.html#l00048">diary_page::known_martial_arts</a>, and <a class="el" href="achievement_8cpp_source.html#l00063">string_id&lt; T &gt;::obj()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>.</p>

</div>
</div>
<a id="a0f109b4d98dab7838eb2056cff3c8481" name="a0f109b4d98dab7838eb2056cff3c8481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f109b4d98dab7838eb2056cff3c8481">&#9670;&nbsp;</a></span>max_power_level_changes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::max_power_level_changes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00552">552</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>{</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *curr_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>();</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *prev_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>( -1 );</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>    <span class="keywordflow">if</span>( curr_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>    }</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    <span class="keywordflow">if</span>( prev_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot;Max power:&quot;</span> );</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;color_yellow&gt;%ikJ&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                                           <a class="code hl_function" href="namespaceunits.html#a54442f1523294bc7b9946662beed96e6">units::to_kilojoule</a>( curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a96100050de4f6a73e88cfa6d7bed0560">max_power_level</a> ) ) );</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span> </div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>        <span class="keywordflow">if</span>( curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a96100050de4f6a73e88cfa6d7bed0560">max_power_level</a> != prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a96100050de4f6a73e88cfa6d7bed0560">max_power_level</a> ) {</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot;Max power:&quot;</span> );</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>                                    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;color_yellow&gt;%i&lt;/color&gt; -&gt; &lt;color_yellow&gt;%ikJ&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>                                    <a class="code hl_function" href="namespaceunits.html#a54442f1523294bc7b9946662beed96e6">units::to_kilojoule</a>( prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a96100050de4f6a73e88cfa6d7bed0560">max_power_level</a> ),</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>                                    <a class="code hl_function" href="namespaceunits.html#a54442f1523294bc7b9946662beed96e6">units::to_kilojoule</a>( curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a96100050de4f6a73e88cfa6d7bed0560">max_power_level</a> ) ) );</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>        }</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    }</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>}</div>
<div class="ttc" id="anamespaceunits_html_a54442f1523294bc7b9946662beed96e6"><div class="ttname"><a href="namespaceunits.html#a54442f1523294bc7b9946662beed96e6">units::to_kilojoule</a></div><div class="ttdeci">constexpr value_type to_kilojoule(const quantity&lt; value_type, energy_in_joule_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__energy_8h_source.html#l00046">units_energy.h:46</a></div></div>
<div class="ttc" id="astructdiary__page_html_a96100050de4f6a73e88cfa6d7bed0560"><div class="ttname"><a href="structdiary__page.html#a96100050de4f6a73e88cfa6d7bed0560">diary_page::max_power_level</a></div><div class="ttdeci">units::energy max_power_level</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00054">diary.h:54</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="diary_8cpp_source.html#l00067">add_to_change_list()</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, <a class="el" href="diary_8h_source.html#l00054">diary_page::max_power_level</a>, <a class="el" href="string__formatter_8h_source.html#l00430">string_format()</a>, and <a class="el" href="units__energy_8h_source.html#l00046">units::to_kilojoule()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>.</p>

</div>
</div>
<a id="a8078f58e8ccb22dbed7f3da9f524cc57" name="a8078f58e8ccb22dbed7f3da9f524cc57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8078f58e8ccb22dbed7f3da9f524cc57">&#9670;&nbsp;</a></span>mission_changes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::mission_changes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00172">172</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>{</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *curr_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>();</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *prev_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>( -1 );</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="keywordflow">if</span>( curr_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    }</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="keywordflow">if</span>( prev_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        <span class="keyword">auto</span> add_missions = [&amp;]( <span class="keyword">const</span> std::string <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>, <span class="keyword">const</span> std::vector&lt;int&gt; *missions ) {</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>            <span class="keywordflow">if</span>( !missions-&gt;empty() ) {</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>                <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keywordtype">int</span> uid : *missions ) {</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>                    <a class="code hl_class" href="classmission.html">mission</a> *miss = <a class="code hl_function" href="classmission.html#aae4146d3201610c753263debf3d37467">mission::find</a>( uid );</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>                    <span class="keywordflow">if</span>( miss != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>                        <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>                            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>                            flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>                        }</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>                        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( miss-&gt;<a class="code hl_function" href="classmission.html#aae143a21910af2ecf1d95f7f057c2fb6">name</a>(), miss-&gt;<a class="code hl_function" href="classmission.html#abded6444dc00a68d5f63a9592c1e78c7">get_description</a>() );</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>                    }</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>                }</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>                <span class="keywordflow">if</span>( !flag ) {</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>                    <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>                }</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>            }</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        };</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        add_missions( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Active missions:&quot;</span> ), &amp;curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a84e30f2b2061a10da06b66eebc6d7090">mission_active</a> );</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        add_missions( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Completed missions:&quot;</span> ), &amp;curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#ab3375716049eb912412fd05a77fd39d6">mission_completed</a> );</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        add_missions( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Failed missions:&quot;</span> ), &amp;curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aac2eb1333c20be6d693bb44ca0c6ff31">mission_failed</a> );</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        <span class="keyword">auto</span> add_missions = [&amp;]( <span class="keyword">const</span> std::string <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>, <span class="keyword">const</span> std::vector&lt;int&gt; *missions,</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>        <span class="keyword">const</span> std::vector&lt;int&gt; *prev_missions ) {</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>            <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keywordtype">int</span> uid : *missions ) {</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( prev_missions-&gt;begin(), prev_missions-&gt;end(), uid ) == prev_missions-&gt;end() ) {</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>                    <a class="code hl_class" href="classmission.html">mission</a> *miss = <a class="code hl_function" href="classmission.html#aae4146d3201610c753263debf3d37467">mission::find</a>( uid );</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>                    <span class="keywordflow">if</span>( miss != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>                        <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>                            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>                            flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>                        }</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>                        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( miss-&gt;<a class="code hl_function" href="classmission.html#aae143a21910af2ecf1d95f7f057c2fb6">name</a>(), miss-&gt;<a class="code hl_function" href="classmission.html#abded6444dc00a68d5f63a9592c1e78c7">get_description</a>() );</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>                    }</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>                }</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>                <span class="keywordflow">if</span>( !flag ) {</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>                    <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>                }</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>            }</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        };</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        add_missions( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;New missions:&quot;</span> ), &amp;curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a84e30f2b2061a10da06b66eebc6d7090">mission_active</a>, &amp;prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a84e30f2b2061a10da06b66eebc6d7090">mission_active</a> );</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        add_missions( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;New completed missions:&quot;</span> ), &amp;curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#ab3375716049eb912412fd05a77fd39d6">mission_completed</a>,</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>                      &amp;prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#ab3375716049eb912412fd05a77fd39d6">mission_completed</a> );</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>        add_missions( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;New failed missions:&quot;</span> ), &amp;curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aac2eb1333c20be6d693bb44ca0c6ff31">mission_failed</a>, &amp;prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#aac2eb1333c20be6d693bb44ca0c6ff31">mission_failed</a> );</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span> </div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    }</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>}</div>
<div class="ttc" id="aclassmission_html"><div class="ttname"><a href="classmission.html">mission</a></div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00289">mission.h:290</a></div></div>
<div class="ttc" id="aclassmission_html_aae143a21910af2ecf1d95f7f057c2fb6"><div class="ttname"><a href="classmission.html#aae143a21910af2ecf1d95f7f057c2fb6">mission::name</a></div><div class="ttdeci">std::string name()</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00631">mission.cpp:631</a></div></div>
<div class="ttc" id="aclassmission_html_aae4146d3201610c753263debf3d37467"><div class="ttname"><a href="classmission.html#aae4146d3201610c753263debf3d37467">mission::find</a></div><div class="ttdeci">static mission * find(int id)</div><div class="ttdoc">Returns the mission with the matching id (uid).</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00072">mission.cpp:72</a></div></div>
<div class="ttc" id="aclassmission_html_abded6444dc00a68d5f63a9592c1e78c7"><div class="ttname"><a href="classmission.html#abded6444dc00a68d5f63a9592c1e78c7">mission::get_description</a></div><div class="ttdeci">std::string get_description() const</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00513">mission.cpp:513</a></div></div>
<div class="ttc" id="astructdiary__page_html_a84e30f2b2061a10da06b66eebc6d7090"><div class="ttname"><a href="structdiary__page.html#a84e30f2b2061a10da06b66eebc6d7090">diary_page::mission_active</a></div><div class="ttdeci">std::vector&lt; int &gt; mission_active</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00030">diary.h:30</a></div></div>
<div class="ttc" id="astructdiary__page_html_aac2eb1333c20be6d693bb44ca0c6ff31"><div class="ttname"><a href="structdiary__page.html#aac2eb1333c20be6d693bb44ca0c6ff31">diary_page::mission_failed</a></div><div class="ttdeci">std::vector&lt; int &gt; mission_failed</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00031">diary.h:31</a></div></div>
<div class="ttc" id="astructdiary__page_html_ab3375716049eb912412fd05a77fd39d6"><div class="ttname"><a href="structdiary__page.html#ab3375716049eb912412fd05a77fd39d6">diary_page::mission_completed</a></div><div class="ttdeci">std::vector&lt; int &gt; mission_completed</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00029">diary.h:29</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="diary_8cpp_source.html#l00067">add_to_change_list()</a>, <a class="el" href="mission_8cpp_source.html#l00072">mission::find()</a>, <a class="el" href="fmtlib__format_8h_source.html#l03355">detail::find()</a>, <a class="el" href="mission_8cpp_source.html#l00513">mission::get_description()</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, <a class="el" href="diary_8h_source.html#l00030">diary_page::mission_active</a>, <a class="el" href="diary_8h_source.html#l00029">diary_page::mission_completed</a>, <a class="el" href="diary_8h_source.html#l00031">diary_page::mission_failed</a>, <a class="el" href="mission_8cpp_source.html#l00631">mission::name()</a>, and <a class="el" href="overmap_8cpp_source.html#l04129">om_direction::name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>.</p>

</div>
</div>
<a id="a48a0cea09069099df5f5100a385ae3db" name="a48a0cea09069099df5f5100a385ae3db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48a0cea09069099df5f5100a385ae3db">&#9670;&nbsp;</a></span>new_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::new_page </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00690">690</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>{</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>    std::unique_ptr&lt;diary_page&gt; <a class="code hl_struct" href="structpage.html">page</a>( <span class="keyword">new</span> <a class="code hl_struct" href="structdiary__page.html">diary_page</a>() );</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;m_text = std::string();</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;turn = <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;kills = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_kill_tracker().kills;</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;npc_kills = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_kill_tracker().npc_kills;</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <a class="code hl_class" href="classavatar.html">avatar</a> *u = &amp;<a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>();</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;mission_completed = <a class="code hl_function" href="classmission.html#a0f6bcb9fcb282e5c86af19de376c9839">mission::to_uid_vector</a>( u-&gt;<a class="code hl_function" href="classavatar.html#a8e0f8b762a3c2023adda8062934f1a3c">get_completed_missions</a>() );</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;mission_active = <a class="code hl_function" href="classmission.html#a0f6bcb9fcb282e5c86af19de376c9839">mission::to_uid_vector</a>( u-&gt;<a class="code hl_function" href="classavatar.html#ab9d7689c7af3f73b1adc4c434b426d29">get_active_missions</a>() );</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;mission_failed = <a class="code hl_function" href="classmission.html#a0f6bcb9fcb282e5c86af19de376c9839">mission::to_uid_vector</a>( u-&gt;<a class="code hl_function" href="classavatar.html#acb364421bb9cfdb88c8fa2383ba17dcb">get_failed_missions</a>() );</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;male = u-&gt;<a class="code hl_variable" href="classCharacter.html#a8e6a78e6c4497a9aa7b8cc127dcdd4e3">male</a>;</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;strength = u-&gt;<a class="code hl_function" href="classavatar.html#a9eae7e6950829ede8ddb9dea08e9a96e">get_str_base</a>();</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;dexterity = u-&gt;<a class="code hl_function" href="classavatar.html#a3a130f6f7599b27c3c9cc90e4d72cd98">get_dex_base</a>();</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;intelligence = u-&gt;<a class="code hl_function" href="classavatar.html#a117965be5e12e91e81880d19bf89ea1d">get_int_base</a>();</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;perception = u-&gt;<a class="code hl_function" href="classavatar.html#add19f1e6c229aeee2a5b266f481fe408">get_per_base</a>();</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;traits = u-&gt;<a class="code hl_function" href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">get_mutations</a>( <span class="keyword">false</span> );</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>    <span class="keyword">const</span> <span class="keyword">auto</span> spells = u-&gt;<a class="code hl_variable" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a>-&gt;get_spells();</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classspell.html">spell</a> *<a class="code hl_class" href="classspell.html">spell</a> : spells ) {</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">spell_id</a> &amp;<span class="keywordtype">id</span> = <a class="code hl_class" href="classspell.html">spell</a>-&gt;<a class="code hl_function" href="classspell.html#a7d44bdaf4c9faff438e6b30973d68615">id</a>();</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> lvl = <a class="code hl_class" href="classspell.html">spell</a>-&gt;<a class="code hl_function" href="classspell.html#a006cfd33c15f732b2463eda1ae0686cc">get_level</a>();</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>        <a class="code hl_struct" href="structpage.html">page</a>-&gt;known_spells[<a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>] = lvl;</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    }</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;known_martial_arts = u-&gt;<a class="code hl_variable" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a>-&gt;get_known_styles();</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;bionics = u-&gt;<a class="code hl_function" href="classCharacter.html#ae798c58ced01966f567d2c6fa6971eb8">get_bionics</a>();</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classSkill.html">Skill</a> &amp;elem : <a class="code hl_variable" href="classSkill.html#a441fc250c865d6f560e897ad05d059c3">Skill::skills</a> ) {</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>        <span class="keywordtype">int</span> level = u-&gt;<a class="code hl_function" href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">get_skill_level_object</a>( elem.ident() ).<a class="code hl_function" href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">level</a>();</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>        <a class="code hl_struct" href="structpage.html">page</a>-&gt;skill_levels.insert( { elem.ident(), level } );</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>    }</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>    <a class="code hl_struct" href="structpage.html">page</a>-&gt;max_power_level = u-&gt;<a class="code hl_function" href="classCharacter.html#ac3e27cd8b8fe445e06e6d20d0eb82aff">get_max_power_level</a>();</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">diary::pages</a>.push_back( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( <a class="code hl_struct" href="structpage.html">page</a> ) );</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>}</div>
<div class="ttc" id="aclassCharacter_html_a2726ac089fa49e864b486e289f53fade"><div class="ttname"><a href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">Character::get_skill_level_object</a></div><div class="ttdeci">SkillLevel &amp; get_skill_level_object(const skill_id &amp;ident)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03346">character.cpp:3346</a></div></div>
<div class="ttc" id="aclassCharacter_html_a313797e99525bfd2a5ead68b7672f168"><div class="ttname"><a href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">Character::martial_arts_data</a></div><div class="ttdeci">pimpl&lt; character_martial_arts &gt; martial_arts_data</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01588">character.h:1588</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8e6a78e6c4497a9aa7b8cc127dcdd4e3"><div class="ttname"><a href="classCharacter.html#a8e6a78e6c4497a9aa7b8cc127dcdd4e3">Character::male</a></div><div class="ttdeci">bool male</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01567">character.h:1567</a></div></div>
<div class="ttc" id="aclassCharacter_html_a97c5948a2648dc5fd3e2defd5885cdb0"><div class="ttname"><a href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">Character::get_mutations</a></div><div class="ttdeci">std::vector&lt; trait_id &gt; get_mutations(bool include_hidden=true) const</div><div class="ttdoc">Get the idents of all traits/mutations.</div><div class="ttdef"><b>Definition:</b> <a href="newcharacter_8cpp_source.html#l02860">newcharacter.cpp:2860</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac3e27cd8b8fe445e06e6d20d0eb82aff"><div class="ttname"><a href="classCharacter.html#ac3e27cd8b8fe445e06e6d20d0eb82aff">Character::get_max_power_level</a></div><div class="ttdeci">units::energy get_max_power_level() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01909">character.cpp:1909</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae798c58ced01966f567d2c6fa6971eb8"><div class="ttname"><a href="classCharacter.html#ae798c58ced01966f567d2c6fa6971eb8">Character::get_bionics</a></div><div class="ttdeci">std::vector&lt; bionic_id &gt; get_bionics() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01794">character.cpp:1794</a></div></div>
<div class="ttc" id="aclassCharacter_html_af2ff32cce5f17bcf04be958121abe524"><div class="ttname"><a href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">Character::magic</a></div><div class="ttdeci">pimpl&lt; known_magic &gt; magic</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01485">character.h:1485</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_a28763c074460e59ab2851ab31f9e2a3c"><div class="ttname"><a href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">SkillLevel::level</a></div><div class="ttdeci">int level() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00125">skill.h:125</a></div></div>
<div class="ttc" id="aclassSkill_html"><div class="ttname"><a href="classSkill.html">Skill</a></div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00032">skill.h:33</a></div></div>
<div class="ttc" id="aclassSkill_html_a441fc250c865d6f560e897ad05d059c3"><div class="ttname"><a href="classSkill.html#a441fc250c865d6f560e897ad05d059c3">Skill::skills</a></div><div class="ttdeci">static std::vector&lt; Skill &gt; skills</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00049">skill.h:49</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00054">avatar.h:55</a></div></div>
<div class="ttc" id="aclassavatar_html_a117965be5e12e91e81880d19bf89ea1d"><div class="ttname"><a href="classavatar.html#a117965be5e12e91e81880d19bf89ea1d">avatar::get_int_base</a></div><div class="ttdeci">int get_int_base() const override</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l01022">avatar.cpp:1022</a></div></div>
<div class="ttc" id="aclassavatar_html_a3a130f6f7599b27c3c9cc90e4d72cd98"><div class="ttname"><a href="classavatar.html#a3a130f6f7599b27c3c9cc90e4d72cd98">avatar::get_dex_base</a></div><div class="ttdeci">int get_dex_base() const override</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l01017">avatar.cpp:1017</a></div></div>
<div class="ttc" id="aclassavatar_html_a8e0f8b762a3c2023adda8062934f1a3c"><div class="ttname"><a href="classavatar.html#a8e0f8b762a3c2023adda8062934f1a3c">avatar::get_completed_missions</a></div><div class="ttdeci">std::vector&lt; mission * &gt; get_completed_missions() const</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l00183">avatar.cpp:183</a></div></div>
<div class="ttc" id="aclassavatar_html_a9eae7e6950829ede8ddb9dea08e9a96e"><div class="ttname"><a href="classavatar.html#a9eae7e6950829ede8ddb9dea08e9a96e">avatar::get_str_base</a></div><div class="ttdeci">int get_str_base() const override</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l01012">avatar.cpp:1012</a></div></div>
<div class="ttc" id="aclassavatar_html_ab9d7689c7af3f73b1adc4c434b426d29"><div class="ttname"><a href="classavatar.html#ab9d7689c7af3f73b1adc4c434b426d29">avatar::get_active_missions</a></div><div class="ttdeci">std::vector&lt; mission * &gt; get_active_missions() const</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l00178">avatar.cpp:178</a></div></div>
<div class="ttc" id="aclassavatar_html_acb364421bb9cfdb88c8fa2383ba17dcb"><div class="ttname"><a href="classavatar.html#acb364421bb9cfdb88c8fa2383ba17dcb">avatar::get_failed_missions</a></div><div class="ttdeci">std::vector&lt; mission * &gt; get_failed_missions() const</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l00188">avatar.cpp:188</a></div></div>
<div class="ttc" id="aclassavatar_html_add19f1e6c229aeee2a5b266f481fe408"><div class="ttname"><a href="classavatar.html#add19f1e6c229aeee2a5b266f481fe408">avatar::get_per_base</a></div><div class="ttdeci">int get_per_base() const override</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l01027">avatar.cpp:1027</a></div></div>
<div class="ttc" id="aclassmission_html_a0f6bcb9fcb282e5c86af19de376c9839"><div class="ttname"><a href="classmission.html#a0f6bcb9fcb282e5c86af19de376c9839">mission::to_uid_vector</a></div><div class="ttdeci">static std::vector&lt; int &gt; to_uid_vector(const std::vector&lt; mission * &gt; &amp;vec)</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00117">mission.cpp:117</a></div></div>
<div class="ttc" id="aclassspell_html"><div class="ttname"><a href="classspell.html">spell</a></div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00285">magic.h:286</a></div></div>
<div class="ttc" id="aclassspell_html_a006cfd33c15f732b2463eda1ae0686cc"><div class="ttname"><a href="classspell.html#a006cfd33c15f732b2463eda1ae0686cc">spell::get_level</a></div><div class="ttdeci">int get_level() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01034">magic.cpp:1034</a></div></div>
<div class="ttc" id="aclassspell_html_a7d44bdaf4c9faff438e6b30973d68615"><div class="ttname"><a href="classspell.html#a7d44bdaf4c9faff438e6b30973d68615">spell::id</a></div><div class="ttdeci">spell_id id() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00456">magic.cpp:456</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a04fa69b1c0952a34dc4a7d26b3f9f786"><div class="ttname"><a href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a></div><div class="ttdeci">const std::string id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00087">basecamp.h:87</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00283">g</a>, <a class="el" href="avatar_8cpp_source.html#l00178">avatar::get_active_missions()</a>, <a class="el" href="avatar_8cpp_source.html#l00104">get_avatar()</a>, <a class="el" href="character_8cpp_source.html#l01794">Character::get_bionics()</a>, <a class="el" href="avatar_8cpp_source.html#l00183">avatar::get_completed_missions()</a>, <a class="el" href="avatar_8cpp_source.html#l01017">avatar::get_dex_base()</a>, <a class="el" href="avatar_8cpp_source.html#l00188">avatar::get_failed_missions()</a>, <a class="el" href="avatar_8cpp_source.html#l01022">avatar::get_int_base()</a>, <a class="el" href="magic_8cpp_source.html#l01034">spell::get_level()</a>, <a class="el" href="character_8cpp_source.html#l01909">Character::get_max_power_level()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02860">Character::get_mutations()</a>, <a class="el" href="avatar_8cpp_source.html#l01027">avatar::get_per_base()</a>, <a class="el" href="character_8cpp_source.html#l03346">Character::get_skill_level_object()</a>, <a class="el" href="avatar_8cpp_source.html#l01012">avatar::get_str_base()</a>, <a class="el" href="basecamp_8h_source.html#l00087">base_camps::id</a>, <a class="el" href="magic_8cpp_source.html#l00456">spell::id()</a>, <a class="el" href="skill_8h_source.html#l00125">SkillLevel::level()</a>, <a class="el" href="character_8h_source.html#l01485">Character::magic</a>, <a class="el" href="character_8h_source.html#l01567">Character::male</a>, <a class="el" href="character_8h_source.html#l01588">Character::martial_arts_data</a>, <a class="el" href="avatar__action_8cpp_source.html#l00096">avatar_action::move()</a>, <a class="el" href="diary_8h_source.html#l00068">pages</a>, <a class="el" href="skill_8h_source.html#l00049">Skill::skills</a>, <a class="el" href="mission_8cpp_source.html#l00117">mission::to_uid_vector()</a>, and <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

</div>
</div>
<a id="a06443969896266eb913c97ce8031c86b" name="a06443969896266eb913c97ce8031c86b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06443969896266eb913c97ce8031c86b">&#9670;&nbsp;</a></span>serialize() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diary::serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>jsout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00778">778</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>{</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;owner&quot;</span>, <a class="code hl_variable" href="classdiary.html#a8d8461f55fc270d98364c4c181a74a06">owner</a> );</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;pages&quot;</span> );</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    <span class="keywordflow">for</span>( std::unique_ptr&lt;diary_page&gt; &amp;n : <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a> ) {</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;text&quot;</span>, n-&gt;m_text );</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;turn&quot;</span>, n-&gt;turn );</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;completed&quot;</span>, n-&gt;mission_completed );</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;active&quot;</span>, n-&gt;mission_active );</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;failed&quot;</span>, n-&gt;mission_failed );</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;kills&quot;</span>, n-&gt;kills );</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;npc_kills&quot;</span>, n-&gt;npc_kills );</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;male&quot;</span>, n-&gt;male );</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;str&quot;</span>, n-&gt;strength );</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;dex&quot;</span>, n-&gt;dexterity );</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;int&quot;</span>, n-&gt;intelligence );</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;per&quot;</span>, n-&gt;perception );</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;traits&quot;</span>, n-&gt;traits );</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;bionics&quot;</span>, n-&gt;bionics );</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;spells&quot;</span>, n-&gt;known_spells );</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;skill_levels&quot;</span>, n-&gt;skill_levels );</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;martial_arts&quot;</span>, n-&gt;known_martial_arts );</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;max_power_level&quot;</span>, n-&gt;max_power_level );</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>        jsout.<a class="code hl_function" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>    }</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>}</div>
<div class="ttc" id="aclassJsonOut_html_a44cdd853d4c6913b37caa9f0131eeff2"><div class="ttname"><a href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">JsonOut::end_array</a></div><div class="ttdeci">void end_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02150">json.cpp:2150</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4550e2036b904c4d4a90e440dd41c684"><div class="ttname"><a href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">JsonOut::start_array</a></div><div class="ttdeci">void start_array(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02139">json.cpp:2139</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4756f9a569adbfc60de127f7c335d82f"><div class="ttname"><a href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">JsonOut::start_object</a></div><div class="ttdeci">void start_object(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02120">json.cpp:2120</a></div></div>
<div class="ttc" id="aclassJsonOut_html_aa38d37840ed6ba168b78a43570e98681"><div class="ttname"><a href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">JsonOut::end_object</a></div><div class="ttdeci">void end_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02131">json.cpp:2131</a></div></div>
<div class="ttc" id="aclassJsonOut_html_adb3c899f0ad7fc4f25cd3357c51a2c42"><div class="ttname"><a href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">JsonOut::member</a></div><div class="ttdeci">void member(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02235">json.cpp:2235</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l02150">JsonOut::end_array()</a>, <a class="el" href="json_8cpp_source.html#l02131">JsonOut::end_object()</a>, <a class="el" href="json_8cpp_source.html#l02235">JsonOut::member()</a>, <a class="el" href="diary_8h_source.html#l00066">owner</a>, <a class="el" href="diary_8h_source.html#l00068">pages</a>, <a class="el" href="json_8cpp_source.html#l02139">JsonOut::start_array()</a>, and <a class="el" href="json_8cpp_source.html#l02120">JsonOut::start_object()</a>.</p>

</div>
</div>
<a id="a6d4172f93b61f99c02ef8a359b4daedc" name="a6d4172f93b61f99c02ef8a359b4daedc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d4172f93b61f99c02ef8a359b4daedc">&#9670;&nbsp;</a></span>serialize() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diary::serialize </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>fout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00770">770</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>{</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>    <a class="code hl_class" href="classJsonOut.html">JsonOut</a> jsout( fout, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    jsout.start_object();</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    <a class="code hl_function" href="classdiary.html#a6d4172f93b61f99c02ef8a359b4daedc">serialize</a>( jsout );</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    jsout.end_object();</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>}</div>
<div class="ttc" id="aclassJsonOut_html"><div class="ttname"><a href="classJsonOut.html">JsonOut</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00574">json.h:575</a></div></div>
<div class="ttc" id="aclassdiary_html_a6d4172f93b61f99c02ef8a359b4daedc"><div class="ttname"><a href="classdiary.html#a6d4172f93b61f99c02ef8a359b4daedc">diary::serialize</a></div><div class="ttdeci">void serialize(std::ostream &amp;fout)</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00770">diary.cpp:770</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l02131">JsonOut::end_object()</a>, <a class="el" href="diary_8cpp_source.html#l00770">serialize()</a>, and <a class="el" href="json_8cpp_source.html#l02120">JsonOut::start_object()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00770">serialize()</a>, and <a class="el" href="diary_8cpp_source.html#l00760">store()</a>.</p>

</div>
</div>
<a id="af6469b5ff715938a500d7dde5cb68803" name="af6469b5ff715938a500d7dde5cb68803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6469b5ff715938a500d7dde5cb68803">&#9670;&nbsp;</a></span>set_opened_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int diary::set_opened_page </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>page_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00041">41</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>{</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <span class="keywordflow">if</span>( page_number != <a class="code hl_variable" href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">opened_page</a> ) {</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>        <a class="code hl_variable" href="classdiary.html#a99503e866a4edf7acc31209e55138462">change_list</a>.clear();</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>        <a class="code hl_variable" href="classdiary.html#a0577a52698a647c7c617a96badb379c8">desc_map</a>.clear();</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    }</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.empty() ) {</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>        <a class="code hl_variable" href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">opened_page</a> = -1;</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( page_number &lt; 0 ) {</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>        <a class="code hl_variable" href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">opened_page</a> = <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.size() - 1;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>        <a class="code hl_variable" href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">opened_page</a> = page_number % <a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.size();</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    }</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classdiary.html#ae762e8247e4d80c00810c0fc0bf942a2">opened_page</a>;</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="diary_8h_source.html#l00073">change_list</a>, <a class="el" href="diary_8h_source.html#l00075">desc_map</a>, <a class="el" href="diary_8h_source.html#l00071">opened_page</a>, and <a class="el" href="diary_8h_source.html#l00068">pages</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00723">delete_page()</a>, <a class="el" href="diary_8cpp_source.html#l00731">export_to_md()</a>, and <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

</div>
</div>
<a id="ae91bc2c692491781357f10d8968a4d39" name="ae91bc2c692491781357f10d8968a4d39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae91bc2c692491781357f10d8968a4d39">&#9670;&nbsp;</a></span>set_page_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::set_page_text </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00685">685</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>{</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>()-&gt;<a class="code hl_variable" href="structdiary__page.html#a5d054f340835490c5243fa62addffb4e">m_text</a> = text;</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, and <a class="el" href="diary_8h_source.html#l00025">diary_page::m_text</a>.</p>

</div>
</div>
<a id="a66d05a576c8306885cb621ef7995e625" name="a66d05a576c8306885cb621ef7995e625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66d05a576c8306885cb621ef7995e625">&#9670;&nbsp;</a></span>show_diary_ui()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::show_diary_ui </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdiary.html">diary</a> *&#160;</td>
          <td class="paramname"><em>c_diary</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary__ui_8cpp_source.html#l00164">164</a> of file <a class="el" href="diary__ui_8cpp_source.html">diary_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>{</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_diary;</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_pages; <span class="comment">// pages window, left of diary</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_text; <span class="comment">// right part of diary</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_changes; <span class="comment">// left part of diary</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_border; <span class="comment">// borders of diary</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_desc; <span class="comment">// keybindings window up</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_info; <span class="comment">// bottom window</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span> </div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="keyword">enum class</span> window_mode : int { PAGE_WIN = 0, CHANGE_WIN, TEXT_WIN, NUM_WIN, FIRST_WIN = 0, LAST_WIN = NUM_WIN - 1 };</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    window_mode currwin = window_mode::PAGE_WIN;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span> </div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    std::map&lt;window_mode, int&gt; selected = { {window_mode::PAGE_WIN, 0}, {window_mode::CHANGE_WIN, 0}, {window_mode::TEXT_WIN, 0} };</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span> </div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <a class="code hl_class" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;DIARY&quot;</span> );</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    ctxt.register_cardinal();</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    ctxt.register_action( <span class="stringliteral">&quot;CONFIRM&quot;</span> );</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    ctxt.register_action( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    ctxt.register_action( <span class="stringliteral">&quot;NEW_PAGE&quot;</span> );</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    ctxt.register_action( <span class="stringliteral">&quot;DELETE PAGE&quot;</span> );</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    ctxt.register_action( <span class="stringliteral">&quot;EXPORT_DIARY&quot;</span> );</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    ctxt.register_action( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> ui_diary;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    ui_diary.<a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code hl_namespace" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>        <span class="keyword">const</span> std::pair&lt;point, point&gt; beg_and_max = <a class="code hl_function" href="diary__ui_8cpp.html#a043fb2d99508ebd187b1333cd8984af9">diary_window_position</a>();</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>        <a class="code hl_struct" href="structpoint.html">point</a> beg = ( <a class="code hl_function" href="diary__ui_8cpp.html#ab7406ef8db63c66065e7d218622d4d48">uis_padding</a>() != 0 ) ? <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="diary__ui_8cpp.html#ab7406ef8db63c66065e7d218622d4d48">uis_padding</a>() + <a class="code hl_variable" href="namespaceanonymous__namespace_02diary__ui_8cpp_03.html#a89704e9a29605ed7a423f422907ee24e">MAX_DAIRY_UI_WIDTH</a> / 4 - 3,</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>                    beg_and_max.first.y - 1 ) : beg_and_max.first + <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="diary__ui_8cpp.html#ab7406ef8db63c66065e7d218622d4d48">uis_padding</a>() - 3, -1 );</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        <a class="code hl_struct" href="structpoint.html">point</a> max = <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - beg.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> - 5,</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>                           beg_and_max.second.y ) - <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="diary__ui_8cpp.html#ab7406ef8db63c66065e7d218622d4d48">uis_padding</a>(), 0 );</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> midx = max.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> / 2;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span> </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        w_changes = <a class="code hl_function" href="namespacecatacurses.html#a46f283ad0553e1f25b069e41c3a6bd3f">catacurses::newwin</a>( max.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> - 3, midx - 1, beg + <a class="code hl_variable" href="point_8h.html#a702e673ec0d39d0822e2dc453a6af3e5">point_south</a> );</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        w_text = <a class="code hl_function" href="namespacecatacurses.html#a46f283ad0553e1f25b069e41c3a6bd3f">catacurses::newwin</a>( max.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> - 3, max.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> - midx - 1, beg + <a class="code hl_struct" href="structpoint.html">point</a>( 2 + midx, 3 ) );</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        w_border = <a class="code hl_function" href="namespacecatacurses.html#a46f283ad0553e1f25b069e41c3a6bd3f">catacurses::newwin</a>( max.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + 5, max.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> + 9, beg + <a class="code hl_struct" href="structpoint.html">point</a>( -4, -2 ) );</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        <a class="code hl_namespace" href="namespaceui.html">ui</a>.position_from_window( w_border );</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    } );</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    ui_diary.<a class="code hl_function" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    ui_diary.<a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_changes );</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_text );</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_border );</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        <a class="code hl_function" href="namespaceanonymous__namespace_02diary__ui_8cpp_03.html#a3598f2825ba29afbf6095658102fad6a">draw_diary_border</a>( &amp;w_border );</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span> </div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        <span class="comment">// first get head text, then add the change list to it</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        std::vector&lt;std::string&gt; left_diary_text = c_diary-&gt;<a class="code hl_function" href="classdiary.html#a6d5fd9bc9fb7a6f88ab90d2a39997b2b">get_head_text</a>();</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        std::vector&lt;std::string&gt; <a class="code hl_variable" href="classdiary.html#a99503e866a4edf7acc31209e55138462">change_list</a> = c_diary-&gt;<a class="code hl_function" href="classdiary.html#a6f04f66b87bac6fe12e292805908071c">get_change_list</a>();</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        left_diary_text.insert( left_diary_text.end(), <a class="code hl_variable" href="classdiary.html#a99503e866a4edf7acc31209e55138462">change_list</a>.begin(), <a class="code hl_variable" href="classdiary.html#a99503e866a4edf7acc31209e55138462">change_list</a>.end() );</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>        <a class="code hl_function" href="namespaceanonymous__namespace_02diary__ui_8cpp_03.html#aa17d599fa720185e7f8e114bb5d956a6">print_list_scrollable</a>( &amp;w_changes, left_diary_text, &amp;selected[window_mode::CHANGE_WIN],</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>                               currwin == window_mode::CHANGE_WIN, <span class="keyword">false</span>, <a class="code hl_enumvalue" href="color_8h.html#a258fd137afc4bfddf230fc6aa9b5c050aa6105c0a611b41b08f1209506350279e">report_color_error::yes</a> );</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>        <a class="code hl_function" href="namespaceanonymous__namespace_02diary__ui_8cpp_03.html#aa17d599fa720185e7f8e114bb5d956a6">print_list_scrollable</a>( &amp;w_text, c_diary-&gt;<a class="code hl_function" href="classdiary.html#aafbfa5ecd902193a34752d16009b2b0e">get_page_text</a>(), &amp;selected[window_mode::TEXT_WIN],</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>                               currwin == window_mode::TEXT_WIN, <span class="keyword">false</span>, <a class="code hl_enumvalue" href="color_8h.html#a258fd137afc4bfddf230fc6aa9b5c050a7fa3b767c460b54a2be4d49030b349c7">report_color_error::no</a> );</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_border );</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_changes );</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_text );</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    } );</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> ui_pages;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    ui_pages.<a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code hl_namespace" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        <span class="keyword">const</span> std::pair&lt;point, point&gt; beg_and_max = <a class="code hl_function" href="diary__ui_8cpp.html#a043fb2d99508ebd187b1333cd8984af9">diary_window_position</a>();</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>        <a class="code hl_struct" href="structpoint.html">point</a> beg = beg_and_max.first;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        <a class="code hl_struct" href="structpoint.html">point</a> max = beg_and_max.second;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        w_pages = <a class="code hl_function" href="namespacecatacurses.html#a46f283ad0553e1f25b069e41c3a6bd3f">catacurses::newwin</a>( max.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + 5,</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>                                      ( <a class="code hl_function" href="diary__ui_8cpp.html#ab7406ef8db63c66065e7d218622d4d48">uis_padding</a>() != 0 ) ? <a class="code hl_variable" href="namespaceanonymous__namespace_02diary__ui_8cpp_03.html#a89704e9a29605ed7a423f422907ee24e">MAX_DAIRY_UI_WIDTH</a> / 4 - 7 : beg.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> - 7, <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="diary__ui_8cpp.html#ab7406ef8db63c66065e7d218622d4d48">uis_padding</a>(),</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>                                              beg.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> - 3 ) );</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>        <a class="code hl_namespace" href="namespaceui.html">ui</a>.position_from_window( w_pages );</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    } );</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    ui_pages.<a class="code hl_function" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    ui_pages.<a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_pages );</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span> </div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        <a class="code hl_function" href="namespaceanonymous__namespace_02diary__ui_8cpp_03.html#aa17d599fa720185e7f8e114bb5d956a6">print_list_scrollable</a>( &amp;w_pages, c_diary-&gt;<a class="code hl_function" href="classdiary.html#a258954db4774907392c34f72e97d4276">get_pages_list</a>(), &amp;selected[window_mode::PAGE_WIN],</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>                               currwin == window_mode::PAGE_WIN, <span class="keyword">true</span>, <a class="code hl_enumvalue" href="color_8h.html#a258fd137afc4bfddf230fc6aa9b5c050aa6105c0a611b41b08f1209506350279e">report_color_error::yes</a> );</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        <a class="code hl_function" href="output_8cpp.html#a8fb393e085b34b04ed037521fb92671b">center_print</a>( w_pages, 0, <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;pages: %d&quot;</span> ),</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>                      c_diary-&gt;<a class="code hl_function" href="classdiary.html#a258954db4774907392c34f72e97d4276">get_pages_list</a>().size() ) );</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_pages );</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    } );</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> ui_desc;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    ui_desc.<a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code hl_namespace" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>        <span class="keyword">const</span> std::pair&lt;point, point&gt; beg_and_max = <a class="code hl_function" href="diary__ui_8cpp.html#a043fb2d99508ebd187b1333cd8984af9">diary_window_position</a>();</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        <a class="code hl_struct" href="structpoint.html">point</a> beg = beg_and_max.first;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        w_desc = <a class="code hl_function" href="namespacecatacurses.html#a46f283ad0553e1f25b069e41c3a6bd3f">catacurses::newwin</a>( 3, <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - <a class="code hl_function" href="diary__ui_8cpp.html#ab7406ef8db63c66065e7d218622d4d48">uis_padding</a>() * 2, <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="diary__ui_8cpp.html#ab7406ef8db63c66065e7d218622d4d48">uis_padding</a>(), beg.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> - 6 ) );</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span> </div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        <a class="code hl_namespace" href="namespaceui.html">ui</a>.position_from_window( w_desc );</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    } );</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    ui_desc.<a class="code hl_function" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    ui_desc.<a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_desc );</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span> </div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        <a class="code hl_function" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( w_desc );</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>        <a class="code hl_function" href="output_8cpp.html#a8fb393e085b34b04ed037521fb92671b">center_print</a>( w_desc, 0, <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s&#39;s Diary&quot;</span> ), c_diary-&gt;<a class="code hl_variable" href="classdiary.html#a8d8461f55fc270d98364c4c181a74a06">owner</a> ) );</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>        std::string desc = <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s, %s, %s, %s&quot;</span> ),</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>                                          ctxt.get_desc( <span class="stringliteral">&quot;NEW_PAGE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;New page&quot;</span> ), <a class="code hl_variable" href="classinput__context.html#adbc1d8663a9378309e7ebe57a4693d66">input_context::allow_all_keys</a> ),</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>                                          ctxt.get_desc( <span class="stringliteral">&quot;CONFIRM&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Edit text&quot;</span> ), <a class="code hl_variable" href="classinput__context.html#adbc1d8663a9378309e7ebe57a4693d66">input_context::allow_all_keys</a> ),</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>                                          ctxt.get_desc( <span class="stringliteral">&quot;DELETE PAGE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Delete page&quot;</span> ), <a class="code hl_variable" href="classinput__context.html#adbc1d8663a9378309e7ebe57a4693d66">input_context::allow_all_keys</a> ),</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>                                          ctxt.get_desc( <span class="stringliteral">&quot;EXPORT_DIARY&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Export diary&quot;</span> ), <a class="code hl_variable" href="classinput__context.html#adbc1d8663a9378309e7ebe57a4693d66">input_context::allow_all_keys</a> )</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>                                        );</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        <a class="code hl_function" href="output_8cpp.html#a8fb393e085b34b04ed037521fb92671b">center_print</a>( w_desc, 1, <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, desc );</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_desc );</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    } );</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> ui_info;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    ui_info.<a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code hl_namespace" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        <span class="keyword">const</span> std::pair&lt;point, point&gt; beg_and_max = <a class="code hl_function" href="diary__ui_8cpp.html#a043fb2d99508ebd187b1333cd8984af9">diary_window_position</a>();</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        <a class="code hl_struct" href="structpoint.html">point</a> beg = beg_and_max.first;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        <a class="code hl_struct" href="structpoint.html">point</a> max = beg_and_max.second;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>        w_info = <a class="code hl_function" href="namespacecatacurses.html#a46f283ad0553e1f25b069e41c3a6bd3f">catacurses::newwin</a>( ( <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> - beg.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> - max.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> - 2 ) &gt; 7 ? 7 : <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> - beg.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> - max.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> - 2,</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>                                     <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - <a class="code hl_function" href="diary__ui_8cpp.html#ab7406ef8db63c66065e7d218622d4d48">uis_padding</a>() * 2, <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="diary__ui_8cpp.html#ab7406ef8db63c66065e7d218622d4d48">uis_padding</a>(), beg.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + max.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> + 2 ) );</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span> </div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>        <a class="code hl_namespace" href="namespaceui.html">ui</a>.position_from_window( w_info );</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    } );</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    ui_info.<a class="code hl_function" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    ui_info.<a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_info );</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span> </div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        <a class="code hl_function" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( w_info );</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <a class="code hl_function" href="output_8cpp.html#a8fb393e085b34b04ed037521fb92671b">center_print</a>( w_info, 0, <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Info&quot;</span> ) ) );</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="keywordflow">if</span>( currwin == window_mode::CHANGE_WIN || currwin == window_mode::TEXT_WIN ) {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>            <a class="code hl_function" href="output_8cpp.html#a8fe6897b9287a349d2eb4159b864afe8">fold_and_print</a>( w_info, <a class="code hl_variable" href="point_8h.html#a5c8645fbdd39f3862d10d1521f3d0254">point_south_east</a>, <a class="code hl_function" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w_info ) - 2, <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>                            c_diary-&gt;<a class="code hl_function" href="classdiary.html#a4d8673546132edabe134be1168c73ea4">get_desc_map</a>()[selected[window_mode::CHANGE_WIN]] ) );</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        }</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span> </div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_info );</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    } );</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span> </div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>        <span class="keywordflow">if</span>( ( !c_diary-&gt;<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.empty() &amp;&amp;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>              selected[window_mode::PAGE_WIN] &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( c_diary-&gt;<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.size() ) ) ||</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>            ( c_diary-&gt;<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.empty() &amp;&amp; selected[window_mode::PAGE_WIN] != 0 ) ) {</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>            selected[window_mode::PAGE_WIN] = 0;</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>        }</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        selected[window_mode::PAGE_WIN] = c_diary-&gt;<a class="code hl_function" href="classdiary.html#af6469b5ff715938a500d7dde5cb68803">set_opened_page</a>( selected[window_mode::PAGE_WIN] );</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>        ui_diary.<a class="code hl_function" href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">invalidate_ui</a>();</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>        ui_pages.<a class="code hl_function" href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">invalidate_ui</a>();</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>        ui_desc.<a class="code hl_function" href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">invalidate_ui</a>();</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        ui_info.<a class="code hl_function" href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">invalidate_ui</a>();</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        <a class="code hl_function" href="namespaceui__manager.html#a5496220e43b7d5f1b3cbbebe6cf1f83d">ui_manager::redraw_invalidated</a>();</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>        <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.handle_input();</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;RIGHT&quot;</span> ) {</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>            currwin = <span class="keyword">static_cast&lt;</span>window_mode<span class="keyword">&gt;</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( currwin ) + 1 );</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>            <span class="keywordflow">if</span>( currwin &gt;= window_mode::NUM_WIN ) {</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                currwin = window_mode::FIRST_WIN;</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>            }</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>            selected[window_mode::TEXT_WIN] = 0;</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;LEFT&quot;</span> ) {</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>            currwin = <span class="keyword">static_cast&lt;</span>window_mode<span class="keyword">&gt;</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( currwin ) - 1 );</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>            <span class="keywordflow">if</span>( currwin &lt; window_mode::FIRST_WIN ) {</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>                currwin = window_mode::LAST_WIN;</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>            }</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>            selected[window_mode::TEXT_WIN] = 0;</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DOWN&quot;</span> ) {</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>            selected[currwin]++;</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>            <span class="keywordflow">if</span>( selected[window_mode::PAGE_WIN] &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( c_diary-&gt;<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.size() ) ) {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>                selected[window_mode::PAGE_WIN] = 0;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>            }</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;UP&quot;</span> ) {</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>            selected[currwin]--;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>            <span class="keywordflow">if</span>( selected[window_mode::PAGE_WIN] &lt; 0 ) {</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>                selected[window_mode::PAGE_WIN] = c_diary-&gt;<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.empty() ? 0 : c_diary-&gt;<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.size() - 1;</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>            }</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> ) {</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>            <span class="keywordflow">if</span>( !c_diary-&gt;<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.empty() ) {</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>                c_diary-&gt;<a class="code hl_function" href="classdiary.html#a5828b8fb6180e37f932a666b0900dc08">edit_page_ui</a>( [&amp;]() {</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>                    <span class="keywordflow">return</span> w_text;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>                } );</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>            }</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;NEW_PAGE&quot;</span> ) {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>            c_diary-&gt;<a class="code hl_function" href="classdiary.html#a48a0cea09069099df5f5100a385ae3db">new_page</a>();</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>            selected[window_mode::PAGE_WIN] = c_diary-&gt;<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.size() - 1;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span> </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DELETE PAGE&quot;</span> ) {</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>            <span class="keywordflow">if</span>( !c_diary-&gt;<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.empty() ) {</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Delete this page from the diary?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>                    c_diary-&gt;<a class="code hl_function" href="classdiary.html#a366422f3e1571b56a7eb25b2aa4fcbda">delete_page</a>();</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>                    <span class="keywordflow">if</span>( selected[window_mode::PAGE_WIN] &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( c_diary-&gt;<a class="code hl_variable" href="classdiary.html#a97ad2dbccb0c00daf2921a5e7cf69b9d">pages</a>.size() ) ) {</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>                        selected[window_mode::PAGE_WIN] --;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>                    }</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>                }</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>            }</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;EXPORT_DIARY&quot;</span> ) {</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Export the diary as .md?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>                c_diary-&gt;<a class="code hl_function" href="classdiary.html#acd7808ad7a0b97e48b7de3910b666f44">export_to_md</a>();</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>            }</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span> </div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        }</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    }</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>}</div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclassdiary_html_a258954db4774907392c34f72e97d4276"><div class="ttname"><a href="classdiary.html#a258954db4774907392c34f72e97d4276">diary::get_pages_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_pages_list()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00032">diary.cpp:32</a></div></div>
<div class="ttc" id="aclassdiary_html_a366422f3e1571b56a7eb25b2aa4fcbda"><div class="ttname"><a href="classdiary.html#a366422f3e1571b56a7eb25b2aa4fcbda">diary::delete_page</a></div><div class="ttdeci">void delete_page()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00723">diary.cpp:723</a></div></div>
<div class="ttc" id="aclassdiary_html_a48a0cea09069099df5f5100a385ae3db"><div class="ttname"><a href="classdiary.html#a48a0cea09069099df5f5100a385ae3db">diary::new_page</a></div><div class="ttdeci">void new_page()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00690">diary.cpp:690</a></div></div>
<div class="ttc" id="aclassdiary_html_a4d8673546132edabe134be1168c73ea4"><div class="ttname"><a href="classdiary.html#a4d8673546132edabe134be1168c73ea4">diary::get_desc_map</a></div><div class="ttdeci">std::map&lt; int, std::string &gt; get_desc_map()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00596">diary.cpp:596</a></div></div>
<div class="ttc" id="aclassdiary_html_a5828b8fb6180e37f932a666b0900dc08"><div class="ttname"><a href="classdiary.html#a5828b8fb6180e37f932a666b0900dc08">diary::edit_page_ui</a></div><div class="ttdeci">void edit_page_ui()</div></div>
<div class="ttc" id="aclassdiary_html_aafbfa5ecd902193a34752d16009b2b0e"><div class="ttname"><a href="classdiary.html#aafbfa5ecd902193a34752d16009b2b0e">diary::get_page_text</a></div><div class="ttdeci">std::string get_page_text()</div><div class="ttdef"><b>Definition:</b> <a href="diary_8cpp_source.html#l00607">diary.cpp:607</a></div></div>
<div class="ttc" id="aclassinput__context_html"><div class="ttname"><a href="classinput__context.html">input_context</a></div><div class="ttdoc">Represents a context in which a set of actions can be performed.</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00381">input.h:382</a></div></div>
<div class="ttc" id="aclassui__adaptor_html"><div class="ttname"><a href="classui__adaptor.html">ui_adaptor</a></div><div class="ttdoc">Adaptor between UI code and the UI management system.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00064">ui_manager.h:65</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_a1629a0fbc701c48c974bb374f6cfad16"><div class="ttname"><a href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">ui_adaptor::invalidate_ui</a></div><div class="ttdeci">void invalidate_ui() const</div><div class="ttdoc">Invalidate this UI so it gets redrawn the next redraw unless an upper UI completely occludes this UI.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00199">ui_manager.cpp:199</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_a37e0f0811d9460640b86442a1facc87d"><div class="ttname"><a href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">ui_adaptor::on_redraw</a></div><div class="ttdeci">void on_redraw(const redraw_callback_t &amp;fun)</div><div class="ttdoc">Set redraw and resize callbacks.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00127">ui_manager.cpp:127</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_abf55c7afc0d78d45a35788575f4c3cd5"><div class="ttname"><a href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">ui_adaptor::on_screen_resize</a></div><div class="ttdeci">void on_screen_resize(const screen_resize_callback_t &amp;fun)</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00132">ui_manager.cpp:132</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_aca44063b3d85e97d97e2701ef3656433"><div class="ttname"><a href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">ui_adaptor::mark_resize</a></div><div class="ttdeci">void mark_resize() const</div><div class="ttdoc">Mark this ui_adaptor for resizing the next time it is redrawn.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00137">ui_manager.cpp:137</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00018">color.h:18</a></div></div>
<div class="ttc" id="acolor_8h_html_a258fd137afc4bfddf230fc6aa9b5c050a7fa3b767c460b54a2be4d49030b349c7"><div class="ttname"><a href="color_8h.html#a258fd137afc4bfddf230fc6aa9b5c050a7fa3b767c460b54a2be4d49030b349c7">report_color_error::no</a></div><div class="ttdeci">@ no</div></div>
<div class="ttc" id="acolor_8h_html_a258fd137afc4bfddf230fc6aa9b5c050aa6105c0a611b41b08f1209506350279e"><div class="ttname"><a href="color_8h.html#a258fd137afc4bfddf230fc6aa9b5c050aa6105c0a611b41b08f1209506350279e">report_color_error::yes</a></div><div class="ttdeci">@ yes</div></div>
<div class="ttc" id="adiary__ui_8cpp_html_a043fb2d99508ebd187b1333cd8984af9"><div class="ttname"><a href="diary__ui_8cpp.html#a043fb2d99508ebd187b1333cd8984af9">diary_window_position</a></div><div class="ttdeci">static std::pair&lt; point, point &gt; diary_window_position()</div><div class="ttdef"><b>Definition:</b> <a href="diary__ui_8cpp_source.html#l00150">diary_ui.cpp:150</a></div></div>
<div class="ttc" id="adiary__ui_8cpp_html_ab7406ef8db63c66065e7d218622d4d48"><div class="ttname"><a href="diary__ui_8cpp.html#ab7406ef8db63c66065e7d218622d4d48">uis_padding</a></div><div class="ttdeci">static int uis_padding()</div><div class="ttdef"><b>Definition:</b> <a href="diary__ui_8cpp_source.html#l00158">diary_ui.cpp:158</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02diary__ui_8cpp_03_html_a3598f2825ba29afbf6095658102fad6a"><div class="ttname"><a href="namespaceanonymous__namespace_02diary__ui_8cpp_03.html#a3598f2825ba29afbf6095658102fad6a">anonymous_namespace{diary_ui.cpp}::draw_diary_border</a></div><div class="ttdeci">void draw_diary_border(catacurses::window *win, const nc_color &amp;color=c_white)</div><div class="ttdef"><b>Definition:</b> <a href="diary__ui_8cpp_source.html#l00097">diary_ui.cpp:97</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02diary__ui_8cpp_03_html_a89704e9a29605ed7a423f422907ee24e"><div class="ttname"><a href="namespaceanonymous__namespace_02diary__ui_8cpp_03.html#a89704e9a29605ed7a423f422907ee24e">anonymous_namespace{diary_ui.cpp}::MAX_DAIRY_UI_WIDTH</a></div><div class="ttdeci">const int MAX_DAIRY_UI_WIDTH</div><div class="ttdef"><b>Definition:</b> <a href="diary__ui_8cpp_source.html#l00027">diary_ui.cpp:27</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02diary__ui_8cpp_03_html_aa17d599fa720185e7f8e114bb5d956a6"><div class="ttname"><a href="namespaceanonymous__namespace_02diary__ui_8cpp_03.html#aa17d599fa720185e7f8e114bb5d956a6">anonymous_namespace{diary_ui.cpp}::print_list_scrollable</a></div><div class="ttdeci">void print_list_scrollable(catacurses::window *win, std::string text, int *selection, bool active, bool border, const report_color_error color_error)</div><div class="ttdef"><b>Definition:</b> <a href="diary__ui_8cpp_source.html#l00090">diary_ui.cpp:90</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a46f283ad0553e1f25b069e41c3a6bd3f"><div class="ttname"><a href="namespacecatacurses.html#a46f283ad0553e1f25b069e41c3a6bd3f">catacurses::newwin</a></div><div class="ttdeci">window newwin(int nlines, int ncols, point begin)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00034">ncurses_def.cpp:34</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00058">ncurses_def.cpp:58</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa9823d249c21fa50daf277957fabb175"><div class="ttname"><a href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">catacurses::wnoutrefresh</a></div><div class="ttdeci">void wnoutrefresh(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00043">ncurses_def.cpp:43</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_ace2ce3990cb812fb83adf6e4ea1f9e8e"><div class="ttname"><a href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">catacurses::werase</a></div><div class="ttdeci">void werase(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00053">ncurses_def.cpp:53</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_a5496220e43b7d5f1b3cbbebe6cf1f83d"><div class="ttname"><a href="namespaceui__manager.html#a5496220e43b7d5f1b3cbbebe6cf1f83d">ui_manager::redraw_invalidated</a></div><div class="ttdeci">void redraw_invalidated()</div><div class="ttdoc">Redraw all invalidated windows without invalidating the top window.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00394">ui_manager.cpp:394</a></div></div>
<div class="ttc" id="anamespaceui_html"><div class="ttname"><a href="namespaceui.html">ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00016">overmap_ui.h:17</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a000abea6447dfafd5f9b787aa6753609"><div class="ttname"><a href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a></div><div class="ttdeci">int TERMX</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00047">output.cpp:47</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a567a63be8cb70cc3eb47bf8affced8e5"><div class="ttname"><a href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a></div><div class="ttdeci">int TERMY</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00048">output.cpp:48</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a8fb393e085b34b04ed037521fb92671b"><div class="ttname"><a href="output_8cpp.html#a8fb393e085b34b04ed037521fb92671b">center_print</a></div><div class="ttdeci">void center_print(const catacurses::window &amp;w, const int y, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00446">output.cpp:446</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a8fe6897b9287a349d2eb4159b864afe8"><div class="ttname"><a href="output_8cpp.html#a8fe6897b9287a349d2eb4159b864afe8">fold_and_print</a></div><div class="ttdeci">int fold_and_print(const catacurses::window &amp;w, point begin, int width, const nc_color &amp;base_color, const std::string &amp;text, const char split)</div><div class="ttdoc">Fold and print text in the given window.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00299">output.cpp:299</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afea9968fcee47ebca0e45d27099d1c22"><div class="ttname"><a href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a></div><div class="ttdeci">void draw_border(const catacurses::window &amp;w, nc_color border_color, const std::string &amp;title, nc_color title_color)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00575">output.cpp:575</a></div></div>
<div class="ttc" id="apoint_8h_html_a5c8645fbdd39f3862d10d1521f3d0254"><div class="ttname"><a href="point_8h.html#a5c8645fbdd39f3862d10d1521f3d0254">point_south_east</a></div><div class="ttdeci">static constexpr point point_south_east</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00265">point.h:265</a></div></div>
<div class="ttc" id="apoint_8h_html_a702e673ec0d39d0822e2dc453a6af3e5"><div class="ttname"><a href="point_8h.html#a702e673ec0d39d0822e2dc453a6af3e5">point_south</a></div><div class="ttdeci">static constexpr point point_south</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00266">point.h:266</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
<div class="ttc" id="astructpoint_html_a9a82ca9504acabb1e30569f89c805471"><div class="ttname"><a href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00039">point.h:39</a></div></div>
<div class="ttc" id="astructpoint_html_ad679b07fb69d55f5ad454d0f1f2891d5"><div class="ttname"><a href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00038">point.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="dialogue_8h_source.html#l00036">action</a>, <a class="el" href="input_8h_source.html#l00541">input_context::allow_all_keys</a>, <a class="el" href="color_8h_source.html#l00019">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00018">c_white</a>, <a class="el" href="output_8cpp_source.html#l00446">center_print()</a>, <a class="el" href="diary_8h_source.html#l00073">change_list</a>, <a class="el" href="diary_8cpp_source.html#l00723">delete_page()</a>, <a class="el" href="diary__ui_8cpp_source.html#l00150">diary_window_position()</a>, <a class="el" href="output_8cpp_source.html#l00575">draw_border()</a>, <a class="el" href="diary__ui_8cpp_source.html#l00097">anonymous_namespace{diary_ui.cpp}::draw_diary_border()</a>, <a class="el" href="classdiary.html#a5828b8fb6180e37f932a666b0900dc08">edit_page_ui()</a>, <a class="el" href="diary_8cpp_source.html#l00731">export_to_md()</a>, <a class="el" href="output_8cpp_source.html#l00299">fold_and_print()</a>, <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>, <a class="el" href="input_8cpp_source.html#l00750">input_context::get_desc()</a>, <a class="el" href="diary_8cpp_source.html#l00596">get_desc_map()</a>, <a class="el" href="diary_8cpp_source.html#l00616">get_head_text()</a>, <a class="el" href="diary_8cpp_source.html#l00607">get_page_text()</a>, <a class="el" href="diary_8cpp_source.html#l00032">get_pages_list()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00058">catacurses::getmaxx()</a>, <a class="el" href="input_8cpp_source.html#l00848">input_context::handle_input()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00199">ui_adaptor::invalidate_ui()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00137">ui_adaptor::mark_resize()</a>, <a class="el" href="diary__ui_8cpp_source.html#l00027">anonymous_namespace{diary_ui.cpp}::MAX_DAIRY_UI_WIDTH</a>, <a class="el" href="diary_8cpp_source.html#l00690">new_page()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00034">catacurses::newwin()</a>, <a class="el" href="color_8h.html#a258fd137afc4bfddf230fc6aa9b5c050a7fa3b767c460b54a2be4d49030b349c7">no</a>, <a class="el" href="ui__manager_8cpp_source.html#l00127">ui_adaptor::on_redraw()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00132">ui_adaptor::on_screen_resize()</a>, <a class="el" href="diary_8h_source.html#l00066">owner</a>, <a class="el" href="diary_8h_source.html#l00068">pages</a>, <a class="el" href="point_8h_source.html#l00266">point_south</a>, <a class="el" href="point_8h_source.html#l00265">point_south_east</a>, <a class="el" href="diary__ui_8cpp_source.html#l00090">anonymous_namespace{diary_ui.cpp}::print_list_scrollable()</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00394">ui_manager::redraw_invalidated()</a>, <a class="el" href="input_8cpp_source.html#l00672">input_context::register_action()</a>, <a class="el" href="input_8cpp_source.html#l00930">input_context::register_cardinal()</a>, <a class="el" href="diary_8cpp_source.html#l00041">set_opened_page()</a>, <a class="el" href="string__formatter_8h_source.html#l00430">string_format()</a>, <a class="el" href="output_8cpp_source.html#l00047">TERMX</a>, <a class="el" href="output_8cpp_source.html#l00048">TERMY</a>, <a class="el" href="diary__ui_8cpp_source.html#l00158">uis_padding()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00053">catacurses::werase()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00043">catacurses::wnoutrefresh()</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, <a class="el" href="point_8h_source.html#l00039">point::y</a>, and <a class="el" href="color_8h.html#a258fd137afc4bfddf230fc6aa9b5c050aa6105c0a611b41b08f1209506350279e">yes</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00672">death_entry()</a>, and <a class="el" href="handle__action_8cpp_source.html#l01527">game::handle_action()</a>.</p>

</div>
</div>
<a id="aaf3223f044433acc53d75b76a0c771c3" name="aaf3223f044433acc53d75b76a0c771c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf3223f044433acc53d75b76a0c771c3">&#9670;&nbsp;</a></span>skill_changes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::skill_changes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00380">380</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>{</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *curr_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>();</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *prev_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>( -1 );</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <span class="keywordflow">if</span>( curr_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    }</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <span class="keywordflow">if</span>( prev_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>        <span class="keywordflow">if</span>( curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a75918244b5570a92f5a13deca32bb360">skill_levels</a>.empty() ) {</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span> </div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Skills:&quot;</span> ) );</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;<span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">string_id&lt;Skill&gt;</a>, <span class="keywordtype">int</span>&gt; &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a75918244b5570a92f5a13deca32bb360">skill_levels</a> ) {</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span> </div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                <span class="keywordflow">if</span>( elem.second &gt; 0 ) {</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                    <a class="code hl_class" href="classSkill.html">Skill</a> s = elem.first.obj();</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                    <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&lt;color_light_blue&gt;%s: %d&lt;/color&gt;&quot;</span>, s.<a class="code hl_function" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>(), elem.second ),</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                                        s.<a class="code hl_function" href="classSkill.html#a436d048c727f893a752608f9b38ab18a">description</a>() );</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>                }</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>            }</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        }</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span> </div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;<span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">string_id&lt;Skill&gt;</a>, <span class="keywordtype">int</span>&gt; &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a75918244b5570a92f5a13deca32bb360">skill_levels</a> ) {</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>            <span class="keywordflow">if</span>( prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a75918244b5570a92f5a13deca32bb360">skill_levels</a>.find( elem.first ) != prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a75918244b5570a92f5a13deca32bb360">skill_levels</a>.end() ) {</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>                <span class="keywordflow">if</span>( prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a75918244b5570a92f5a13deca32bb360">skill_levels</a>[elem.first] != elem.second ) {</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>                    <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>                        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Skills:&quot;</span> ) );</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>                        flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>                    }</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>                    <a class="code hl_class" href="classSkill.html">Skill</a> s = elem.first.obj();</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>                    <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;color_light_blue&gt;%s: %d -&gt; %d&lt;/color&gt;&quot;</span> ), s.<a class="code hl_function" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>(),</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>                                                       prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a75918244b5570a92f5a13deca32bb360">skill_levels</a>[elem.first], elem.second ), s.<a class="code hl_function" href="classSkill.html#a436d048c727f893a752608f9b38ab18a">description</a>() );</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>                }</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span> </div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>            }</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span> </div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>        }</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>        <span class="keywordflow">if</span>( !flag ) {</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>        }</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span> </div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    }</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>}</div>
<div class="ttc" id="aclassSkill_html_a11c69074ce9b251983f170510808bd85"><div class="ttname"><a href="classSkill.html#a11c69074ce9b251983f170510808bd85">Skill::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00068">skill.h:68</a></div></div>
<div class="ttc" id="aclassSkill_html_a436d048c727f893a752608f9b38ab18a"><div class="ttname"><a href="classSkill.html#a436d048c727f893a752608f9b38ab18a">Skill::description</a></div><div class="ttdeci">std::string description() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00071">skill.h:71</a></div></div>
<div class="ttc" id="astructdiary__page_html_a75918244b5570a92f5a13deca32bb360"><div class="ttname"><a href="structdiary__page.html#a75918244b5570a92f5a13deca32bb360">diary_page::skill_levels</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; skill_levels</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00052">diary.h:52</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="diary_8cpp_source.html#l00067">add_to_change_list()</a>, <a class="el" href="skill_8h_source.html#l00071">Skill::description()</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, <a class="el" href="skill_8h_source.html#l00068">Skill::name()</a>, <a class="el" href="diary_8h_source.html#l00052">diary_page::skill_levels</a>, and <a class="el" href="string__formatter_8h_source.html#l00430">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>.</p>

</div>
</div>
<a id="a5ff278fdf400df7ead4de72650753ffb" name="a5ff278fdf400df7ead4de72650753ffb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ff278fdf400df7ead4de72650753ffb">&#9670;&nbsp;</a></span>spell_changes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::spell_changes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00077">77</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>{</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <a class="code hl_class" href="classavatar.html">avatar</a> *u = &amp;<a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>();</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *curr_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>();</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *prev_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>( -1 );</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="keywordflow">if</span>( curr_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    }</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="keywordflow">if</span>( prev_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>        <span class="keywordflow">if</span>( !curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a63ca9723270bc3628a401e3b629ec304">known_spells</a>.empty() ) {</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Known spells:&quot;</span> ) );</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;<span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">string_id&lt;spell_type&gt;</a>, <span class="keywordtype">int</span>&gt; &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a63ca9723270bc3628a401e3b629ec304">known_spells</a> ) {</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>                <span class="keyword">const</span> <a class="code hl_class" href="classspell.html">spell</a> s = u-&gt;<a class="code hl_variable" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a>-&gt;get_spell( elem.first );</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s: %d&quot;</span> ), s.<a class="code hl_function" href="classspell.html#abdf34d5415c3fdafcd84fe3a7101bddb">name</a>(), elem.second ), s.<a class="code hl_function" href="classspell.html#acc66691f05cd20a085370d79df52bafa">description</a>() );</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>            }</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>        }</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>        <span class="keywordflow">if</span>( !curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a63ca9723270bc3628a401e3b629ec304">known_spells</a>.empty() ) {</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>            <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;<span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">string_id&lt;spell_type&gt;</a>, <span class="keywordtype">int</span>&gt; &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a63ca9723270bc3628a401e3b629ec304">known_spells</a> ) {</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>                <span class="keywordflow">if</span>( prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a63ca9723270bc3628a401e3b629ec304">known_spells</a>.find( elem.first ) != prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a63ca9723270bc3628a401e3b629ec304">known_spells</a>.end() ) {</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>                    <span class="keyword">const</span> <span class="keywordtype">int</span> prev_lvl = prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a63ca9723270bc3628a401e3b629ec304">known_spells</a>[elem.first];</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>                    <span class="keywordflow">if</span>( elem.second != prev_lvl ) {</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>                        <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>                            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Improved/new spells: &quot;</span> ) );</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>                            flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>                        }</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>                        <span class="keyword">const</span> <a class="code hl_class" href="classspell.html">spell</a> s = u-&gt;<a class="code hl_variable" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a>-&gt;get_spell( elem.first );</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>                        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s: %d -&gt; %d&quot;</span> ), s.<a class="code hl_function" href="classspell.html#abdf34d5415c3fdafcd84fe3a7101bddb">name</a>(), prev_lvl, elem.second ),</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>                                            s.<a class="code hl_function" href="classspell.html#acc66691f05cd20a085370d79df52bafa">description</a>() );</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>                    }</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>                    <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>                        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Improved/new spells: &quot;</span> ) );</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>                        flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>                    }</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>                    <span class="keyword">const</span> <a class="code hl_class" href="classspell.html">spell</a> s = u-&gt;<a class="code hl_variable" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a>-&gt;get_spell( elem.first );</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>                    <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s: %d&quot;</span> ), s.<a class="code hl_function" href="classspell.html#abdf34d5415c3fdafcd84fe3a7101bddb">name</a>(), elem.second ), s.<a class="code hl_function" href="classspell.html#acc66691f05cd20a085370d79df52bafa">description</a>() );</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>                }</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>            }</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>            <span class="keywordflow">if</span>( !flag ) {</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>            }</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        }</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    }</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>}</div>
<div class="ttc" id="aclassspell_html_abdf34d5415c3fdafcd84fe3a7101bddb"><div class="ttname"><a href="classspell.html#abdf34d5415c3fdafcd84fe3a7101bddb">spell::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00729">magic.cpp:729</a></div></div>
<div class="ttc" id="aclassspell_html_acc66691f05cd20a085370d79df52bafa"><div class="ttname"><a href="classspell.html#acc66691f05cd20a085370d79df52bafa">spell::description</a></div><div class="ttdeci">std::string description() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00990">magic.cpp:990</a></div></div>
<div class="ttc" id="astructdiary__page_html_a63ca9723270bc3628a401e3b629ec304"><div class="ttname"><a href="structdiary__page.html#a63ca9723270bc3628a401e3b629ec304">diary_page::known_spells</a></div><div class="ttdeci">std::map&lt; spell_id, int &gt; known_spells</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00046">diary.h:46</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="diary_8cpp_source.html#l00067">add_to_change_list()</a>, <a class="el" href="magic_8cpp_source.html#l00990">spell::description()</a>, <a class="el" href="avatar_8cpp_source.html#l00104">get_avatar()</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, <a class="el" href="diary_8h_source.html#l00046">diary_page::known_spells</a>, <a class="el" href="character_8h_source.html#l01485">Character::magic</a>, <a class="el" href="magic_8cpp_source.html#l00729">spell::name()</a>, and <a class="el" href="string__formatter_8h_source.html#l00430">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>.</p>

</div>
</div>
<a id="a9025dec5b103cd066b8bdb8e45f2027f" name="a9025dec5b103cd066b8bdb8e45f2027f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9025dec5b103cd066b8bdb8e45f2027f">&#9670;&nbsp;</a></span>stat_changes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::stat_changes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00494">494</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>{</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *curr_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>();</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *prev_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>( -1 );</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    <span class="keywordflow">if</span>( curr_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    }</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    <span class="keywordflow">if</span>( prev_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Stats:&quot;</span> ) );</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Strength: %d&quot;</span> ), curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a4b07b809f807cce004b6ca06951c08f5">strength</a> ) );</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Dexterity: %d&quot;</span> ), curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#abcb4f692e32172ee7234ddd473799d8a">dexterity</a> ) );</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Intelligence: %d&quot;</span> ), curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a5cc37c1f40f91f1842b9b60dd57f76b5">intelligence</a> ) );</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Perception: %d&quot;</span> ), curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a72dc8545b196b6f00ddb5cec974eb735">perception</a> ) );</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span> </div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>        <span class="keywordflow">if</span>( curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a4b07b809f807cce004b6ca06951c08f5">strength</a> != prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a4b07b809f807cce004b6ca06951c08f5">strength</a> ) {</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>            <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Stats:&quot;</span> ) );</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>                flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>            }</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Strength: %d -&gt; %d&quot;</span> ), prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a4b07b809f807cce004b6ca06951c08f5">strength</a>,</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>                                               curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a4b07b809f807cce004b6ca06951c08f5">strength</a> ) );</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>        }</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>        <span class="keywordflow">if</span>( curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#abcb4f692e32172ee7234ddd473799d8a">dexterity</a> != prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#abcb4f692e32172ee7234ddd473799d8a">dexterity</a> ) {</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>            <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Stats:&quot;</span> ) );</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>                flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>            }</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Dexterity: %d -&gt; %d&quot;</span> ), prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#abcb4f692e32172ee7234ddd473799d8a">dexterity</a>,</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>                                               curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#abcb4f692e32172ee7234ddd473799d8a">dexterity</a> ) );</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>        }</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        <span class="keywordflow">if</span>( curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a5cc37c1f40f91f1842b9b60dd57f76b5">intelligence</a> != prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a5cc37c1f40f91f1842b9b60dd57f76b5">intelligence</a> ) {</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>            <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Stats: &quot;</span> ) );</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>                flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>            }</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Intelligence: %d -&gt; %d&quot;</span> ), prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a5cc37c1f40f91f1842b9b60dd57f76b5">intelligence</a>,</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>                                               curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a5cc37c1f40f91f1842b9b60dd57f76b5">intelligence</a> ) );</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>        }</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span> </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>        <span class="keywordflow">if</span>( curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a72dc8545b196b6f00ddb5cec974eb735">perception</a> != prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a72dc8545b196b6f00ddb5cec974eb735">perception</a> ) {</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>            <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Stats:&quot;</span> ) );</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>                flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>            }</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Perception: %d -&gt; %d&quot;</span> ), prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a72dc8545b196b6f00ddb5cec974eb735">perception</a>,</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>                                               curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a72dc8545b196b6f00ddb5cec974eb735">perception</a> ) );</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>        }</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>        <span class="keywordflow">if</span>( !flag ) {</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>        }</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span> </div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    }</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>}</div>
<div class="ttc" id="astructdiary__page_html_a4b07b809f807cce004b6ca06951c08f5"><div class="ttname"><a href="structdiary__page.html#a4b07b809f807cce004b6ca06951c08f5">diary_page::strength</a></div><div class="ttdeci">int strength</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00039">diary.h:39</a></div></div>
<div class="ttc" id="astructdiary__page_html_a5cc37c1f40f91f1842b9b60dd57f76b5"><div class="ttname"><a href="structdiary__page.html#a5cc37c1f40f91f1842b9b60dd57f76b5">diary_page::intelligence</a></div><div class="ttdeci">int intelligence</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00041">diary.h:41</a></div></div>
<div class="ttc" id="astructdiary__page_html_a72dc8545b196b6f00ddb5cec974eb735"><div class="ttname"><a href="structdiary__page.html#a72dc8545b196b6f00ddb5cec974eb735">diary_page::perception</a></div><div class="ttdeci">int perception</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00042">diary.h:42</a></div></div>
<div class="ttc" id="astructdiary__page_html_abcb4f692e32172ee7234ddd473799d8a"><div class="ttname"><a href="structdiary__page.html#abcb4f692e32172ee7234ddd473799d8a">diary_page::dexterity</a></div><div class="ttdeci">int dexterity</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00040">diary.h:40</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="diary_8cpp_source.html#l00067">add_to_change_list()</a>, <a class="el" href="diary_8h_source.html#l00040">diary_page::dexterity</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, <a class="el" href="diary_8h_source.html#l00041">diary_page::intelligence</a>, <a class="el" href="diary_8h_source.html#l00042">diary_page::perception</a>, <a class="el" href="diary_8h_source.html#l00039">diary_page::strength</a>, and <a class="el" href="string__formatter_8h_source.html#l00430">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>.</p>

</div>
</div>
<a id="a7941d21aab55904c3fad41332e3ff90f" name="a7941d21aab55904c3fad41332e3ff90f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7941d21aab55904c3fad41332e3ff90f">&#9670;&nbsp;</a></span>store()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool diary::store </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00760">760</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>{</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>    std::string <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = <a class="code hl_function" href="catacharset_8cpp.html#ae8ff0664ea195486ad0940e9a64a2452">base64_encode</a>( <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>().get_save_id() + <span class="stringliteral">&quot;_diary&quot;</span> );</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>    std::string path = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_world_base_save_path() + <span class="stringliteral">&quot;/&quot;</span> + <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> + <span class="stringliteral">&quot;.json&quot;</span>;</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_writen = <a class="code hl_function" href="cata__utility_8cpp.html#a622c5bbf103e24e414fea34574eb68a8">write_to_file</a>( path, [&amp;]( std::ostream &amp; fout ) {</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>        <a class="code hl_function" href="classdiary.html#a6d4172f93b61f99c02ef8a359b4daedc">serialize</a>( fout );</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>    }, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;diary data&quot;</span> ) );</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>    <span class="keywordflow">return</span> is_writen;</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>}</div>
<div class="ttc" id="acata__utility_8cpp_html_a622c5bbf103e24e414fea34574eb68a8"><div class="ttname"><a href="cata__utility_8cpp.html#a622c5bbf103e24e414fea34574eb68a8">write_to_file</a></div><div class="ttdeci">void write_to_file(const std::string &amp;path, const std::function&lt; void(std::ostream &amp;)&gt; &amp;writer)</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00454">cata_utility.cpp:454</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="catacharset_8cpp_source.html#l00276">base64_encode()</a>, <a class="el" href="game_8cpp_source.html#l00283">g</a>, <a class="el" href="avatar_8cpp_source.html#l00104">get_avatar()</a>, <a class="el" href="overmap_8cpp_source.html#l04129">om_direction::name()</a>, <a class="el" href="diary_8cpp_source.html#l00770">serialize()</a>, and <a class="el" href="cata__utility_8cpp_source.html#l00454">write_to_file()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l02678">game::save_player_data()</a>.</p>

</div>
</div>
<a id="a6f11125e72e6d7feff26ced914142a85" name="a6f11125e72e6d7feff26ced914142a85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f11125e72e6d7feff26ced914142a85">&#9670;&nbsp;</a></span>trait_changes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void diary::trait_changes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8cpp_source.html#l00428">428</a> of file <a class="el" href="diary_8cpp_source.html">diary.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>{</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *curr_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>();</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>    <a class="code hl_struct" href="structdiary__page.html">diary_page</a> *prev_page = <a class="code hl_function" href="classdiary.html#aa20c00b8b9dd1a1375f85d40e205d488">get_page_ptr</a>( -1 );</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    <span class="keywordflow">if</span>( curr_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    }</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <span class="keywordflow">if</span>( prev_page == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>        <span class="keywordflow">if</span>( !curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">traits</a>.empty() ) {</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Mutations:&quot;</span> ) );</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">traits</a> ) {</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structmutation__branch.html">mutation_branch</a> &amp;trait = elem.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( trait.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>(), trait.<a class="code hl_function" href="structmutation__branch.html#a5de9e8a32eb1d4919036866cca610f6b">get_display_color</a>() ), trait.<a class="code hl_function" href="structmutation__branch.html#a14a1b2967f485f6aa8c8f5560967c207">desc</a>() );</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>            }</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>        }</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>        <span class="keywordflow">if</span>( prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">traits</a>.empty() &amp;&amp; !curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">traits</a>.empty() ) {</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Mutations:&quot;</span> ) );</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">traits</a> ) {</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structmutation__branch.html">mutation_branch</a> &amp;trait = elem.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( trait.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>(), trait.<a class="code hl_function" href="structmutation__branch.html#a5de9e8a32eb1d4919036866cca610f6b">get_display_color</a>() ), trait.<a class="code hl_function" href="structmutation__branch.html#a14a1b2967f485f6aa8c8f5560967c207">desc</a>() );</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span> </div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>            }</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>            <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;elem : curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">traits</a> ) {</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span> </div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">traits</a>.begin(), prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">traits</a>.end(),</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>                               elem ) == prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">traits</a>.end() ) {</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                    <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>                        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Gained mutations:&quot;</span> ) );</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>                        flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>                    }</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>                    <span class="keyword">const</span> <a class="code hl_struct" href="structmutation__branch.html">mutation_branch</a> &amp;trait = elem.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>                    <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( trait.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>(), trait.<a class="code hl_function" href="structmutation__branch.html#a5de9e8a32eb1d4919036866cca610f6b">get_display_color</a>() ), trait.<a class="code hl_function" href="structmutation__branch.html#a14a1b2967f485f6aa8c8f5560967c207">desc</a>() );</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>                }</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span> </div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>            }</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>            <span class="keywordflow">if</span>( !flag ) {</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>            }</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span> </div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>            flag = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;elem : prev_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">traits</a> ) {</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span> </div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">traits</a>.begin(), curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">traits</a>.end(),</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>                               elem ) == curr_page-&gt;<a class="code hl_variable" href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">traits</a>.end() ) {</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>                    <span class="keywordflow">if</span>( flag ) {</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>                        <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Lost mutations:&quot;</span> ) );</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>                        flag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>                    }</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>                    <span class="keyword">const</span> <a class="code hl_struct" href="structmutation__branch.html">mutation_branch</a> &amp;trait = elem.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>                    <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( trait.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>(), trait.<a class="code hl_function" href="structmutation__branch.html#a5de9e8a32eb1d4919036866cca610f6b">get_display_color</a>() ), trait.<a class="code hl_function" href="structmutation__branch.html#a14a1b2967f485f6aa8c8f5560967c207">desc</a>() );</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>                }</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>            }</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>            <span class="keywordflow">if</span>( !flag ) {</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>                <a class="code hl_function" href="classdiary.html#a8e4426882dbdd1c00b9e3481c027aa1e">add_to_change_list</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>            }</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span> </div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>        }</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>    }</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>}</div>
<div class="ttc" id="astructdiary__page_html_a57a4899006a9601614c909dcd4307a73"><div class="ttname"><a href="structdiary__page.html#a57a4899006a9601614c909dcd4307a73">diary_page::traits</a></div><div class="ttdeci">std::vector&lt; trait_id &gt; traits</div><div class="ttdef"><b>Definition:</b> <a href="diary_8h_source.html#l00044">diary.h:44</a></div></div>
<div class="ttc" id="astructmutation__branch_html"><div class="ttname"><a href="structmutation__branch.html">mutation_branch</a></div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00075">mutation.h:75</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a13305ba1184f2074399b71e279f223c1"><div class="ttname"><a href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">mutation_branch::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="mutation__data_8cpp_source.html#l00559">mutation_data.cpp:559</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a14a1b2967f485f6aa8c8f5560967c207"><div class="ttname"><a href="structmutation__branch.html#a14a1b2967f485f6aa8c8f5560967c207">mutation_branch::desc</a></div><div class="ttdeci">std::string desc() const</div><div class="ttdef"><b>Definition:</b> <a href="mutation__data_8cpp_source.html#l00564">mutation_data.cpp:564</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a5de9e8a32eb1d4919036866cca610f6b"><div class="ttname"><a href="structmutation__branch.html#a5de9e8a32eb1d4919036866cca610f6b">mutation_branch::get_display_color</a></div><div class="ttdeci">nc_color get_display_color() const</div><div class="ttdoc">Returns the color to display the mutation name with.</div><div class="ttdef"><b>Definition:</b> <a href="mutation__data_8cpp_source.html#l00621">mutation_data.cpp:621</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="diary_8cpp_source.html#l00067">add_to_change_list()</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="mutation__data_8cpp_source.html#l00564">mutation_branch::desc()</a>, <a class="el" href="fmtlib__format_8h_source.html#l03355">detail::find()</a>, <a class="el" href="mutation__data_8cpp_source.html#l00621">mutation_branch::get_display_color()</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, <a class="el" href="mutation__data_8cpp_source.html#l00559">mutation_branch::name()</a>, <a class="el" href="achievement_8cpp_source.html#l00063">string_id&lt; T &gt;::obj()</a>, and <a class="el" href="diary_8h_source.html#l00044">diary_page::traits</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a99503e866a4edf7acc31209e55138462" name="a99503e866a4edf7acc31209e55138462"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99503e866a4edf7acc31209e55138462">&#9670;&nbsp;</a></span>change_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; diary::change_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8h_source.html#l00073">73</a> of file <a class="el" href="diary_8h_source.html">diary.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00067">add_to_change_list()</a>, <a class="el" href="diary_8cpp_source.html#l00731">export_to_md()</a>, <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>, <a class="el" href="diary_8cpp_source.html#l00041">set_opened_page()</a>, and <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

</div>
</div>
<a id="a0577a52698a647c7c617a96badb379c8" name="a0577a52698a647c7c617a96badb379c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0577a52698a647c7c617a96badb379c8">&#9670;&nbsp;</a></span>desc_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;int, std::string&gt; diary::desc_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8h_source.html#l00075">75</a> of file <a class="el" href="diary_8h_source.html">diary.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00067">add_to_change_list()</a>, <a class="el" href="diary_8cpp_source.html#l00596">get_desc_map()</a>, and <a class="el" href="diary_8cpp_source.html#l00041">set_opened_page()</a>.</p>

</div>
</div>
<a id="ae762e8247e4d80c00810c0fc0bf942a2" name="ae762e8247e4d80c00810c0fc0bf942a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae762e8247e4d80c00810c0fc0bf942a2">&#9670;&nbsp;</a></span>opened_page</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int diary::opened_page = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8h_source.html#l00071">71</a> of file <a class="el" href="diary_8h_source.html">diary.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00723">delete_page()</a>, <a class="el" href="diary_8cpp_source.html#l00616">get_head_text()</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, and <a class="el" href="diary_8cpp_source.html#l00041">set_opened_page()</a>.</p>

</div>
</div>
<a id="a8d8461f55fc270d98364c4c181a74a06" name="a8d8461f55fc270d98364c4c181a74a06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d8461f55fc270d98364c4c181a74a06">&#9670;&nbsp;</a></span>owner</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string diary::owner</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8h_source.html#l00066">66</a> of file <a class="el" href="diary_8h_source.html">diary.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00827">deserialize()</a>, <a class="el" href="diary_8cpp_source.html#l00681">diary()</a>, <a class="el" href="diary_8cpp_source.html#l00731">export_to_md()</a>, <a class="el" href="diary_8cpp_source.html#l00778">serialize()</a>, and <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

</div>
</div>
<a id="a97ad2dbccb0c00daf2921a5e7cf69b9d" name="a97ad2dbccb0c00daf2921a5e7cf69b9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97ad2dbccb0c00daf2921a5e7cf69b9d">&#9670;&nbsp;</a></span>pages</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::unique_ptr&lt;<a class="el" href="structdiary__page.html">diary_page</a>&gt; &gt; diary::pages</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="diary_8h_source.html#l00068">68</a> of file <a class="el" href="diary_8h_source.html">diary.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="diary_8cpp_source.html#l00723">delete_page()</a>, <a class="el" href="diary_8cpp_source.html#l00827">deserialize()</a>, <a class="el" href="diary_8cpp_source.html#l00731">export_to_md()</a>, <a class="el" href="diary_8cpp_source.html#l00577">get_change_list()</a>, <a class="el" href="diary_8cpp_source.html#l00616">get_head_text()</a>, <a class="el" href="diary_8cpp_source.html#l00058">get_page_ptr()</a>, <a class="el" href="diary_8cpp_source.html#l00607">get_page_text()</a>, <a class="el" href="diary_8cpp_source.html#l00032">get_pages_list()</a>, <a class="el" href="diary_8cpp_source.html#l00690">new_page()</a>, <a class="el" href="diary_8cpp_source.html#l00778">serialize()</a>, <a class="el" href="diary_8cpp_source.html#l00041">set_opened_page()</a>, and <a class="el" href="diary__ui_8cpp_source.html#l00164">show_diary_ui()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="diary_8h_source.html">diary.h</a></li>
<li>src/<a class="el" href="diary_8cpp_source.html">diary.cpp</a></li>
<li>src/<a class="el" href="diary__ui_8cpp_source.html">diary_ui.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classdiary.html">diary</a></li>
    <li class="footer">Generated on Thu Aug 24 2023 03:25:56 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
