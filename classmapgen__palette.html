<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: mapgen_palette Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classmapgen__palette.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="classmapgen__palette-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mapgen_palette Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="mapgen_8h_source.html">mapgen.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aaa8d532929c86b55e56bc1067df5046a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#aaa8d532929c86b55e56bc1067df5046a">placing_map</a> = std::unordered_map&lt; <a class="el" href="classmap__key.html">map_key</a>, std::vector&lt; <a class="el" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a>&lt; const <a class="el" href="classjmapgen__piece.html">jmapgen_piece</a> &gt; &gt; &gt;</td></tr>
<tr class="memdesc:aaa8d532929c86b55e56bc1067df5046a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The mapping from character (key) to a list of things that should be placed.  <a href="classmapgen__palette.html#aaa8d532929c86b55e56bc1067df5046a">More...</a><br /></td></tr>
<tr class="separator:aaa8d532929c86b55e56bc1067df5046a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a74aab10483c65647e8f2890fdbccafd0"><td class="memTemplParams" colspan="2">template&lt;typename PieceType &gt; </td></tr>
<tr class="memitem:a74aab10483c65647e8f2890fdbccafd0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo, const std::string &amp;member_name, <a class="el" href="classmapgen__palette.html#aaa8d532929c86b55e56bc1067df5046a">placing_map</a> &amp;<a class="el" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a>)</td></tr>
<tr class="memdesc:a74aab10483c65647e8f2890fdbccafd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load (append to format_placings) the places that should be put there.  <a href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">More...</a><br /></td></tr>
<tr class="separator:a74aab10483c65647e8f2890fdbccafd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad95946f6b5db83c8f947941d01460418"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#ad95946f6b5db83c8f947941d01460418">check</a> ()</td></tr>
<tr class="separator:ad95946f6b5db83c8f947941d01460418"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a8429ca65bb03a1424f885d253e80b0be"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmapgen__palette.html">mapgen_palette</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#a8429ca65bb03a1424f885d253e80b0be">load_temp</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo, const std::string &amp;src)</td></tr>
<tr class="memdesc:a8429ca65bb03a1424f885d253e80b0be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a palette object and returns it.  <a href="classmapgen__palette.html#a8429ca65bb03a1424f885d253e80b0be">More...</a><br /></td></tr>
<tr class="separator:a8429ca65bb03a1424f885d253e80b0be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2e0b7515a1024bce940962f3f4927a1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#ad2e0b7515a1024bce940962f3f4927a1">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo, const std::string &amp;src)</td></tr>
<tr class="memdesc:ad2e0b7515a1024bce940962f3f4927a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a palette object and adds it to the global set of palettes.  <a href="classmapgen__palette.html#ad2e0b7515a1024bce940962f3f4927a1">More...</a><br /></td></tr>
<tr class="separator:ad2e0b7515a1024bce940962f3f4927a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7164412835166b8a3c111a658ea78d8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#ae7164412835166b8a3c111a658ea78d8">reset</a> ()</td></tr>
<tr class="memdesc:ae7164412835166b8a3c111a658ea78d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unload all palettes.  <a href="classmapgen__palette.html#ae7164412835166b8a3c111a658ea78d8">More...</a><br /></td></tr>
<tr class="separator:ae7164412835166b8a3c111a658ea78d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a502bd8a6fd76cedea890b30d0d017421"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classmapgen__palette.html">mapgen_palette</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#a502bd8a6fd76cedea890b30d0d017421">get</a> (const <a class="el" href="mapgen_8h.html#aa9f082dbdea623268799337413ff4fd2">palette_id</a> &amp;<a class="el" href="classmapgen__palette.html#a43fdbd0d1b590c7b77bb365682519078">id</a>)</td></tr>
<tr class="memdesc:a502bd8a6fd76cedea890b30d0d017421"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a palette with given id.  <a href="classmapgen__palette.html#a502bd8a6fd76cedea890b30d0d017421">More...</a><br /></td></tr>
<tr class="separator:a502bd8a6fd76cedea890b30d0d017421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f0ec4474aedee26a697c47067432e95"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#a5f0ec4474aedee26a697c47067432e95">check_definitions</a> ()</td></tr>
<tr class="separator:a5f0ec4474aedee26a697c47067432e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a43fdbd0d1b590c7b77bb365682519078"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mapgen_8h.html#aa9f082dbdea623268799337413ff4fd2">palette_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#a43fdbd0d1b590c7b77bb365682519078">id</a></td></tr>
<tr class="separator:a43fdbd0d1b590c7b77bb365682519078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fd6ae89b671641fd16ec3c985afc456"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="classmap__key.html">map_key</a>, <a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#a6fd6ae89b671641fd16ec3c985afc456">format_terrain</a></td></tr>
<tr class="separator:a6fd6ae89b671641fd16ec3c985afc456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49aab90421b2b5c2b0d6c5da6a85e482"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="classmap__key.html">map_key</a>, <a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#a49aab90421b2b5c2b0d6c5da6a85e482">format_furniture</a></td></tr>
<tr class="separator:a49aab90421b2b5c2b0d6c5da6a85e482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a1f275fb82ecab159858a32ab1d8bef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmapgen__palette.html#aaa8d532929c86b55e56bc1067df5046a">placing_map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a></td></tr>
<tr class="separator:a3a1f275fb82ecab159858a32ab1d8bef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a8e65757f0a8e6e632aef52149be027b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#a8e65757f0a8e6e632aef52149be027b9">add</a> (const <a class="el" href="mapgen_8h.html#aa9f082dbdea623268799337413ff4fd2">palette_id</a> &amp;rh)</td></tr>
<tr class="memdesc:a8e65757f0a8e6e632aef52149be027b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a palette to this one.  <a href="classmapgen__palette.html#a8e65757f0a8e6e632aef52149be027b9">More...</a><br /></td></tr>
<tr class="separator:a8e65757f0a8e6e632aef52149be027b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c04994f3adcf7351313272278c03b56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#a9c04994f3adcf7351313272278c03b56">add</a> (const <a class="el" href="classmapgen__palette.html">mapgen_palette</a> &amp;rh)</td></tr>
<tr class="separator:a9c04994f3adcf7351313272278c03b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a993cc3f787adfc12a3ca875a657cfd9d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmapgen__palette.html">mapgen_palette</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmapgen__palette.html#a993cc3f787adfc12a3ca875a657cfd9d">load_internal</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo, const std::string &amp;src, bool require_id, bool allow_recur)</td></tr>
<tr class="separator:a993cc3f787adfc12a3ca875a657cfd9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="mapgen_8h_source.html#l00210">210</a> of file <a class="el" href="mapgen_8h_source.html">mapgen.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="aaa8d532929c86b55e56bc1067df5046a" name="aaa8d532929c86b55e56bc1067df5046a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa8d532929c86b55e56bc1067df5046a">&#9670;&nbsp;</a></span>placing_map</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classmapgen__palette.html#aaa8d532929c86b55e56bc1067df5046a">mapgen_palette::placing_map</a> =  std::unordered_map&lt;<a class="el" href="classmap__key.html">map_key</a>, std::vector&lt; <a class="el" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a>&lt;const <a class="el" href="classjmapgen__piece.html">jmapgen_piece</a>&gt; &gt;&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The mapping from character (key) to a list of things that should be placed. </p>
<p >This is similar to objects, but it uses key to get the actual position where to place things out of the json "bitmap" (which is used to paint the terrain/furniture). </p>

<p class="definition">Definition at line <a class="el" href="mapgen_8h_source.html#l00219">219</a> of file <a class="el" href="mapgen_8h_source.html">mapgen.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9c04994f3adcf7351313272278c03b56" name="a9c04994f3adcf7351313272278c03b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c04994f3adcf7351313272278c03b56">&#9670;&nbsp;</a></span>add() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mapgen_palette::add </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmapgen__palette.html">mapgen_palette</a> &amp;&#160;</td>
          <td class="paramname"><em>rh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l02223">2223</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>{</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;placing : rh.<a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> ) {</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>        <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a>[ placing.first ] = placing.second;</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>    }</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;placing : rh.<a class="code hl_variable" href="classmapgen__palette.html#a6fd6ae89b671641fd16ec3c985afc456">format_terrain</a> ) {</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>        <a class="code hl_variable" href="classmapgen__palette.html#a6fd6ae89b671641fd16ec3c985afc456">format_terrain</a>[ placing.first ] = placing.second;</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>    }</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;placing : rh.<a class="code hl_variable" href="classmapgen__palette.html#a49aab90421b2b5c2b0d6c5da6a85e482">format_furniture</a> ) {</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>        <a class="code hl_variable" href="classmapgen__palette.html#a49aab90421b2b5c2b0d6c5da6a85e482">format_furniture</a>[ placing.first ] = placing.second;</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>    }</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>}</div>
<div class="ttc" id="aclassmapgen__palette_html_a3a1f275fb82ecab159858a32ab1d8bef"><div class="ttname"><a href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">mapgen_palette::format_placings</a></div><div class="ttdeci">placing_map format_placings</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8h_source.html#l00224">mapgen.h:224</a></div></div>
<div class="ttc" id="aclassmapgen__palette_html_a49aab90421b2b5c2b0d6c5da6a85e482"><div class="ttname"><a href="classmapgen__palette.html#a49aab90421b2b5c2b0d6c5da6a85e482">mapgen_palette::format_furniture</a></div><div class="ttdeci">std::unordered_map&lt; map_key, furn_id &gt; format_furniture</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8h_source.html#l00223">mapgen.h:223</a></div></div>
<div class="ttc" id="aclassmapgen__palette_html_a6fd6ae89b671641fd16ec3c985afc456"><div class="ttname"><a href="classmapgen__palette.html#a6fd6ae89b671641fd16ec3c985afc456">mapgen_palette::format_terrain</a></div><div class="ttdeci">std::unordered_map&lt; map_key, ter_id &gt; format_terrain</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8h_source.html#l00222">mapgen.h:222</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mapgen_8h_source.html#l00223">format_furniture</a>, <a class="el" href="mapgen_8h_source.html#l00224">format_placings</a>, and <a class="el" href="mapgen_8h_source.html#l00222">format_terrain</a>.</p>

</div>
</div>
<a id="a8e65757f0a8e6e632aef52149be027b9" name="a8e65757f0a8e6e632aef52149be027b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e65757f0a8e6e632aef52149be027b9">&#9670;&nbsp;</a></span>add() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mapgen_palette::add </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="mapgen_8h.html#aa9f082dbdea623268799337413ff4fd2">palette_id</a> &amp;&#160;</td>
          <td class="paramname"><em>rh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a palette to this one. </p>
<p >New values take preference over the old ones. </p>

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l02218">2218</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>{</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>    <a class="code hl_function" href="classmapgen__palette.html#a8e65757f0a8e6e632aef52149be027b9">add</a>( <a class="code hl_function" href="classmapgen__palette.html#a502bd8a6fd76cedea890b30d0d017421">get</a>( rh ) );</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>}</div>
<div class="ttc" id="aclassmapgen__palette_html_a502bd8a6fd76cedea890b30d0d017421"><div class="ttname"><a href="classmapgen__palette.html#a502bd8a6fd76cedea890b30d0d017421">mapgen_palette::get</a></div><div class="ttdeci">static const mapgen_palette &amp; get(const palette_id &amp;id)</div><div class="ttdoc">Returns a palette with given id.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l02199">mapgen.cpp:2199</a></div></div>
<div class="ttc" id="aclassmapgen__palette_html_a8e65757f0a8e6e632aef52149be027b9"><div class="ttname"><a href="classmapgen__palette.html#a8e65757f0a8e6e632aef52149be027b9">mapgen_palette::add</a></div><div class="ttdeci">void add(const palette_id &amp;rh)</div><div class="ttdoc">Adds a palette to this one.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l02218">mapgen.cpp:2218</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mapgen_8cpp_source.html#l02218">add()</a>, and <a class="el" href="mapgen_8cpp_source.html#l02199">get()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l02218">add()</a>, and <a class="el" href="mapgen_8cpp_source.html#l02236">load_internal()</a>.</p>

</div>
</div>
<a id="ad95946f6b5db83c8f947941d01460418" name="ad95946f6b5db83c8f947941d01460418"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad95946f6b5db83c8f947941d01460418">&#9670;&nbsp;</a></span>check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mapgen_palette::check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l02163">2163</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>{</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>    std::string context = <span class="stringliteral">&quot;palette &quot;</span> + <a class="code hl_variable" href="classmapgen__palette.html#a43fdbd0d1b590c7b77bb365682519078">id</a>;</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const map_key, furn_id&gt; &amp;p : <a class="code hl_variable" href="classmapgen__palette.html#a49aab90421b2b5c2b0d6c5da6a85e482">format_furniture</a> ) {</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="mapgen_8cpp.html#af585d4bf35b770504d1c7a5ebc9bf4ea">check_furn</a>( p.second, context ) ) {</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>        }</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>    }</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span> </div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;p : <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> ) {</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_typedef" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;const jmapgen_piece&gt;</a> &amp;j : p.second ) {</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>            j-&gt;check( context );</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>        }</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>    }</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>}</div>
<div class="ttc" id="aclassmapgen__palette_html_a43fdbd0d1b590c7b77bb365682519078"><div class="ttname"><a href="classmapgen__palette.html#a43fdbd0d1b590c7b77bb365682519078">mapgen_palette::id</a></div><div class="ttdeci">palette_id id</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8h_source.html#l00213">mapgen.h:213</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_af585d4bf35b770504d1c7a5ebc9bf4ea"><div class="ttname"><a href="mapgen_8cpp.html#af585d4bf35b770504d1c7a5ebc9bf4ea">check_furn</a></div><div class="ttdeci">static bool check_furn(const furn_id &amp;id, const std::string &amp;context)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l02149">mapgen.cpp:2149</a></div></div>
<div class="ttc" id="amemory__fast_8h_html_ada897699f31fc8b37c5af09d95d45840"><div class="ttname"><a href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a></div><div class="ttdeci">std::shared_ptr&lt; T &gt; shared_ptr_fast</div><div class="ttdef"><b>Definition:</b> <a href="memory__fast_8h_source.html#l00016">memory_fast.h:16</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mapgen_8cpp_source.html#l02149">check_furn()</a>, <a class="el" href="mapgen_8h_source.html#l00223">format_furniture</a>, <a class="el" href="mapgen_8h_source.html#l00224">format_placings</a>, and <a class="el" href="mapgen_8h_source.html#l00213">id</a>.</p>

</div>
</div>
<a id="a5f0ec4474aedee26a697c47067432e95" name="a5f0ec4474aedee26a697c47067432e95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f0ec4474aedee26a697c47067432e95">&#9670;&nbsp;</a></span>check_definitions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mapgen_palette::check_definitions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l02211">2211</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>{</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;p : <a class="code hl_variable" href="mapgen_8cpp.html#a076ac46d2fe30db23c84c605083b8d4e">palettes</a> ) {</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>        p.second.check();</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>    }</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>}</div>
<div class="ttc" id="amapgen_8cpp_html_a076ac46d2fe30db23c84c605083b8d4e"><div class="ttname"><a href="mapgen_8cpp.html#a076ac46d2fe30db23c84c605083b8d4e">palettes</a></div><div class="ttdeci">std::map&lt; std::string, mapgen_palette &gt; palettes</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l02147">mapgen.cpp:2147</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mapgen_8cpp_source.html#l02147">palettes</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00723">DynamicDataLoader::check_consistency()</a>.</p>

</div>
</div>
<a id="a502bd8a6fd76cedea890b30d0d017421" name="a502bd8a6fd76cedea890b30d0d017421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a502bd8a6fd76cedea890b30d0d017421">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classmapgen__palette.html">mapgen_palette</a> &amp; mapgen_palette::get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="mapgen_8h.html#aa9f082dbdea623268799337413ff4fd2">palette_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a palette with given id. </p>
<p >If not found, debugmsg and returns a dummy. </p>

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l02199">2199</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>{</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>    <span class="keyword">const</span> <span class="keyword">auto</span> iter = <a class="code hl_variable" href="mapgen_8cpp.html#a076ac46d2fe30db23c84c605083b8d4e">palettes</a>.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>    <span class="keywordflow">if</span>( iter != <a class="code hl_variable" href="mapgen_8cpp.html#a076ac46d2fe30db23c84c605083b8d4e">palettes</a>.end() ) {</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>        <span class="keywordflow">return</span> iter-&gt;second;</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>    }</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span> </div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>    <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Requested palette with unknown id %s&quot;</span>, <span class="keywordtype">id</span>.c_str() );</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>    <span class="keyword">static</span> <a class="code hl_class" href="classmapgen__palette.html">mapgen_palette</a> dummy;</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>    <span class="keywordflow">return</span> dummy;</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>}</div>
<div class="ttc" id="aclassmapgen__palette_html"><div class="ttname"><a href="classmapgen__palette.html">mapgen_palette</a></div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8h_source.html#l00210">mapgen.h:211</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, and <a class="el" href="mapgen_8cpp_source.html#l02147">palettes</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l02218">add()</a>.</p>

</div>
</div>
<a id="ad2e0b7515a1024bce940962f3f4927a1" name="ad2e0b7515a1024bce940962f3f4927a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2e0b7515a1024bce940962f3f4927a1">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mapgen_palette::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load a palette object and adds it to the global set of palettes. </p>
<p >If "palette" field is specified, those palettes will be loaded recursively. </p>

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l02184">2184</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>{</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>    <a class="code hl_class" href="classmapgen__palette.html">mapgen_palette</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="classmapgen__palette.html#a993cc3f787adfc12a3ca875a657cfd9d">load_internal</a>( jo, src, <span class="keyword">true</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.id.empty() ) {</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;Named palette needs an id&quot;</span> );</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>    }</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span> </div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>    <a class="code hl_variable" href="mapgen_8cpp.html#a076ac46d2fe30db23c84c605083b8d4e">palettes</a>[ <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.id ] = <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>}</div>
<div class="ttc" id="aclassJsonObject_html_ae7bcdb4ec8ab2c64e607b411cb98d00c"><div class="ttname"><a href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">JsonObject::throw_error</a></div><div class="ttdeci">void throw_error(std::string err) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00234">json.cpp:234</a></div></div>
<div class="ttc" id="aclassmapgen__palette_html_a993cc3f787adfc12a3ca875a657cfd9d"><div class="ttname"><a href="classmapgen__palette.html#a993cc3f787adfc12a3ca875a657cfd9d">mapgen_palette::load_internal</a></div><div class="ttdeci">static mapgen_palette load_internal(const JsonObject &amp;jo, const std::string &amp;src, bool require_id, bool allow_recur)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l02236">mapgen.cpp:2236</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00098">hash_utils.h:98</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mapgen_8cpp_source.html#l02236">load_internal()</a>, <a class="el" href="mapgen_8cpp_source.html#l02147">palettes</a>, <a class="el" href="hash__utils_8h_source.html#l00098">cata::hash64_detail::ret</a>, and <a class="el" href="json_8cpp_source.html#l00234">JsonObject::throw_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00243">DynamicDataLoader::initialize()</a>.</p>

</div>
</div>
<a id="a993cc3f787adfc12a3ca875a657cfd9d" name="a993cc3f787adfc12a3ca875a657cfd9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a993cc3f787adfc12a3ca875a657cfd9d">&#9670;&nbsp;</a></span>load_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmapgen__palette.html">mapgen_palette</a> mapgen_palette::load_internal </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>require_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow_recur</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l02236">2236</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>{</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>    <a class="code hl_class" href="classmapgen__palette.html">mapgen_palette</a> new_pal;</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>    <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> = new_pal.<a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a>;</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>    <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="classmapgen__palette.html#a6fd6ae89b671641fd16ec3c985afc456">format_terrain</a> = new_pal.<a class="code hl_variable" href="classmapgen__palette.html#a6fd6ae89b671641fd16ec3c985afc456">format_terrain</a>;</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>    <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="classmapgen__palette.html#a49aab90421b2b5c2b0d6c5da6a85e482">format_furniture</a> = new_pal.<a class="code hl_variable" href="classmapgen__palette.html#a49aab90421b2b5c2b0d6c5da6a85e482">format_furniture</a>;</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>    <span class="keywordflow">if</span>( require_id ) {</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>        new_pal.<a class="code hl_variable" href="classmapgen__palette.html#a43fdbd0d1b590c7b77bb365682519078">id</a> = jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;id&quot;</span> );</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>    }</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span> </div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;palettes&quot;</span> ) ) {</div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>        <span class="keywordflow">if</span>( allow_recur ) {</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>            <span class="keyword">auto</span> pals = jo.<a class="code hl_function" href="classJsonObject.html#a82c84e4f6eb744e24a0a60cb0ed88491">get_string_array</a>( <span class="stringliteral">&quot;palettes&quot;</span> );</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;p : pals ) {</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>                new_pal.<a class="code hl_function" href="classmapgen__palette.html#a8e65757f0a8e6e632aef52149be027b9">add</a>( p );</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>            }</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>            jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;Recursive palettes are not implemented yet&quot;</span> );</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>        }</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>    }</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span> </div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>    <span class="comment">// mandatory: every character in rows must have matching entry, unless fill_ter is set</span></div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>    <span class="comment">// &quot;terrain&quot;: { &quot;a&quot;: &quot;t_grass&quot;, &quot;b&quot;: &quot;t_lava&quot; }</span></div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;terrain&quot;</span> ) ) {</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonMember.html">JsonMember</a> <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> : jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;terrain&quot;</span> ) ) {</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>            <span class="keyword">const</span> <a class="code hl_class" href="classmap__key.html">map_key</a> key( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> );</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>.test_string() ) {</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>                <a class="code hl_variable" href="classmapgen__palette.html#a6fd6ae89b671641fd16ec3c985afc456">format_terrain</a>[key] = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ace91d270e314ee1f266a1f4e30ea129b">ter_id</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>.get_string() );</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>                <span class="keyword">auto</span> &amp;vect = <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a>[ key ];</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>                <a class="code hl_function" href="mapgen_8cpp.html#ac3c1cc72e24ca52cd8f5072440247684">::load_place_mapings&lt;jmapgen_terrain&gt;</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>, vect );</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>                <span class="keywordflow">if</span>( !vect.empty() ) {</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>                    <span class="comment">// Dummy entry to signal that this terrain is actually defined, because</span></div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>                    <span class="comment">// the code below checks that each square on the map has a valid terrain</span></div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>                    <span class="comment">// defined somehow.</span></div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>                    <a class="code hl_variable" href="classmapgen__palette.html#a6fd6ae89b671641fd16ec3c985afc456">format_terrain</a>[key] = <a class="code hl_variable" href="mapdata_8cpp.html#a7eaf3fb1c88b99d3594824fe3cb7003f">t_null</a>;</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>                }</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>            }</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>        }</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>    }</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span> </div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a49ff0ef5ec58e2cf47dcaa551eb2b472">has_object</a>( <span class="stringliteral">&quot;furniture&quot;</span> ) ) {</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonMember.html">JsonMember</a> <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> : jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;furniture&quot;</span> ) ) {</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>            <span class="keyword">const</span> <a class="code hl_class" href="classmap__key.html">map_key</a> key( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> );</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>.test_string() ) {</div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>                <a class="code hl_variable" href="classmapgen__palette.html#a49aab90421b2b5c2b0d6c5da6a85e482">format_furniture</a>[key] = <a class="code hl_typedef" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>.get_string() );</div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>                <span class="keyword">auto</span> &amp;vect = <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a>[ key ];</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span>                <a class="code hl_function" href="mapgen_8cpp.html#aade80b4a04197090195160c9e2b14afa">::load_place_mapings&lt;jmapgen_furniture&gt;</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>, vect );</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>            }</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>        }</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>    }</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__field.html">jmapgen_field</a>&gt;( jo, <span class="stringliteral">&quot;fields&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__npc.html">jmapgen_npc</a>&gt;( jo, <span class="stringliteral">&quot;npcs&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__sign.html">jmapgen_sign</a>&gt;( jo, <span class="stringliteral">&quot;signs&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__vending__machine.html">jmapgen_vending_machine</a>&gt;( jo, <span class="stringliteral">&quot;vendingmachines&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__toilet.html">jmapgen_toilet</a>&gt;( jo, <span class="stringliteral">&quot;toilets&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__gaspump.html">jmapgen_gaspump</a>&gt;( jo, <span class="stringliteral">&quot;gaspumps&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__item__group.html">jmapgen_item_group</a>&gt;( jo, <span class="stringliteral">&quot;items&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__monster__group.html">jmapgen_monster_group</a>&gt;( jo, <span class="stringliteral">&quot;monsters&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__vehicle.html">jmapgen_vehicle</a>&gt;( jo, <span class="stringliteral">&quot;vehicles&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>    <span class="comment">// json member name is not optimal, it should be plural like all the others above, but that conflicts</span></div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>    <span class="comment">// with the items entry with refers to item groups.</span></div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__spawn__item.html">jmapgen_spawn_item</a>&gt;( jo, <span class="stringliteral">&quot;item&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__trap.html">jmapgen_trap</a>&gt;( jo, <span class="stringliteral">&quot;traps&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__monster.html">jmapgen_monster</a>&gt;( jo, <span class="stringliteral">&quot;monster&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__furniture.html">jmapgen_furniture</a>&gt;( jo, <span class="stringliteral">&quot;furniture&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__terrain.html">jmapgen_terrain</a>&gt;( jo, <span class="stringliteral">&quot;terrain&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__make__rubble.html">jmapgen_make_rubble</a>&gt;( jo, <span class="stringliteral">&quot;rubble&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__computer.html">jmapgen_computer</a>&gt;( jo, <span class="stringliteral">&quot;computers&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__sealed__item.html">jmapgen_sealed_item</a>&gt;( jo, <span class="stringliteral">&quot;sealed_item&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__nested.html">jmapgen_nested</a>&gt;( jo, <span class="stringliteral">&quot;nested&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__liquid__item.html">jmapgen_liquid_item</a>&gt;( jo, <span class="stringliteral">&quot;liquids&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__graffiti.html">jmapgen_graffiti</a>&gt;( jo, <span class="stringliteral">&quot;graffiti&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__translate.html">jmapgen_translate</a>&gt;( jo, <span class="stringliteral">&quot;translate&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__zone.html">jmapgen_zone</a>&gt;( jo, <span class="stringliteral">&quot;zones&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__ter__furn__transform.html">jmapgen_ter_furn_transform</a>&gt;( jo, <span class="stringliteral">&quot;ter_furn_transforms&quot;</span>,</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>            <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>    new_pal.<a class="code hl_function" href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">load_place_mapings</a>&lt;<a class="code hl_class" href="classjmapgen__faction.html">jmapgen_faction</a>&gt;( jo, <span class="stringliteral">&quot;faction_owner_character&quot;</span>, <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a> );</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>    <span class="keywordflow">return</span> new_pal;</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4ace91d270e314ee1f266a1f4e30ea129b"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ace91d270e314ee1f266a1f4e30ea129b">cata_variant_type::ter_id</a></div><div class="ttdeci">@ ter_id</div></div>
<div class="ttc" id="aclassJsonMember_html"><div class="ttname"><a href="classJsonMember.html">JsonMember</a></div><div class="ttdoc">Represents a member of a JsonObject.</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l01248">json.h:1249</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a0cd609c1bb7527609e6025d54f427a5c"><div class="ttname"><a href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">JsonObject::get_object</a></div><div class="ttdeci">JsonObject get_object(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00429">json.cpp:429</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a49ff0ef5ec58e2cf47dcaa551eb2b472"><div class="ttname"><a href="classJsonObject.html#a49ff0ef5ec58e2cf47dcaa551eb2b472">JsonObject::has_object</a></div><div class="ttdeci">bool has_object(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00493">json.cpp:493</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a82c84e4f6eb744e24a0a60cb0ed88491"><div class="ttname"><a href="classJsonObject.html#a82c84e4f6eb744e24a0a60cb0ed88491">JsonObject::get_string_array</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_string_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00420">json.cpp:420</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a887d230c6a42ef2a6cf72c0e040cd4e3"><div class="ttname"><a href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">JsonObject::has_member</a></div><div class="ttdeci">bool has_member(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00182">json.cpp:182</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a96b6d1b9cf7bda4fc9cd177a99e0631c"><div class="ttname"><a href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00382">json.cpp:382</a></div></div>
<div class="ttc" id="aclassJsonObject_html_aa92b5eb23f6b39645877d79fbef784a0"><div class="ttname"><a href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00483">json.cpp:483</a></div></div>
<div class="ttc" id="aclassjmapgen__computer_html"><div class="ttname"><a href="classjmapgen__computer.html">jmapgen_computer</a></div><div class="ttdoc">Place a computer (console) with given stats and effects.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01553">mapgen.cpp:1554</a></div></div>
<div class="ttc" id="aclassjmapgen__faction_html"><div class="ttname"><a href="classjmapgen__faction.html">jmapgen_faction</a></div><div class="ttdoc">Place ownership area.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00912">mapgen.cpp:913</a></div></div>
<div class="ttc" id="aclassjmapgen__field_html"><div class="ttname"><a href="classjmapgen__field.html">jmapgen_field</a></div><div class="ttdoc">Places fields on the map.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00853">mapgen.cpp:854</a></div></div>
<div class="ttc" id="aclassjmapgen__furniture_html"><div class="ttname"><a href="classjmapgen__furniture.html">jmapgen_furniture</a></div><div class="ttdoc">Place a furniture.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01470">mapgen.cpp:1471</a></div></div>
<div class="ttc" id="aclassjmapgen__gaspump_html"><div class="ttname"><a href="classjmapgen__gaspump.html">jmapgen_gaspump</a></div><div class="ttdoc">Place a gas pump with fuel in it.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01081">mapgen.cpp:1082</a></div></div>
<div class="ttc" id="aclassjmapgen__graffiti_html"><div class="ttname"><a href="classjmapgen__graffiti.html">jmapgen_graffiti</a></div><div class="ttdoc">Place graffiti with some text or a snippet.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00983">mapgen.cpp:984</a></div></div>
<div class="ttc" id="aclassjmapgen__item__group_html"><div class="ttname"><a href="classjmapgen__item__group.html">jmapgen_item_group</a></div><div class="ttdoc">Place items from an item group.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01155">mapgen.cpp:1156</a></div></div>
<div class="ttc" id="aclassjmapgen__liquid__item_html"><div class="ttname"><a href="classjmapgen__liquid__item.html">jmapgen_liquid_item</a></div><div class="ttdoc">Place a specific liquid into the map.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01121">mapgen.cpp:1122</a></div></div>
<div class="ttc" id="aclassjmapgen__make__rubble_html"><div class="ttname"><a href="classjmapgen__make__rubble.html">jmapgen_make_rubble</a></div><div class="ttdoc">Calls map::make_rubble to create rubble and destroy the existing terrain/furniture.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01527">mapgen.cpp:1528</a></div></div>
<div class="ttc" id="aclassjmapgen__monster__group_html"><div class="ttname"><a href="classjmapgen__monster__group.html">jmapgen_monster_group</a></div><div class="ttdoc">Place spawn points for a monster group (actual monster spawning is done later).</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01224">mapgen.cpp:1225</a></div></div>
<div class="ttc" id="aclassjmapgen__monster_html"><div class="ttname"><a href="classjmapgen__monster.html">jmapgen_monster</a></div><div class="ttdoc">Place spawn points for a specific monster.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01255">mapgen.cpp:1256</a></div></div>
<div class="ttc" id="aclassjmapgen__nested_html"><div class="ttname"><a href="classjmapgen__nested.html">jmapgen_nested</a></div><div class="ttdoc">Calls another mapgen call inside the current one.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01794">mapgen.cpp:1795</a></div></div>
<div class="ttc" id="aclassjmapgen__npc_html"><div class="ttname"><a href="classjmapgen__npc.html">jmapgen_npc</a></div><div class="ttdoc">Place an NPC.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00875">mapgen.cpp:876</a></div></div>
<div class="ttc" id="aclassjmapgen__sealed__item_html"><div class="ttname"><a href="classjmapgen__sealed__item.html">jmapgen_sealed_item</a></div><div class="ttdoc">Place an item in furniture (expected to be used with NOITEM SEALED furniture like plants).</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01610">mapgen.cpp:1611</a></div></div>
<div class="ttc" id="aclassjmapgen__sign_html"><div class="ttname"><a href="classjmapgen__sign.html">jmapgen_sign</a></div><div class="ttdoc">Place a sign with some text.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00929">mapgen.cpp:930</a></div></div>
<div class="ttc" id="aclassjmapgen__spawn__item_html"><div class="ttname"><a href="classjmapgen__spawn__item.html">jmapgen_spawn_item</a></div><div class="ttdoc">Place a specific item.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01404">mapgen.cpp:1405</a></div></div>
<div class="ttc" id="aclassjmapgen__ter__furn__transform_html"><div class="ttname"><a href="classjmapgen__ter__furn__transform.html">jmapgen_ter_furn_transform</a></div><div class="ttdoc">Run a transformation.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01512">mapgen.cpp:1513</a></div></div>
<div class="ttc" id="aclassjmapgen__terrain_html"><div class="ttname"><a href="classjmapgen__terrain.html">jmapgen_terrain</a></div><div class="ttdoc">Place terrain.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01487">mapgen.cpp:1488</a></div></div>
<div class="ttc" id="aclassjmapgen__toilet_html"><div class="ttname"><a href="classjmapgen__toilet.html">jmapgen_toilet</a></div><div class="ttdoc">Place a toilet with (dirty) water in it.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01056">mapgen.cpp:1057</a></div></div>
<div class="ttc" id="aclassjmapgen__translate_html"><div class="ttname"><a href="classjmapgen__translate.html">jmapgen_translate</a></div><div class="ttdoc">Translate terrain from one ter_id to another.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01731">mapgen.cpp:1732</a></div></div>
<div class="ttc" id="aclassjmapgen__trap_html"><div class="ttname"><a href="classjmapgen__trap.html">jmapgen_trap</a></div><div class="ttdoc">Place a trap.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01437">mapgen.cpp:1438</a></div></div>
<div class="ttc" id="aclassjmapgen__vehicle_html"><div class="ttname"><a href="classjmapgen__vehicle.html">jmapgen_vehicle</a></div><div class="ttdoc">Place a vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01360">mapgen.cpp:1361</a></div></div>
<div class="ttc" id="aclassjmapgen__vending__machine_html"><div class="ttname"><a href="classjmapgen__vending__machine.html">jmapgen_vending_machine</a></div><div class="ttdoc">Place a vending machine with content.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01031">mapgen.cpp:1032</a></div></div>
<div class="ttc" id="aclassjmapgen__zone_html"><div class="ttname"><a href="classjmapgen__zone.html">jmapgen_zone</a></div><div class="ttdoc">Place a zone.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01751">mapgen.cpp:1752</a></div></div>
<div class="ttc" id="aclassmap__key_html"><div class="ttname"><a href="classmap__key.html">map_key</a></div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8h_source.html#l00187">mapgen.h:188</a></div></div>
<div class="ttc" id="aclassmapgen__palette_html_a74aab10483c65647e8f2890fdbccafd0"><div class="ttname"><a href="classmapgen__palette.html#a74aab10483c65647e8f2890fdbccafd0">mapgen_palette::load_place_mapings</a></div><div class="ttdeci">void load_place_mapings(const JsonObject &amp;jo, const std::string &amp;member_name, placing_map &amp;format_placings)</div><div class="ttdoc">Load (append to format_placings) the places that should be put there.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l02116">mapgen.cpp:2116</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a7eaf3fb1c88b99d3594824fe3cb7003f"><div class="ttname"><a href="mapdata_8cpp.html#a7eaf3fb1c88b99d3594824fe3cb7003f">t_null</a></div><div class="ttdeci">ter_id t_null</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00625">mapdata.cpp:625</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_aade80b4a04197090195160c9e2b14afa"><div class="ttname"><a href="mapgen_8cpp.html#aade80b4a04197090195160c9e2b14afa">load_place_mapings&lt; jmapgen_furniture &gt;</a></div><div class="ttdeci">void load_place_mapings&lt; jmapgen_furniture &gt;(const JsonValue &amp;value, mapgen_palette::placing_map::mapped_type &amp;vect)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l02102">mapgen.cpp:2102</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_ac3c1cc72e24ca52cd8f5072440247684"><div class="ttname"><a href="mapgen_8cpp.html#ac3c1cc72e24ca52cd8f5072440247684">load_place_mapings&lt; jmapgen_terrain &gt;</a></div><div class="ttdeci">void load_place_mapings&lt; jmapgen_terrain &gt;(const JsonValue &amp;value, mapgen_palette::placing_map::mapped_type &amp;vect)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l02109">mapgen.cpp:2109</a></div></div>
<div class="ttc" id="anamespacemapgen__defer_html_a640e58e4d234e3f1e2ddbfff8fd665ce"><div class="ttname"><a href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">mapgen_defer::member</a></div><div class="ttdeci">std::string member</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00410">mapgen.cpp:410</a></div></div>
<div class="ttc" id="atype__id_8h_html_a6bc1468ac54b6176b517879f5f77564e"><div class="ttname"><a href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a></div><div class="ttdeci">int_id&lt; furn_t &gt; furn_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00064">type_id.h:64</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mapgen_8cpp_source.html#l02218">add()</a>, <a class="el" href="mapgen_8h_source.html#l00223">format_furniture</a>, <a class="el" href="mapgen_8h_source.html#l00224">format_placings</a>, <a class="el" href="mapgen_8h_source.html#l00222">format_terrain</a>, <a class="el" href="json_8cpp_source.html#l00429">JsonObject::get_object()</a>, <a class="el" href="json_8cpp_source.html#l00382">JsonObject::get_string()</a>, <a class="el" href="json_8cpp_source.html#l00420">JsonObject::get_string_array()</a>, <a class="el" href="json_8cpp_source.html#l00483">JsonObject::has_array()</a>, <a class="el" href="json_8cpp_source.html#l00182">JsonObject::has_member()</a>, <a class="el" href="json_8cpp_source.html#l00493">JsonObject::has_object()</a>, <a class="el" href="mapgen_8h_source.html#l00213">id</a>, <a class="el" href="mapgen_8cpp_source.html#l02116">load_place_mapings()</a>, <a class="el" href="mapgen_8cpp_source.html#l02102">load_place_mapings&lt; jmapgen_furniture &gt;()</a>, <a class="el" href="mapgen_8cpp_source.html#l02109">load_place_mapings&lt; jmapgen_terrain &gt;()</a>, <a class="el" href="mapgen_8cpp_source.html#l00410">mapgen_defer::member</a>, <a class="el" href="mapdata_8cpp_source.html#l00625">t_null</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ace91d270e314ee1f266a1f4e30ea129b">ter_id</a>, and <a class="el" href="json_8cpp_source.html#l00234">JsonObject::throw_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l02184">load()</a>, and <a class="el" href="mapgen_8cpp_source.html#l02179">load_temp()</a>.</p>

</div>
</div>
<a id="a74aab10483c65647e8f2890fdbccafd0" name="a74aab10483c65647e8f2890fdbccafd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74aab10483c65647e8f2890fdbccafd0">&#9670;&nbsp;</a></span>load_place_mapings()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PieceType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void mapgen_palette::load_place_mapings </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>member_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmapgen__palette.html#aaa8d532929c86b55e56bc1067df5046a">placing_map</a> &amp;&#160;</td>
          <td class="paramname"><em>format_placings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load (append to format_placings) the places that should be put there. </p>
<p >member_name is the name of an optional object / array in the json object jsi. </p>

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l02116">2116</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>{</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a49ff0ef5ec58e2cf47dcaa551eb2b472">has_object</a>( <span class="stringliteral">&quot;mapping&quot;</span> ) ) {</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonMember.html">JsonMember</a> <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> : jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;mapping&quot;</span> ) ) {</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>            <span class="keyword">const</span> <a class="code hl_class" href="classmap__key.html">map_key</a> key( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> );</div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>            <a class="code hl_class" href="classJsonObject.html">JsonObject</a> sub = <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>.get_object();</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>            sub.<a class="code hl_function" href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">allow_omitted_members</a>();</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>            <span class="keywordflow">if</span>( !sub.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( member_name ) ) {</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>            }</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>            <span class="keyword">auto</span> &amp;vect = <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a>[ key ];</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>            ::load_place_mapings&lt;PieceType&gt;( sub.<a class="code hl_function" href="classJsonObject.html#a1adfa8665d7d4b88044388ccc4ecc2e7">get_member</a>( member_name ), vect );</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>        }</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>    }</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>    <span class="keywordflow">if</span>( !jo.<a class="code hl_function" href="classJsonObject.html#a49ff0ef5ec58e2cf47dcaa551eb2b472">has_object</a>( member_name ) ) {</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>    }</div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>    <span class="comment">/* This is kind of a hack. Loading furniture/terrain from `jo` is already done in</span></div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span><span class="comment">     * mapgen_palette::load_temp, continuing here would load it again and cause trouble.</span></div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span><span class="comment">     */</span></div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>    <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;terrain&quot;</span> || member_name == <span class="stringliteral">&quot;furniture&quot;</span> ) {</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>    }</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonMember.html">JsonMember</a> <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> : jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( member_name ) ) {</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>        <span class="keyword">const</span> <a class="code hl_class" href="classmap__key.html">map_key</a> key( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> );</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>        <span class="keyword">auto</span> &amp;vect = <a class="code hl_variable" href="classmapgen__palette.html#a3a1f275fb82ecab159858a32ab1d8bef">format_placings</a>[ key ];</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>        ::load_place_mapings&lt;PieceType&gt;( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>, vect );</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>    }</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>}</div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00826">json.h:827</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a1adfa8665d7d4b88044388ccc4ecc2e7"><div class="ttname"><a href="classJsonObject.html#a1adfa8665d7d4b88044388ccc4ecc2e7">JsonObject::get_member</a></div><div class="ttdeci">JsonValue get_member(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02269">json.cpp:2269</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae00f195360e3783cf50527cf07344202"><div class="ttname"><a href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">JsonObject::allow_omitted_members</a></div><div class="ttdeci">void allow_omitted_members() const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00151">json.cpp:151</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l00151">JsonObject::allow_omitted_members()</a>, <a class="el" href="mapgen_8h_source.html#l00224">format_placings</a>, <a class="el" href="json_8cpp_source.html#l02269">JsonObject::get_member()</a>, <a class="el" href="json_8cpp_source.html#l00429">JsonObject::get_object()</a>, <a class="el" href="json_8cpp_source.html#l00182">JsonObject::has_member()</a>, <a class="el" href="json_8cpp_source.html#l00493">JsonObject::has_object()</a>, and <a class="el" href="mapgen_8cpp_source.html#l00410">mapgen_defer::member</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l02236">load_internal()</a>.</p>

</div>
</div>
<a id="a8429ca65bb03a1424f885d253e80b0be" name="a8429ca65bb03a1424f885d253e80b0be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8429ca65bb03a1424f885d253e80b0be">&#9670;&nbsp;</a></span>load_temp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmapgen__palette.html">mapgen_palette</a> mapgen_palette::load_temp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads a palette object and returns it. </p>
<p >Doesn't save it anywhere. </p>

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l02179">2179</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>{</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classmapgen__palette.html#a993cc3f787adfc12a3ca875a657cfd9d">load_internal</a>( jo, src, <span class="keyword">false</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mapgen_8cpp_source.html#l02236">load_internal()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l02409">mapgen_function_json_base::setup_common()</a>.</p>

</div>
</div>
<a id="ae7164412835166b8a3c111a658ea78d8" name="ae7164412835166b8a3c111a658ea78d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7164412835166b8a3c111a658ea78d8">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mapgen_palette::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unload all palettes. </p>

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l02194">2194</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>{</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>    <a class="code hl_variable" href="mapgen_8cpp.html#a076ac46d2fe30db23c84c605083b8d4e">palettes</a>.clear();</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mapgen_8cpp_source.html#l02147">palettes</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00537">DynamicDataLoader::unload_data()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a49aab90421b2b5c2b0d6c5da6a85e482" name="a49aab90421b2b5c2b0d6c5da6a85e482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49aab90421b2b5c2b0d6c5da6a85e482">&#9670;&nbsp;</a></span>format_furniture</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;<a class="el" href="classmap__key.html">map_key</a>, <a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a>&gt; mapgen_palette::format_furniture</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mapgen_8h_source.html#l00223">223</a> of file <a class="el" href="mapgen_8h_source.html">mapgen.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l02223">add()</a>, <a class="el" href="mapgen_8cpp_source.html#l02163">check()</a>, <a class="el" href="mapgen_8cpp_source.html#l02236">load_internal()</a>, and <a class="el" href="mapgen_8cpp_source.html#l02409">mapgen_function_json_base::setup_common()</a>.</p>

</div>
</div>
<a id="a3a1f275fb82ecab159858a32ab1d8bef" name="a3a1f275fb82ecab159858a32ab1d8bef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a1f275fb82ecab159858a32ab1d8bef">&#9670;&nbsp;</a></span>format_placings</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmapgen__palette.html#aaa8d532929c86b55e56bc1067df5046a">placing_map</a> mapgen_palette::format_placings</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mapgen_8h_source.html#l00224">224</a> of file <a class="el" href="mapgen_8h_source.html">mapgen.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l02223">add()</a>, <a class="el" href="mapgen_8cpp_source.html#l02163">check()</a>, <a class="el" href="mapgen_8cpp_source.html#l02236">load_internal()</a>, <a class="el" href="mapgen_8cpp_source.html#l02116">load_place_mapings()</a>, and <a class="el" href="mapgen_8cpp_source.html#l02409">mapgen_function_json_base::setup_common()</a>.</p>

</div>
</div>
<a id="a6fd6ae89b671641fd16ec3c985afc456" name="a6fd6ae89b671641fd16ec3c985afc456"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fd6ae89b671641fd16ec3c985afc456">&#9670;&nbsp;</a></span>format_terrain</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;<a class="el" href="classmap__key.html">map_key</a>, <a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a>&gt; mapgen_palette::format_terrain</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mapgen_8h_source.html#l00222">222</a> of file <a class="el" href="mapgen_8h_source.html">mapgen.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l02223">add()</a>, <a class="el" href="mapgen_8cpp_source.html#l02236">load_internal()</a>, and <a class="el" href="mapgen_8cpp_source.html#l02409">mapgen_function_json_base::setup_common()</a>.</p>

</div>
</div>
<a id="a43fdbd0d1b590c7b77bb365682519078" name="a43fdbd0d1b590c7b77bb365682519078"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43fdbd0d1b590c7b77bb365682519078">&#9670;&nbsp;</a></span>id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mapgen_8h.html#aa9f082dbdea623268799337413ff4fd2">palette_id</a> mapgen_palette::id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mapgen_8h_source.html#l00213">213</a> of file <a class="el" href="mapgen_8h_source.html">mapgen.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l02163">check()</a>, and <a class="el" href="mapgen_8cpp_source.html#l02236">load_internal()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="mapgen_8h_source.html">mapgen.h</a></li>
<li>src/<a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classmapgen__palette.html">mapgen_palette</a></li>
    <li class="footer">Generated on Sat Aug 19 2023 03:56:43 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
