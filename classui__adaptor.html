<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: ui_adaptor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classui__adaptor.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classui__adaptor-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ui_adaptor Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Adaptor between UI code and the UI management system.  
 <a href="classui__adaptor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structui__adaptor_1_1debug__message__ui.html">debug_message_ui</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structui__adaptor_1_1disable__uis__below.html">disable_uis_below</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0b1cb5fdb03979bd672369acda9cdfb6"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a0b1cb5fdb03979bd672369acda9cdfb6">redraw_callback_t</a> = std::function&lt; void(const <a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;)&gt;</td></tr>
<tr class="separator:a0b1cb5fdb03979bd672369acda9cdfb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef118f755b5a13bcb087b2fdfd76667"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a7ef118f755b5a13bcb087b2fdfd76667">screen_resize_callback_t</a> = std::function&lt; void(<a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;)&gt;</td></tr>
<tr class="separator:a7ef118f755b5a13bcb087b2fdfd76667"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae84e02f9bb8f2f4b9773ccce12100301"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ae84e02f9bb8f2f4b9773ccce12100301">ui_adaptor</a> ()</td></tr>
<tr class="memdesc:ae84e02f9bb8f2f4b9773ccce12100301"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> which is automatically added to the UI stack, and removed from the stack when it is deconstructed.  <a href="classui__adaptor.html#ae84e02f9bb8f2f4b9773ccce12100301">More...</a><br /></td></tr>
<tr class="separator:ae84e02f9bb8f2f4b9773ccce12100301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e9a3218af06bcdb6e6f9a63e83ece7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ae6e9a3218af06bcdb6e6f9a63e83ece7">ui_adaptor</a> (<a class="el" href="structui__adaptor_1_1disable__uis__below.html">disable_uis_below</a>)</td></tr>
<tr class="memdesc:ae6e9a3218af06bcdb6e6f9a63e83ece7"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> constructed this way will block any UIs below from being redrawn or resized until it is deconstructed.  <a href="classui__adaptor.html#ae6e9a3218af06bcdb6e6f9a63e83ece7">More...</a><br /></td></tr>
<tr class="separator:ae6e9a3218af06bcdb6e6f9a63e83ece7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a803f9bf3eafa0bc221eb96d3015c7837"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a803f9bf3eafa0bc221eb96d3015c7837">ui_adaptor</a> (<a class="el" href="structui__adaptor_1_1debug__message__ui.html">debug_message_ui</a>)</td></tr>
<tr class="memdesc:a803f9bf3eafa0bc221eb96d3015c7837"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special constructor used by <a class="el" href="debug_8cpp.html">debug.cpp</a> when showing a debug message popup.  <a href="classui__adaptor.html#a803f9bf3eafa0bc221eb96d3015c7837">More...</a><br /></td></tr>
<tr class="separator:a803f9bf3eafa0bc221eb96d3015c7837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d5a0fa7c5fde4cf9098791b467710aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a3d5a0fa7c5fde4cf9098791b467710aa">ui_adaptor</a> (const <a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;rhs)=delete</td></tr>
<tr class="separator:a3d5a0fa7c5fde4cf9098791b467710aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c81ceb5d8bd65b375ae4945970c9b0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a0c81ceb5d8bd65b375ae4945970c9b0c">ui_adaptor</a> (<a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&amp;rhs)=delete</td></tr>
<tr class="separator:a0c81ceb5d8bd65b375ae4945970c9b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ff6aab4edf19789f6365f95b9f5df2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ac1ff6aab4edf19789f6365f95b9f5df2">~ui_adaptor</a> ()</td></tr>
<tr class="separator:ac1ff6aab4edf19789f6365f95b9f5df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1d79249ed1b2362f94bc49fd7289dc4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#aa1d79249ed1b2362f94bc49fd7289dc4">operator=</a> (const <a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;rhs)=delete</td></tr>
<tr class="separator:aa1d79249ed1b2362f94bc49fd7289dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221de22783c1755162ddc7a64982982f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a221de22783c1755162ddc7a64982982f">operator=</a> (<a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&amp;rhs)=delete</td></tr>
<tr class="separator:a221de22783c1755162ddc7a64982982f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae52e80c928fa76affccc3b60d415982"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">position_from_window</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;win)</td></tr>
<tr class="memdesc:aae52e80c928fa76affccc3b60d415982"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the position and size of the UI to that of <code>win</code>.  <a href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">More...</a><br /></td></tr>
<tr class="separator:aae52e80c928fa76affccc3b60d415982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b03e4f9b6c3e7b180ec85cc0d7b4bf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a3b03e4f9b6c3e7b180ec85cc0d7b4bf8">position</a> (<a class="el" href="structpoint.html">point</a> topleft, <a class="el" href="structpoint.html">point</a> size)</td></tr>
<tr class="memdesc:a3b03e4f9b6c3e7b180ec85cc0d7b4bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the position and size of the UI to that of an imaginary <code><a class="el" href="classcatacurses_1_1window.html" title="A wrapper over a pointer to a curses window.">catacurses::window</a></code> in normal font, except that the size can be zero.  <a href="classui__adaptor.html#a3b03e4f9b6c3e7b180ec85cc0d7b4bf8">More...</a><br /></td></tr>
<tr class="separator:a3b03e4f9b6c3e7b180ec85cc0d7b4bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37e0f0811d9460640b86442a1facc87d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a> (const <a class="el" href="classui__adaptor.html#a0b1cb5fdb03979bd672369acda9cdfb6">redraw_callback_t</a> &amp;fun)</td></tr>
<tr class="memdesc:a37e0f0811d9460640b86442a1facc87d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set redraw and resize callbacks.  <a href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">More...</a><br /></td></tr>
<tr class="separator:a37e0f0811d9460640b86442a1facc87d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf55c7afc0d78d45a35788575f4c3cd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a> (const <a class="el" href="classui__adaptor.html#a7ef118f755b5a13bcb087b2fdfd76667">screen_resize_callback_t</a> &amp;fun)</td></tr>
<tr class="separator:abf55c7afc0d78d45a35788575f4c3cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca44063b3d85e97d97e2701ef3656433"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a> () const</td></tr>
<tr class="memdesc:aca44063b3d85e97d97e2701ef3656433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark this <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> for resizing the next time it is redrawn.  <a href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">More...</a><br /></td></tr>
<tr class="separator:aca44063b3d85e97d97e2701ef3656433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1629a0fbc701c48c974bb374f6cfad16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">invalidate_ui</a> () const</td></tr>
<tr class="memdesc:a1629a0fbc701c48c974bb374f6cfad16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invalidate this UI so it gets redrawn the next redraw unless an upper UI completely occludes this UI.  <a href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">More...</a><br /></td></tr>
<tr class="separator:a1629a0fbc701c48c974bb374f6cfad16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8ad5ed55adae6cf7a1b2c59307fa0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a0f8ad5ed55adae6cf7a1b2c59307fa0b">reset</a> ()</td></tr>
<tr class="memdesc:a0f8ad5ed55adae6cf7a1b2c59307fa0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset all callbacks and dimensions.  <a href="classui__adaptor.html#a0f8ad5ed55adae6cf7a1b2c59307fa0b">More...</a><br /></td></tr>
<tr class="separator:a0f8ad5ed55adae6cf7a1b2c59307fa0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aca9ba660964358b94caf74d5bff1e31c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#aca9ba660964358b94caf74d5bff1e31c">invalidate</a> (const <a class="el" href="structrectangle.html">rectangle</a>&lt; <a class="el" href="structpoint.html">point</a> &gt; &amp;rect, bool reenable_uis_below)</td></tr>
<tr class="separator:aca9ba660964358b94caf74d5bff1e31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ddfbd09f2eb50e4a729dc37d10e9b7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a98ddfbd09f2eb50e4a729dc37d10e9b7">redraw</a> ()</td></tr>
<tr class="separator:a98ddfbd09f2eb50e4a729dc37d10e9b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a615ac8ceeec858bec210c4d4de5503cb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a615ac8ceeec858bec210c4d4de5503cb">redraw_invalidated</a> ()</td></tr>
<tr class="separator:a615ac8ceeec858bec210c4d4de5503cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0797c91d744f656324e19b5c86a96eb3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a0797c91d744f656324e19b5c86a96eb3">screen_resized</a> ()</td></tr>
<tr class="separator:a0797c91d744f656324e19b5c86a96eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a126e0389fbe3790d73c7b0bffa12d195"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a126e0389fbe3790d73c7b0bffa12d195">invalidation_consistency_and_optimization</a> ()</td></tr>
<tr class="separator:a126e0389fbe3790d73c7b0bffa12d195"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae983b5ab574c4215b081fbca9dc5a622"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrectangle.html">rectangle</a>&lt; <a class="el" href="structpoint.html">point</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a></td></tr>
<tr class="separator:ae983b5ab574c4215b081fbca9dc5a622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac51c1f116f3c71096a42341740601e27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classui__adaptor.html#a0b1cb5fdb03979bd672369acda9cdfb6">redraw_callback_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ac51c1f116f3c71096a42341740601e27">redraw_cb</a></td></tr>
<tr class="separator:ac51c1f116f3c71096a42341740601e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a36c79a26629029ae86572445b52b14"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classui__adaptor.html#a7ef118f755b5a13bcb087b2fdfd76667">screen_resize_callback_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a6a36c79a26629029ae86572445b52b14">screen_resized_cb</a></td></tr>
<tr class="separator:a6a36c79a26629029ae86572445b52b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f7b701ff728ad1fe090bf94307ffb19"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a3f7b701ff728ad1fe090bf94307ffb19">disabling_uis_below</a></td></tr>
<tr class="separator:a3f7b701ff728ad1fe090bf94307ffb19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989ffd15abf5a44a5315db2aa30fd264"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#a989ffd15abf5a44a5315db2aa30fd264">is_debug_message_ui</a></td></tr>
<tr class="separator:a989ffd15abf5a44a5315db2aa30fd264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca9f748919459f9540b84c1822131b7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a></td></tr>
<tr class="separator:acca9f748919459f9540b84c1822131b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5d6dd315a0f90ee5661f8f2cfa0c0c8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classui__adaptor.html#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">deferred_resize</a></td></tr>
<tr class="separator:ab5d6dd315a0f90ee5661f8f2cfa0c0c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Adaptor between UI code and the UI management system. </p>
<p >Using this class allows UIs to be correctly resized and redrawn when the game window is resized or when exiting from other UIs.</p>
<p >Usage example: </p><div class="fragment"><div class="line"><span class="comment">// Effective in the local scope</span></div>
<div class="line"><a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> <a class="code hl_namespace" href="namespaceui.html">ui</a>;</div>
<div class="line"><span class="comment">// Ncurses window for drawing</span></div>
<div class="line"><a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> win;</div>
<div class="line"><span class="comment">// Things to do when the game window changes size</span></div>
<div class="line"><a class="code hl_namespace" href="namespaceui.html">ui</a>.on_screen_resize( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code hl_namespace" href="namespaceui.html">ui</a> ) {</div>
<div class="line">    <span class="comment">// Create an ncurses window</span></div>
<div class="line">    win = <a class="code hl_function" href="namespacecatacurses.html#a46f283ad0553e1f25b069e41c3a6bd3f">catacurses::newwin</a>( <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> / 2, <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> / 2, <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> / 4, <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> / 4 ) );</div>
<div class="line">    <span class="comment">// The window passed to this call must contain all the space the redraw</span></div>
<div class="line">    <span class="comment">// callback draws to, to ensure proper refreshing when resizing or exiting</span></div>
<div class="line">    <span class="comment">// from other UIs.</span></div>
<div class="line">    <a class="code hl_namespace" href="namespaceui.html">ui</a>.position_from_window( win );</div>
<div class="line">} );</div>
<div class="line"><span class="comment">// Mark the resize callback to be called on the first redraw</span></div>
<div class="line"><a class="code hl_namespace" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><span class="comment">// Things to do when redrawing the UI</span></div>
<div class="line"><a class="code hl_namespace" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line">    <span class="comment">// Clear UI area</span></div>
<div class="line">    <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( win );</div>
<div class="line">    <span class="comment">// Print things</span></div>
<div class="line">    <a class="code hl_function" href="namespacecatacurses.html#abe25c16ff9629ebead2700627a024798">mvwprintw</a>( win, <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <span class="stringliteral">&quot;Hello World!&quot;</span> );</div>
<div class="line">    <span class="comment">// Write to frame buffer</span></div>
<div class="line">    <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( win );</div>
<div class="line">} );</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;&lt;CATEGORY_NAME&gt;&quot;</span> );</div>
<div class="line">ctxt.register_action( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line">    <span class="comment">// Invalidate the top UI (that is, this UI) and redraw all</span></div>
<div class="line">    <span class="comment">// invalidated UIs (including lower UIs that calls this UI).</span></div>
<div class="line">    <span class="comment">// May call the resize callbacks.</span></div>
<div class="line">    <a class="code hl_function" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line">    <span class="comment">// Get user input. Note that this may call the resize and redraw</span></div>
<div class="line">    <span class="comment">// callbacks multiple times due to screen resize, rendering target</span></div>
<div class="line">    <span class="comment">// reset, etc.</span></div>
<div class="line">    <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.handle_input();</div>
<div class="line">    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclassinput__context_html"><div class="ttname"><a href="classinput__context.html">input_context</a></div><div class="ttdoc">Represents a context in which a set of actions can be performed.</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00381">input.h:382</a></div></div>
<div class="ttc" id="aclassui__adaptor_html"><div class="ttname"><a href="classui__adaptor.html">ui_adaptor</a></div><div class="ttdoc">Adaptor between UI code and the UI management system.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00064">ui_manager.h:65</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00037">dialogue.h:36</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a46f283ad0553e1f25b069e41c3a6bd3f"><div class="ttname"><a href="namespacecatacurses.html#a46f283ad0553e1f25b069e41c3a6bd3f">catacurses::newwin</a></div><div class="ttdeci">window newwin(int nlines, int ncols, point begin)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00034">ncurses_def.cpp:34</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa9823d249c21fa50daf277957fabb175"><div class="ttname"><a href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">catacurses::wnoutrefresh</a></div><div class="ttdeci">void wnoutrefresh(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00043">ncurses_def.cpp:43</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_abe25c16ff9629ebead2700627a024798"><div class="ttname"><a href="namespacecatacurses.html#abe25c16ff9629ebead2700627a024798">catacurses::mvwprintw</a></div><div class="ttdeci">void mvwprintw(const window &amp;win, point p, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00103">ncurses_def.cpp:103</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_ace2ce3990cb812fb83adf6e4ea1f9e8e"><div class="ttname"><a href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">catacurses::werase</a></div><div class="ttdeci">void werase(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00053">ncurses_def.cpp:53</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_ae38f3a918052ef286ee60daac47f52d4"><div class="ttname"><a href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a></div><div class="ttdeci">void redraw()</div><div class="ttdoc">Invalidate the top window and redraw all invalidated windows.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00389">ui_manager.cpp:389</a></div></div>
<div class="ttc" id="anamespaceui_html"><div class="ttname"><a href="namespaceui.html">ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00016">overmap_ui.h:17</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a000abea6447dfafd5f9b787aa6753609"><div class="ttname"><a href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a></div><div class="ttdeci">int TERMX</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00047">output.cpp:47</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a567a63be8cb70cc3eb47bf8affced8e5"><div class="ttname"><a href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a></div><div class="ttdeci">int TERMY</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00048">output.cpp:48</a></div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">static constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00260">point.h:260</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00064">64</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a0b1cb5fdb03979bd672369acda9cdfb6" name="a0b1cb5fdb03979bd672369acda9cdfb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b1cb5fdb03979bd672369acda9cdfb6">&#9670;&nbsp;</a></span>redraw_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classui__adaptor.html#a0b1cb5fdb03979bd672369acda9cdfb6">ui_adaptor::redraw_callback_t</a> =  std::function&lt;void( const <a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp; )&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00067">67</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

</div>
</div>
<a id="a7ef118f755b5a13bcb087b2fdfd76667" name="a7ef118f755b5a13bcb087b2fdfd76667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ef118f755b5a13bcb087b2fdfd76667">&#9670;&nbsp;</a></span>screen_resize_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classui__adaptor.html#a7ef118f755b5a13bcb087b2fdfd76667">ui_adaptor::screen_resize_callback_t</a> =  std::function&lt;void( <a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp; )&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00068">68</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae84e02f9bb8f2f4b9773ccce12100301" name="ae84e02f9bb8f2f4b9773ccce12100301"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae84e02f9bb8f2f4b9773ccce12100301">&#9670;&nbsp;</a></span>ui_adaptor() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ui_adaptor::ui_adaptor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> which is automatically added to the UI stack, and removed from the stack when it is deconstructed. </p>
<p >(When declared as a local variable, it is removed from the stack when leaving the local scope.) </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00025">25</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>                       : <a class="code hl_variable" href="classui__adaptor.html#a3f7b701ff728ad1fe090bf94307ffb19">disabling_uis_below</a>( <span class="keyword">false</span> ), <a class="code hl_variable" href="classui__adaptor.html#a989ffd15abf5a44a5315db2aa30fd264">is_debug_message_ui</a>( <span class="keyword">false</span> ),</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>    <a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a>( <span class="keyword">false</span> ), <a class="code hl_variable" href="classui__adaptor.html#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">deferred_resize</a>( <span class="keyword">false</span> )</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>{</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.emplace_back( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>}</div>
<div class="ttc" id="aclassui__adaptor_html_a3f7b701ff728ad1fe090bf94307ffb19"><div class="ttname"><a href="classui__adaptor.html#a3f7b701ff728ad1fe090bf94307ffb19">ui_adaptor::disabling_uis_below</a></div><div class="ttdeci">bool disabling_uis_below</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00181">ui_manager.h:181</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_a989ffd15abf5a44a5315db2aa30fd264"><div class="ttname"><a href="classui__adaptor.html#a989ffd15abf5a44a5315db2aa30fd264">ui_adaptor::is_debug_message_ui</a></div><div class="ttdeci">bool is_debug_message_ui</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00182">ui_manager.h:182</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_ab5d6dd315a0f90ee5661f8f2cfa0c0c8"><div class="ttname"><a href="classui__adaptor.html#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">ui_adaptor::deferred_resize</a></div><div class="ttdeci">bool deferred_resize</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00185">ui_manager.h:185</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_acca9f748919459f9540b84c1822131b7"><div class="ttname"><a href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">ui_adaptor::invalidated</a></div><div class="ttdeci">bool invalidated</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00184">ui_manager.h:184</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_ab3a3f30ed70140333f4af693ff0a4e9c"><div class="ttname"><a href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a></div><div class="ttdeci">static ui_stack_t ui_stack</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00023">ui_manager.cpp:23</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8cpp_source.html#l00023">ui_stack</a>.</p>

</div>
</div>
<a id="ae6e9a3218af06bcdb6e6f9a63e83ece7" name="ae6e9a3218af06bcdb6e6f9a63e83ece7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6e9a3218af06bcdb6e6f9a63e83ece7">&#9670;&nbsp;</a></span>ui_adaptor() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ui_adaptor::ui_adaptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structui__adaptor_1_1disable__uis__below.html">ui_adaptor::disable_uis_below</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> constructed this way will block any UIs below from being redrawn or resized until it is deconstructed. </p>
<p >It is used for <code><a class="el" href="classthrobber__popup.html" title="Popup optimized to work as a throbber (indicate some calculation running in background).">throbber_popup</a></code>. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00031">31</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>                                                    : <a class="code hl_variable" href="classui__adaptor.html#a3f7b701ff728ad1fe090bf94307ffb19">disabling_uis_below</a>( <span class="keyword">true</span> ),</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    <a class="code hl_variable" href="classui__adaptor.html#a989ffd15abf5a44a5315db2aa30fd264">is_debug_message_ui</a>( <span class="keyword">false</span> ), <a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a>( <span class="keyword">false</span> ), <a class="code hl_variable" href="classui__adaptor.html#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">deferred_resize</a>( <span class="keyword">false</span> )</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>{</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.emplace_back( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8cpp_source.html#l00023">ui_stack</a>.</p>

</div>
</div>
<a id="a803f9bf3eafa0bc221eb96d3015c7837" name="a803f9bf3eafa0bc221eb96d3015c7837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a803f9bf3eafa0bc221eb96d3015c7837">&#9670;&nbsp;</a></span>ui_adaptor() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ui_adaptor::ui_adaptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structui__adaptor_1_1debug__message__ui.html">ui_adaptor::debug_message_ui</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Special constructor used by <a class="el" href="debug_8cpp.html">debug.cpp</a> when showing a debug message popup. </p>
<p >If the UI is constructed when a redraw call is in progress, The redraw call will be restarted after this UI is deconstructed and the in progress callback returns, in order to prevent incorrect graphics caused by overwritten screen area and resizing. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00037">37</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>                                                   : <a class="code hl_variable" href="classui__adaptor.html#a3f7b701ff728ad1fe090bf94307ffb19">disabling_uis_below</a>( <span class="keyword">true</span> ),</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    <a class="code hl_variable" href="classui__adaptor.html#a989ffd15abf5a44a5315db2aa30fd264">is_debug_message_ui</a>( <span class="keyword">true</span> ), <a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a>( <span class="keyword">false</span> ), <a class="code hl_variable" href="classui__adaptor.html#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">deferred_resize</a>( <span class="keyword">false</span> )</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>{</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    assert( !<a class="code hl_variable" href="ui__manager_8cpp.html#abba7b6d7c2497114477cbe0357917eed">showing_debug_message</a> );</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <a class="code hl_variable" href="ui__manager_8cpp.html#abba7b6d7c2497114477cbe0357917eed">showing_debug_message</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="ui__manager_8cpp.html#ab48bfb4852ebbd86bb0dbb3c99d4edef">redraw_in_progress</a> ) {</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>        <a class="code hl_variable" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    }</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">#if defined( TILES )</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <span class="comment">// Reset the clip rect because the debug message UI might be created in a</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <span class="comment">// redraw callback when a clip rect is active. When the UI is deconstructed,</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <span class="comment">// restore the previous clip rect to prevent the redraw callback from</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <span class="comment">// drawing outside the clip area, which will cause stuck graphics. This</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <span class="comment">// alone does not prevent the graphics from becoming borked in other ways,</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <span class="comment">// but `ui_manager` will redo the entire redrawing as soon as the redraw</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <span class="comment">// callback returns.</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <span class="keyword">const</span> SDL_Renderer_Ptr &amp;renderer = get_sdl_renderer();</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <span class="keywordflow">if</span>( SDL_RenderIsClipEnabled( renderer.get() ) ) {</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>        prev_clip_rect = SDL_Rect();</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>        SDL_RenderGetClipRect( renderer.get(), &amp;prev_clip_rect.value() );</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>        SDL_RenderSetClipRect( renderer.get(), <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>        prev_clip_rect = std::nullopt;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    }</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="comment">// The debug message might be shown during a normal UI&#39;s redraw callback,</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    <span class="comment">// so we need to invalidate the frame buffer so it does not interfere</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <span class="comment">// with the display of the debug message.</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <a class="code hl_function" href="game__ui_8cpp.html#ad75a1116fce8f061299267e20268ca48">reinitialize_framebuffer</a>( <span class="keyword">true</span> );</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.emplace_back( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>}</div>
<div class="ttc" id="agame__ui_8cpp_html_ad75a1116fce8f061299267e20268ca48"><div class="ttname"><a href="game__ui_8cpp.html#ad75a1116fce8f061299267e20268ca48">reinitialize_framebuffer</a></div><div class="ttdeci">void reinitialize_framebuffer(const bool)</div><div class="ttdef"><b>Definition:</b> <a href="game__ui_8cpp_source.html#l00005">game_ui.cpp:5</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_a2bfb07946b9342f4c79f55b8aa814a46"><div class="ttname"><a href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a></div><div class="ttdeci">static bool restart_redrawing</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00019">ui_manager.cpp:19</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_ab48bfb4852ebbd86bb0dbb3c99d4edef"><div class="ttname"><a href="ui__manager_8cpp.html#ab48bfb4852ebbd86bb0dbb3c99d4edef">redraw_in_progress</a></div><div class="ttdeci">static bool redraw_in_progress</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00017">ui_manager.cpp:17</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_abba7b6d7c2497114477cbe0357917eed"><div class="ttname"><a href="ui__manager_8cpp.html#abba7b6d7c2497114477cbe0357917eed">showing_debug_message</a></div><div class="ttdeci">static bool showing_debug_message</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00018">ui_manager.cpp:18</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8cpp_source.html#l00017">redraw_in_progress</a>, <a class="el" href="game__ui_8cpp_source.html#l00005">reinitialize_framebuffer()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00019">restart_redrawing</a>, <a class="el" href="ui__manager_8cpp_source.html#l00018">showing_debug_message</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00023">ui_stack</a>.</p>

</div>
</div>
<a id="a3d5a0fa7c5fde4cf9098791b467710aa" name="a3d5a0fa7c5fde4cf9098791b467710aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d5a0fa7c5fde4cf9098791b467710aa">&#9670;&nbsp;</a></span>ui_adaptor() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ui_adaptor::ui_adaptor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0c81ceb5d8bd65b375ae4945970c9b0c" name="a0c81ceb5d8bd65b375ae4945970c9b0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c81ceb5d8bd65b375ae4945970c9b0c">&#9670;&nbsp;</a></span>ui_adaptor() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ui_adaptor::ui_adaptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac1ff6aab4edf19789f6365f95b9f5df2" name="ac1ff6aab4edf19789f6365f95b9f5df2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1ff6aab4edf19789f6365f95b9f5df2">&#9670;&nbsp;</a></span>~ui_adaptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ui_adaptor::~ui_adaptor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00069">69</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>{</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classui__adaptor.html#a989ffd15abf5a44a5315db2aa30fd264">is_debug_message_ui</a> ) {</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>        assert( <a class="code hl_variable" href="ui__manager_8cpp.html#abba7b6d7c2497114477cbe0357917eed">showing_debug_message</a> );</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>        <a class="code hl_variable" href="ui__manager_8cpp.html#abba7b6d7c2497114477cbe0357917eed">showing_debug_message</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="preprocessor">#if defined( TILES )</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>        <span class="comment">// See ui_adaptor( debug_message_ui )</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>        <span class="keywordflow">if</span>( prev_clip_rect.has_value() ) {</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>            <span class="keyword">const</span> SDL_Renderer_Ptr &amp;renderer = get_sdl_renderer();</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>            SDL_RenderSetClipRect( renderer.get(), &amp;prev_clip_rect.value() );</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>        }</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    }</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.rbegin(); it &lt; <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.rend(); ++it ) {</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>        <span class="keywordflow">if</span>( &amp;it-&gt;get() == <span class="keyword">this</span> ) {</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>            <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.erase( std::prev( it.base() ) );</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>            <span class="comment">// TODO avoid invalidating portions that do not need to be redrawn</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>            <a class="code hl_function" href="namespaceui__manager.html#a93b4bb0f95c5d3a9be3b28ba09878fcc">ui_manager::invalidate</a>( <a class="code hl_variable" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a>, <a class="code hl_variable" href="classui__adaptor.html#a3f7b701ff728ad1fe090bf94307ffb19">disabling_uis_below</a> );</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>        }</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    }</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>}</div>
<div class="ttc" id="aclassui__adaptor_html_ae983b5ab574c4215b081fbca9dc5a622"><div class="ttname"><a href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">ui_adaptor::dimensions</a></div><div class="ttdeci">rectangle&lt; point &gt; dimensions</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00177">ui_manager.h:177</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_a93b4bb0f95c5d3a9be3b28ba09878fcc"><div class="ttname"><a href="namespaceui__manager.html#a93b4bb0f95c5d3a9be3b28ba09878fcc">ui_manager::invalidate</a></div><div class="ttdeci">void invalidate(const rectangle&lt; point &gt; &amp;rect, const bool reenable_uis_below)</div><div class="ttdoc">Invalidate a portion of the screen when a UI is resized, closed, etc.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00384">ui_manager.cpp:384</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00177">dimensions</a>, <a class="el" href="ui__manager_8h_source.html#l00181">disabling_uis_below</a>, <a class="el" href="ui__manager_8cpp_source.html#l00384">ui_manager::invalidate()</a>, <a class="el" href="ui__manager_8h_source.html#l00182">is_debug_message_ui</a>, <a class="el" href="ui__manager_8cpp_source.html#l00018">showing_debug_message</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00023">ui_stack</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aca9ba660964358b94caf74d5bff1e31c" name="aca9ba660964358b94caf74d5bff1e31c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca9ba660964358b94caf74d5bff1e31c">&#9670;&nbsp;</a></span>invalidate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::invalidate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrectangle.html">rectangle</a>&lt; <a class="el" href="structpoint.html">point</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>rect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reenable_uis_below</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00233">233</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>{</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="keywordflow">if</span>( rect.<a class="code hl_variable" href="structrectangle.html#af7cec817aa5f9f48c6bb5b7615aff264">p_min</a>.x &gt;= rect.<a class="code hl_variable" href="structrectangle.html#a0d6dd0f5d65dd4f9b61d74d9baf6b499">p_max</a>.x || rect.<a class="code hl_variable" href="structrectangle.html#af7cec817aa5f9f48c6bb5b7615aff264">p_min</a>.y &gt;= rect.<a class="code hl_variable" href="structrectangle.html#a0d6dd0f5d65dd4f9b61d74d9baf6b499">p_max</a>.y ) {</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        <span class="keywordflow">if</span>( reenable_uis_below ) {</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>            <a class="code hl_function" href="classui__adaptor.html#a126e0389fbe3790d73c7b0bffa12d195">invalidation_consistency_and_optimization</a>();</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>        }</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    }</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="comment">// Always invalidate every UI, even if it is below another UI with</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    <span class="comment">// `disable_uis_below`, so when the UI with `disable_uis_below` is removed,</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    <span class="comment">// UIs below are correctly marked for redraw.</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it_upper = <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cbegin(); it_upper &lt; <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cend(); ++it_upper ) {</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>        <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp;ui_upper = it_upper-&gt;get();</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        <span class="keywordflow">if</span>( !ui_upper.<a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> &amp;&amp; <a class="code hl_function" href="ui__manager_8cpp.html#af73f7be975b3e28580a4f060fb7d7663">overlap</a>( ui_upper.<a class="code hl_variable" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a>, rect ) ) {</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>            <span class="comment">// invalidated by `rect`</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>            ui_upper.<a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>        }</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    }</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    <a class="code hl_function" href="classui__adaptor.html#a126e0389fbe3790d73c7b0bffa12d195">invalidation_consistency_and_optimization</a>();</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>}</div>
<div class="ttc" id="aclassui__adaptor_html_a126e0389fbe3790d73c7b0bffa12d195"><div class="ttname"><a href="classui__adaptor.html#a126e0389fbe3790d73c7b0bffa12d195">ui_adaptor::invalidation_consistency_and_optimization</a></div><div class="ttdeci">static void invalidation_consistency_and_optimization()</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00161">ui_manager.cpp:161</a></div></div>
<div class="ttc" id="astructrectangle_html_a0d6dd0f5d65dd4f9b61d74d9baf6b499"><div class="ttname"><a href="structrectangle.html#a0d6dd0f5d65dd4f9b61d74d9baf6b499">rectangle::p_max</a></div><div class="ttdeci">Point p_max</div><div class="ttdef"><b>Definition:</b> <a href="cuboid__rectangle_8h_source.html#l00019">cuboid_rectangle.h:19</a></div></div>
<div class="ttc" id="astructrectangle_html_af7cec817aa5f9f48c6bb5b7615aff264"><div class="ttname"><a href="structrectangle.html#af7cec817aa5f9f48c6bb5b7615aff264">rectangle::p_min</a></div><div class="ttdeci">Point p_min</div><div class="ttdef"><b>Definition:</b> <a href="cuboid__rectangle_8h_source.html#l00018">cuboid_rectangle.h:16</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_af73f7be975b3e28580a4f060fb7d7663"><div class="ttname"><a href="ui__manager_8cpp.html#af73f7be975b3e28580a4f060fb7d7663">overlap</a></div><div class="ttdeci">static bool overlap(const rectangle&lt; point &gt; &amp;lhs, const rectangle&lt; point &gt; &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00148">ui_manager.cpp:148</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00177">dimensions</a>, <a class="el" href="ui__manager_8h_source.html#l00184">invalidated</a>, <a class="el" href="ui__manager_8cpp_source.html#l00161">invalidation_consistency_and_optimization()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00148">overlap()</a>, <a class="el" href="cuboid__rectangle_8h_source.html#l00019">rectangle&lt; Point, &gt;::p_max</a>, <a class="el" href="cuboid__rectangle_8h_source.html#l00016">rectangle&lt; Point, &gt;::p_min</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00023">ui_stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00384">ui_manager::invalidate()</a>.</p>

</div>
</div>
<a id="a1629a0fbc701c48c974bb374f6cfad16" name="a1629a0fbc701c48c974bb374f6cfad16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1629a0fbc701c48c974bb374f6cfad16">&#9670;&nbsp;</a></span>invalidate_ui()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::invalidate_ui </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invalidate this UI so it gets redrawn the next redraw unless an upper UI completely occludes this UI. </p>
<p >May also cause upper UIs to redraw. Can be used to mark lower UIs for redrawing when their associated data has changed. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00199">199</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>{</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> ) {</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    }</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="keyword">auto</span> it = <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cbegin();</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="keywordflow">for</span>( ; it &lt; <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cend(); ++it ) {</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        <span class="keywordflow">if</span>( &amp;it-&gt;get() == <span class="keyword">this</span> ) {</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        }</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    }</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    <span class="keywordflow">if</span>( it == <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.end() ) {</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    }</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <span class="comment">// If an upper UI occludes this UI then nothing gets redrawn</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it_upper = std::next( it ); it_upper &lt; <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cend(); ++it_upper ) {</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a857af22f119fefbfa24769ed2ad6d5e7">contains</a>( it_upper-&gt;get().dimensions, <a class="code hl_variable" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> ) ) {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>        }</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    }</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <span class="comment">// Always mark this UI for redraw even if it is below another UI with</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="comment">// `disable_uis_below`, so when the UI with `disable_uis_below` is removed,</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="comment">// this UI is correctly marked for redraw.</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <a class="code hl_function" href="classui__adaptor.html#a126e0389fbe3790d73c7b0bffa12d195">invalidation_consistency_and_optimization</a>();</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>}</div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40a857af22f119fefbfa24769ed2ad6d5e7"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a857af22f119fefbfa24769ed2ad6d5e7">ot_match_type::contains</a></div><div class="ttdeci">@ contains</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a857af22f119fefbfa24769ed2ad6d5e7">contains</a>, <a class="el" href="ui__manager_8h_source.html#l00177">dimensions</a>, <a class="el" href="ui__manager_8h_source.html#l00184">invalidated</a>, <a class="el" href="ui__manager_8cpp_source.html#l00161">invalidation_consistency_and_optimization()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00023">ui_stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="character__display_8cpp_source.html#l00930">handle_player_display_action()</a>, <a class="el" href="overmap__ui_8cpp_source.html#l01689">overmap_ui::place_ter_or_special()</a>, <a class="el" href="overmap__ui_8cpp_source.html#l01554">overmap_ui::search()</a>, and <a class="el" href="diary__ui_8cpp_source.html#l00164">diary::show_diary_ui()</a>.</p>

</div>
</div>
<a id="a126e0389fbe3790d73c7b0bffa12d195" name="a126e0389fbe3790d73c7b0bffa12d195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a126e0389fbe3790d73c7b0bffa12d195">&#9670;&nbsp;</a></span>invalidation_consistency_and_optimization()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::invalidation_consistency_and_optimization </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00161">161</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>{</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">// Only ensure consistency and optimize for UIs not disabled by another UI</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="comment">// with `disable_uis_below`, since if a UI is disabled, it does not get</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="comment">// resized or redrawn, so the invalidation flag is not cleared, and including</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="comment">// the disabled UI in the following calculation would unnecessarily</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">// invalidate any upper intersecting UIs.</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="keyword">auto</span> rfirst = <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.crbegin();</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="keywordflow">for</span>( ; rfirst != <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.crend(); ++rfirst ) {</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>        <span class="keywordflow">if</span>( rfirst-&gt;get().disabling_uis_below ) {</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        }</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    }</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="keyword">const</span> <span class="keyword">auto</span> first = rfirst == <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.crend() ? <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cbegin() : std::prev( rfirst.base() );</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it_upper = first; it_upper &lt; <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.cend(); ++it_upper ) {</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>        <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp;ui_upper = it_upper-&gt;get();</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> it_lower = first; it_lower &lt; it_upper; ++it_lower ) {</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>            <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp;ui_lower = it_lower-&gt;get();</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>            <span class="keywordflow">if</span>( !ui_upper.<a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> &amp;&amp; ui_lower.<a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> &amp;&amp;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>                <a class="code hl_function" href="ui__manager_8cpp.html#af73f7be975b3e28580a4f060fb7d7663">overlap</a>( ui_upper.<a class="code hl_variable" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a>, ui_lower.<a class="code hl_variable" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> ) ) {</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>                <span class="comment">// invalidated by lower invalidated UIs</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>                ui_upper.<a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>            }</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>            <span class="keywordflow">if</span>( ui_upper.<a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> &amp;&amp; ui_lower.<a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> &amp;&amp;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>                <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a857af22f119fefbfa24769ed2ad6d5e7">contains</a>( ui_upper.<a class="code hl_variable" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a>, ui_lower.<a class="code hl_variable" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> ) ) {</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>                <span class="comment">// fully obscured lower UIs do not need to be redrawn.</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>                ui_lower.<a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>                <span class="comment">// Note: we don&#39;t need to re-test ui_lower from earlier iterations</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>                <span class="comment">// during which ui_upper.invalidated hadn&#39;t yet been determined to</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>                <span class="comment">// be true, because if the ui_lower would be obscured by ui_upper,</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>                <span class="comment">// it implies that ui_lower would overlap with ui_upper, by which</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>                <span class="comment">// we would have already determined ui_upper.invalidated to be true</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>                <span class="comment">// then.</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>            }</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        }</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    }</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a857af22f119fefbfa24769ed2ad6d5e7">contains</a>, <a class="el" href="ui__manager_8h_source.html#l00177">dimensions</a>, <a class="el" href="ui__manager_8h_source.html#l00184">invalidated</a>, <a class="el" href="ui__manager_8cpp_source.html#l00148">overlap()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00023">ui_stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00233">invalidate()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00199">invalidate_ui()</a>.</p>

</div>
</div>
<a id="aca44063b3d85e97d97e2701ef3656433" name="aca44063b3d85e97d97e2701ef3656433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca44063b3d85e97d97e2701ef3656433">&#9670;&nbsp;</a></span>mark_resize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::mark_resize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark this <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> for resizing the next time it is redrawn. </p>
<p >This is normally called alongside <code>on_screen_resize</code> to initialize the UI on the first redraw. You should also use this function to explicitly request a reinitialization if any value the screen resize callback depends on (apart from the screen size) has changed. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00137">137</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>{</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <a class="code hl_variable" href="classui__adaptor.html#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">deferred_resize</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00185">deferred_resize</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00351">veh_interact::create_or_get_ui_adaptor()</a>, <a class="el" href="character__display_8cpp_source.html#l01068">character_display::disp_info()</a>, and <a class="el" href="diary__ui_8cpp_source.html#l00164">diary::show_diary_ui()</a>.</p>

</div>
</div>
<a id="a37e0f0811d9460640b86442a1facc87d" name="a37e0f0811d9460640b86442a1facc87d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37e0f0811d9460640b86442a1facc87d">&#9670;&nbsp;</a></span>on_redraw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::on_redraw </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classui__adaptor.html#a0b1cb5fdb03979bd672369acda9cdfb6">redraw_callback_t</a> &amp;&#160;</td>
          <td class="paramname"><em>fun</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set redraw and resize callbacks. </p>
<p >The resize callback should call <code>position</code> or <code>position_from_window</code> to set the size of the UI, and (re-)calculate any UI data that is related to the screen size, including <code><a class="el" href="classcatacurses_1_1window.html" title="A wrapper over a pointer to a curses window.">catacurses::window</a></code> instances. In most cases, you should also call <code>mark_resize</code> along with <code>on_screen_resize</code> so the UI is initialized by the resizing callback when redrawn for the first time.</p>
<p >The redraw callback should only redraw to the area specified by the <code>position</code> or <code>position_from_window</code> call. Content drawn outside this area may not render correctly when resizing or exiting from other UIs. Transparency is not currently supported.</p>
<p >These callbacks should NOT:</p><ul>
<li>Construct new <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> instances</li>
<li>Deconstruct old <code><a class="el" href="classui__adaptor.html" title="Adaptor between UI code and the UI management system.">ui_adaptor</a></code> instances</li>
<li>Call <code>redraw</code> or <code>screen_resized</code></li>
<li>(Redraw callback) call <code>position_from_window</code></li>
<li>Call any function that does these things, except for <code>debugmsg</code></li>
</ul>
<p >Otherwise, display glitches or even crashes might happen. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00127">127</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>{</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <a class="code hl_variable" href="classui__adaptor.html#ac51c1f116f3c71096a42341740601e27">redraw_cb</a> = fun;</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>}</div>
<div class="ttc" id="aclassui__adaptor_html_ac51c1f116f3c71096a42341740601e27"><div class="ttname"><a href="classui__adaptor.html#ac51c1f116f3c71096a42341740601e27">ui_adaptor::redraw_cb</a></div><div class="ttdeci">redraw_callback_t redraw_cb</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00178">ui_manager.h:178</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00178">redraw_cb</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00351">veh_interact::create_or_get_ui_adaptor()</a>, <a class="el" href="character__display_8cpp_source.html#l01068">character_display::disp_info()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00226">reset()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00044">auto_pickup::user_interface::show()</a>, <a class="el" href="safemode__ui_8cpp_source.html#l00050">safemode::show()</a>, and <a class="el" href="diary__ui_8cpp_source.html#l00164">diary::show_diary_ui()</a>.</p>

</div>
</div>
<a id="abf55c7afc0d78d45a35788575f4c3cd5" name="abf55c7afc0d78d45a35788575f4c3cd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf55c7afc0d78d45a35788575f4c3cd5">&#9670;&nbsp;</a></span>on_screen_resize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::on_screen_resize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classui__adaptor.html#a7ef118f755b5a13bcb087b2fdfd76667">screen_resize_callback_t</a> &amp;&#160;</td>
          <td class="paramname"><em>fun</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00132">132</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>{</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <a class="code hl_variable" href="classui__adaptor.html#a6a36c79a26629029ae86572445b52b14">screen_resized_cb</a> = fun;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>}</div>
<div class="ttc" id="aclassui__adaptor_html_a6a36c79a26629029ae86572445b52b14"><div class="ttname"><a href="classui__adaptor.html#a6a36c79a26629029ae86572445b52b14">ui_adaptor::screen_resized_cb</a></div><div class="ttdeci">screen_resize_callback_t screen_resized_cb</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00179">ui_manager.h:179</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00179">screen_resized_cb</a>.</p>

<p class="reference">Referenced by <a class="el" href="character__display_8cpp_source.html#l01068">character_display::disp_info()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00226">reset()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00044">auto_pickup::user_interface::show()</a>, <a class="el" href="safemode__ui_8cpp_source.html#l00050">safemode::show()</a>, and <a class="el" href="diary__ui_8cpp_source.html#l00164">diary::show_diary_ui()</a>.</p>

</div>
</div>
<a id="aa1d79249ed1b2362f94bc49fd7289dc4" name="aa1d79249ed1b2362f94bc49fd7289dc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1d79249ed1b2362f94bc49fd7289dc4">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp; ui_adaptor::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a221de22783c1755162ddc7a64982982f" name="a221de22783c1755162ddc7a64982982f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a221de22783c1755162ddc7a64982982f">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp; ui_adaptor::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classui__adaptor.html">ui_adaptor</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3b03e4f9b6c3e7b180ec85cc0d7b4bf8" name="a3b03e4f9b6c3e7b180ec85cc0d7b4bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b03e4f9b6c3e7b180ec85cc0d7b4bf8">&#9670;&nbsp;</a></span>position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>topleft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the position and size of the UI to that of an imaginary <code><a class="el" href="classcatacurses_1_1window.html" title="A wrapper over a pointer to a curses window.">catacurses::window</a></code> in normal font, except that the size can be zero. </p>
<p >Note that <code>topleft</code> and <code>size</code> are in console cells on both tiles and curses builds. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00112">112</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>{</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structrectangle.html">rectangle&lt;point&gt;</a> old_dimensions = <a class="code hl_variable" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a>;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="comment">// ensure position is updated before calling invalidate</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><span class="preprocessor">#ifdef TILES</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="keyword">const</span> window_dimensions dim = get_window_dimensions( topleft, <a class="code hl_variable" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> );</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <a class="code hl_variable" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> = <a class="code hl_struct" href="structrectangle.html">rectangle&lt;point&gt;</a>( dim.window_pos_pixel,</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>                                   dim.window_pos_pixel + dim.window_size_pixel );</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <a class="code hl_variable" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> = <a class="code hl_struct" href="structrectangle.html">rectangle&lt;point&gt;</a>( topleft, topleft + <a class="code hl_variable" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> );</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <a class="code hl_function" href="namespaceui__manager.html#a93b4bb0f95c5d3a9be3b28ba09878fcc">ui_manager::invalidate</a>( old_dimensions, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>}</div>
<div class="ttc" id="anamespaceom__direction_html_af97f9dbddaa758278662da3478826c61"><div class="ttname"><a href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">om_direction::size</a></div><div class="ttdeci">const size_t size</div><div class="ttdef"><b>Definition:</b> <a href="om__direction_8h_source.html#l00028">om_direction.h:28</a></div></div>
<div class="ttc" id="astructrectangle_html"><div class="ttname"><a href="structrectangle.html">rectangle</a></div><div class="ttdef"><b>Definition:</b> <a href="cuboid__rectangle_8h_source.html#l00015">cuboid_rectangle.h:15</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00177">dimensions</a>, <a class="el" href="ui__manager_8cpp_source.html#l00384">ui_manager::invalidate()</a>, <a class="el" href="ui__manager_8h_source.html#l00184">invalidated</a>, and <a class="el" href="om__direction_8h_source.html#l00028">om_direction::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00351">veh_interact::create_or_get_ui_adaptor()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00092">position_from_window()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00226">reset()</a>.</p>

</div>
</div>
<a id="aae52e80c928fa76affccc3b60d415982" name="aae52e80c928fa76affccc3b60d415982"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae52e80c928fa76affccc3b60d415982">&#9670;&nbsp;</a></span>position_from_window()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::position_from_window </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>win</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the position and size of the UI to that of <code>win</code>. </p>
<p >This information is used to calculate which UIs need redrawing during resizing and when exiting from other UIs, so do call this function in the resizing callback and ensure <code>win</code> contains all the space you will be drawing to. Transparency is not supported. If <code>win</code> is null, the function has the same effect as <code>position( point_zero, point_zero )</code> </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00092">92</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>{</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="keywordflow">if</span>( !win ) {</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>        <a class="code hl_function" href="classui__adaptor.html#a3b03e4f9b6c3e7b180ec85cc0d7b4bf8">position</a>( <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structrectangle.html">rectangle&lt;point&gt;</a> old_dimensions = <a class="code hl_variable" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a>;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>        <span class="comment">// ensure position is updated before calling invalidate</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span><span class="preprocessor">#ifdef TILES</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>        <span class="keyword">const</span> window_dimensions dim = get_window_dimensions( win );</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>        <a class="code hl_variable" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> = <a class="code hl_struct" href="structrectangle.html">rectangle&lt;point&gt;</a>(</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>                         dim.window_pos_pixel, dim.window_pos_pixel + dim.window_size_pixel );</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> <a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>( <a class="code hl_function" href="namespacecatacurses.html#a3e3320f426a1343cb1effcaf648d2d1a">getbegx</a>( win ), <a class="code hl_function" href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">getbegy</a>( win ) );</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>        <a class="code hl_variable" href="classui__adaptor.html#ae983b5ab574c4215b081fbca9dc5a622">dimensions</a> = <a class="code hl_struct" href="structrectangle.html">rectangle&lt;point&gt;</a>( <a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, <a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a> + <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( win ), <a class="code hl_function" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( win ) ) );</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>        <a class="code hl_variable" href="classui__adaptor.html#acca9f748919459f9540b84c1822131b7">invalidated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>        <a class="code hl_function" href="namespaceui__manager.html#a93b4bb0f95c5d3a9be3b28ba09878fcc">ui_manager::invalidate</a>( old_dimensions, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    }</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>}</div>
<div class="ttc" id="aclassui__adaptor_html_a3b03e4f9b6c3e7b180ec85cc0d7b4bf8"><div class="ttname"><a href="classui__adaptor.html#a3b03e4f9b6c3e7b180ec85cc0d7b4bf8">ui_adaptor::position</a></div><div class="ttdeci">void position(point topleft, point size)</div><div class="ttdoc">Set the position and size of the UI to that of an imaginary catacurses::window in normal font,...</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00112">ui_manager.cpp:112</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a3e3320f426a1343cb1effcaf648d2d1a"><div class="ttname"><a href="namespacecatacurses.html#a3e3320f426a1343cb1effcaf648d2d1a">catacurses::getbegx</a></div><div class="ttdeci">int getbegx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00068">ncurses_def.cpp:68</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00058">ncurses_def.cpp:58</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa2debb3330f9739012d1d11db8db31d2"><div class="ttname"><a href="namespacecatacurses.html#aa2debb3330f9739012d1d11db8db31d2">catacurses::getbegy</a></div><div class="ttdeci">int getbegy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00073">ncurses_def.cpp:73</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_adc81ca40445dc062af12fb6d7a4793d0"><div class="ttname"><a href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a></div><div class="ttdeci">int getmaxy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00063">ncurses_def.cpp:63</a></div></div>
<div class="ttc" id="anamespacecoords_html_ad99808a305ad40299e592d1266bed4a7"><div class="ttname"><a href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">coords::origin</a></div><div class="ttdeci">origin</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00057">coordinates.h:57</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8h_source.html#l00177">dimensions</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00068">catacurses::getbegx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00073">catacurses::getbegy()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00058">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00063">catacurses::getmaxy()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00384">ui_manager::invalidate()</a>, <a class="el" href="ui__manager_8h_source.html#l00184">invalidated</a>, <a class="el" href="point_8h_source.html#l00260">point_zero</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00112">position()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l00351">veh_interact::create_or_get_ui_adaptor()</a>, <a class="el" href="character__display_8cpp_source.html#l01068">character_display::disp_info()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00044">auto_pickup::user_interface::show()</a>, and <a class="el" href="safemode__ui_8cpp_source.html#l00050">safemode::show()</a>.</p>

</div>
</div>
<a id="a98ddfbd09f2eb50e4a729dc37d10e9b7" name="a98ddfbd09f2eb50e4a729dc37d10e9b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98ddfbd09f2eb50e4a729dc37d10e9b7">&#9670;&nbsp;</a></span>redraw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::redraw </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00254">254</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>{</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.empty() ) {</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.back().get().invalidated = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    }</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <a class="code hl_function" href="classui__adaptor.html#a615ac8ceeec858bec210c4d4de5503cb">redraw_invalidated</a>();</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>}</div>
<div class="ttc" id="aclassui__adaptor_html_a615ac8ceeec858bec210c4d4de5503cb"><div class="ttname"><a href="classui__adaptor.html#a615ac8ceeec858bec210c4d4de5503cb">ui_adaptor::redraw_invalidated</a></div><div class="ttdeci">static void redraw_invalidated()</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00262">ui_manager.cpp:262</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8cpp_source.html#l00262">redraw_invalidated()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00023">ui_stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00389">ui_manager::redraw()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00358">screen_resized()</a>.</p>

</div>
</div>
<a id="a615ac8ceeec858bec210c4d4de5503cb" name="a615ac8ceeec858bec210c4d4de5503cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a615ac8ceeec858bec210c4d4de5503cb">&#9670;&nbsp;</a></span>redraw_invalidated()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::redraw_invalidated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00262">262</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>{</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="cached__options_8cpp.html#a07c66893ce868671f9998dad80094cb1">test_mode</a> || <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.empty() ) {</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    }</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <a class="code hl_class" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;bool&gt;</a> prev_redraw_in_progress( <a class="code hl_variable" href="ui__manager_8cpp.html#ab48bfb4852ebbd86bb0dbb3c99d4edef">redraw_in_progress</a> );</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <a class="code hl_class" href="classrestore__on__out__of__scope.html">restore_on_out_of_scope&lt;bool&gt;</a> prev_restart_redrawing( <a class="code hl_variable" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> );</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <a class="code hl_variable" href="ui__manager_8cpp.html#ab48bfb4852ebbd86bb0dbb3c99d4edef">redraw_in_progress</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span> </div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        <span class="comment">// Changed by the resize and redraw callbacks if they call `debugmsg`.</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        <span class="comment">// When this becomes true, the `debugmsg` call would have already changed</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        <span class="comment">// the resize and redraw flags according to the resized and redrawn states</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        <span class="comment">// so far, so we restart redrawing using the changed flags to redraw</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        <span class="comment">// the area invalidated by the debug message popup.</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>        <a class="code hl_variable" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span> </div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        <span class="comment">// Find the first enabled UI. From now on enabling and disabling UIs</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        <span class="comment">// have no effect until the end of this call.</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        <span class="keyword">auto</span> first = <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.rbegin();</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        <span class="keywordflow">for</span>( ; first != <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.rend(); ++first ) {</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>            <span class="keywordflow">if</span>( first-&gt;get().disabling_uis_below ) {</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>            }</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>        }</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        <span class="comment">// Avoid a copy if possible to improve performance. `ui_stack_orig`</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        <span class="comment">// always contains the original UI stack, and `first_enabled` always points</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        <span class="comment">// to elements of `ui_stack_orig`.</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        std::unique_ptr&lt;ui_stack_t&gt; ui_stack_copy;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        <span class="keyword">auto</span> first_enabled = first == <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.rend() ? <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>.begin() : std::prev( first.base() );</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <a class="code hl_typedef" href="ui__manager_8cpp.html#a98331ede1d20b7da301097c5869051d8">ui_stack_t</a> *ui_stack_orig = &amp;<a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a>;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span> </div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <span class="comment">// Apply deferred resizing.</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        <span class="keywordtype">bool</span> needs_resize = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = first_enabled; !needs_resize &amp;&amp; it != ui_stack_orig-&gt;end(); ++it ) {</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>            <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp;<a class="code hl_namespace" href="namespaceui.html">ui</a> = *it;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>            <span class="keywordflow">if</span>( <a class="code hl_namespace" href="namespaceui.html">ui</a>.deferred_resize &amp;&amp; <a class="code hl_namespace" href="namespaceui.html">ui</a>.screen_resized_cb ) {</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                needs_resize = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>            }</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>        }</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>        <span class="keywordflow">if</span>( needs_resize ) {</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>            <span class="keywordflow">if</span>( !ui_stack_copy ) {</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>                <span class="comment">// Callbacks may modify the UI stack; make a copy of the original one.</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>                ui_stack_copy = std::make_unique&lt;ui_stack_t&gt;( *ui_stack_orig );</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>                first_enabled = ui_stack_copy-&gt;begin() + ( first_enabled - ui_stack_orig-&gt;begin() );</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>                ui_stack_orig = &amp;*ui_stack_copy;</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>            }</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = first_enabled; !<a class="code hl_variable" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> &amp;&amp; it != ui_stack_orig-&gt;end(); ++it ) {</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>                <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp;<a class="code hl_namespace" href="namespaceui.html">ui</a> = *it;</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>                <span class="keywordflow">if</span>( <a class="code hl_namespace" href="namespaceui.html">ui</a>.deferred_resize ) {</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>                    <span class="keywordflow">if</span>( <a class="code hl_namespace" href="namespaceui.html">ui</a>.screen_resized_cb ) {</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>                        <a class="code hl_namespace" href="namespaceui.html">ui</a>.screen_resized_cb( <a class="code hl_namespace" href="namespaceui.html">ui</a> );</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>                    }</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>                    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> ) {</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>                        <a class="code hl_namespace" href="namespaceui.html">ui</a>.deferred_resize = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>                    }</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                }</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>            }</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>            <span class="comment">// Callbacks may have changed window sizes; reinitialize the frame buffer.</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>            <a class="code hl_function" href="game__ui_8cpp.html#ad75a1116fce8f061299267e20268ca48">reinitialize_framebuffer</a>();</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        }</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>        <span class="comment">// Redraw invalidated UIs.</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        <span class="keywordtype">bool</span> needs_redraw = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> ) {</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = first_enabled; !needs_redraw &amp;&amp; it != ui_stack_orig-&gt;end(); ++it ) {</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>                <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp;<a class="code hl_namespace" href="namespaceui.html">ui</a> = *it;</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>                <span class="keywordflow">if</span>( <a class="code hl_namespace" href="namespaceui.html">ui</a>.invalidated &amp;&amp; <a class="code hl_namespace" href="namespaceui.html">ui</a>.redraw_cb ) {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>                    needs_redraw = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>                }</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>            }</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        }</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> &amp;&amp; needs_redraw ) {</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>            <span class="keywordflow">if</span>( !ui_stack_copy ) {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>                <span class="comment">// Callbacks may change the UI stack; make a copy of the original one.</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>                ui_stack_copy = std::make_unique&lt;ui_stack_t&gt;( *ui_stack_orig );</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>                first_enabled = ui_stack_copy-&gt;begin() + ( first_enabled - ui_stack_orig-&gt;begin() );</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>                ui_stack_orig = &amp;*ui_stack_copy;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>            }</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = first_enabled; !<a class="code hl_variable" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> &amp;&amp; it != ui_stack_orig-&gt;end(); ++it ) {</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>                <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp;<a class="code hl_namespace" href="namespaceui.html">ui</a> = *it;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>                <span class="keywordflow">if</span>( <a class="code hl_namespace" href="namespaceui.html">ui</a>.invalidated ) {</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>                    <span class="keywordflow">if</span>( <a class="code hl_namespace" href="namespaceui.html">ui</a>.redraw_cb ) {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>                        <a class="code hl_namespace" href="namespaceui.html">ui</a>.redraw_cb( <a class="code hl_namespace" href="namespaceui.html">ui</a> );</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>                    }</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> ) {</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>                        <a class="code hl_namespace" href="namespaceui.html">ui</a>.invalidated = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>                    }</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>                }</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>            }</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        }</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    } <span class="keywordflow">while</span>( <a class="code hl_variable" href="ui__manager_8cpp.html#a2bfb07946b9342f4c79f55b8aa814a46">restart_redrawing</a> );</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>}</div>
<div class="ttc" id="acached__options_8cpp_html_a07c66893ce868671f9998dad80094cb1"><div class="ttname"><a href="cached__options_8cpp.html#a07c66893ce868671f9998dad80094cb1">test_mode</a></div><div class="ttdeci">bool test_mode</div><div class="ttdoc">Set to true when running in test mode (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00003">cached_options.cpp:3</a></div></div>
<div class="ttc" id="aclassrestore__on__out__of__scope_html"><div class="ttname"><a href="classrestore__on__out__of__scope.html">restore_on_out_of_scope</a></div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00274">cata_utility.h:275</a></div></div>
<div class="ttc" id="aui__manager_8cpp_html_a98331ede1d20b7da301097c5869051d8"><div class="ttname"><a href="ui__manager_8cpp.html#a98331ede1d20b7da301097c5869051d8">ui_stack_t</a></div><div class="ttdeci">std::vector&lt; std::reference_wrapper&lt; ui_adaptor &gt; &gt; ui_stack_t</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00015">ui_manager.cpp:15</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8cpp_source.html#l00017">redraw_in_progress</a>, <a class="el" href="game__ui_8cpp_source.html#l00005">reinitialize_framebuffer()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00019">restart_redrawing</a>, <a class="el" href="cached__options_8cpp_source.html#l00003">test_mode</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00023">ui_stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00254">redraw()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00394">ui_manager::redraw_invalidated()</a>.</p>

</div>
</div>
<a id="a0f8ad5ed55adae6cf7a1b2c59307fa0b" name="a0f8ad5ed55adae6cf7a1b2c59307fa0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f8ad5ed55adae6cf7a1b2c59307fa0b">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset all callbacks and dimensions. </p>
<p >Will cause invalidation of the previously specified screen area. </p>

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00226">226</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>{</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <a class="code hl_function" href="classui__adaptor.html#a3b03e4f9b6c3e7b180ec85cc0d7b4bf8">position</a>( <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>}</div>
<div class="ttc" id="aclassui__adaptor_html_a37e0f0811d9460640b86442a1facc87d"><div class="ttname"><a href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">ui_adaptor::on_redraw</a></div><div class="ttdeci">void on_redraw(const redraw_callback_t &amp;fun)</div><div class="ttdoc">Set redraw and resize callbacks.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00127">ui_manager.cpp:127</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_abf55c7afc0d78d45a35788575f4c3cd5"><div class="ttname"><a href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">ui_adaptor::on_screen_resize</a></div><div class="ttdeci">void on_screen_resize(const screen_resize_callback_t &amp;fun)</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00132">ui_manager.cpp:132</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8cpp_source.html#l00127">on_redraw()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00132">on_screen_resize()</a>, <a class="el" href="point_8h_source.html#l00260">point_zero</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00112">position()</a>.</p>

</div>
</div>
<a id="a0797c91d744f656324e19b5c86a96eb3" name="a0797c91d744f656324e19b5c86a96eb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0797c91d744f656324e19b5c86a96eb3">&#9670;&nbsp;</a></span>screen_resized()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ui_adaptor::screen_resized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8cpp_source.html#l00358">358</a> of file <a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>{</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <span class="comment">// Always mark every UI for resize even if it is below another UI with</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <span class="comment">// `disable_uis_below`, so when the UI with `disable_uis_below` is removed,</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <span class="comment">// UIs below are correctly marked for resize.</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp;<a class="code hl_namespace" href="namespaceui.html">ui</a> : <a class="code hl_variable" href="ui__manager_8cpp.html#ab3a3f30ed70140333f4af693ff0a4e9c">ui_stack</a> ) {</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        <a class="code hl_namespace" href="namespaceui.html">ui</a>.deferred_resize = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    }</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    <a class="code hl_function" href="classui__adaptor.html#a98ddfbd09f2eb50e4a729dc37d10e9b7">redraw</a>();</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>}</div>
<div class="ttc" id="aclassui__adaptor_html_a98ddfbd09f2eb50e4a729dc37d10e9b7"><div class="ttname"><a href="classui__adaptor.html#a98ddfbd09f2eb50e4a729dc37d10e9b7">ui_adaptor::redraw</a></div><div class="ttdeci">static void redraw()</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00254">ui_manager.cpp:254</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ui__manager_8cpp_source.html#l00254">redraw()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00023">ui_stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00399">ui_manager::screen_resized()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab5d6dd315a0f90ee5661f8f2cfa0c0c8" name="ab5d6dd315a0f90ee5661f8f2cfa0c0c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5d6dd315a0f90ee5661f8f2cfa0c0c8">&#9670;&nbsp;</a></span>deferred_resize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ui_adaptor::deferred_resize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00185">185</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00137">mark_resize()</a>.</p>

</div>
</div>
<a id="ae983b5ab574c4215b081fbca9dc5a622" name="ae983b5ab574c4215b081fbca9dc5a622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae983b5ab574c4215b081fbca9dc5a622">&#9670;&nbsp;</a></span>dimensions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrectangle.html">rectangle</a>&lt;<a class="el" href="structpoint.html">point</a>&gt; ui_adaptor::dimensions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00177">177</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00233">invalidate()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00199">invalidate_ui()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00161">invalidation_consistency_and_optimization()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00112">position()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00092">position_from_window()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00069">~ui_adaptor()</a>.</p>

</div>
</div>
<a id="a3f7b701ff728ad1fe090bf94307ffb19" name="a3f7b701ff728ad1fe090bf94307ffb19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f7b701ff728ad1fe090bf94307ffb19">&#9670;&nbsp;</a></span>disabling_uis_below</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ui_adaptor::disabling_uis_below</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00181">181</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00069">~ui_adaptor()</a>.</p>

</div>
</div>
<a id="acca9f748919459f9540b84c1822131b7" name="acca9f748919459f9540b84c1822131b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acca9f748919459f9540b84c1822131b7">&#9670;&nbsp;</a></span>invalidated</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ui_adaptor::invalidated</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00184">184</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00233">invalidate()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00199">invalidate_ui()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00161">invalidation_consistency_and_optimization()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00112">position()</a>, and <a class="el" href="ui__manager_8cpp_source.html#l00092">position_from_window()</a>.</p>

</div>
</div>
<a id="a989ffd15abf5a44a5315db2aa30fd264" name="a989ffd15abf5a44a5315db2aa30fd264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a989ffd15abf5a44a5315db2aa30fd264">&#9670;&nbsp;</a></span>is_debug_message_ui</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ui_adaptor::is_debug_message_ui</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00182">182</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00069">~ui_adaptor()</a>.</p>

</div>
</div>
<a id="ac51c1f116f3c71096a42341740601e27" name="ac51c1f116f3c71096a42341740601e27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac51c1f116f3c71096a42341740601e27">&#9670;&nbsp;</a></span>redraw_cb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classui__adaptor.html#a0b1cb5fdb03979bd672369acda9cdfb6">redraw_callback_t</a> ui_adaptor::redraw_cb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00178">178</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00127">on_redraw()</a>.</p>

</div>
</div>
<a id="a6a36c79a26629029ae86572445b52b14" name="a6a36c79a26629029ae86572445b52b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a36c79a26629029ae86572445b52b14">&#9670;&nbsp;</a></span>screen_resized_cb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classui__adaptor.html#a7ef118f755b5a13bcb087b2fdfd76667">screen_resize_callback_t</a> ui_adaptor::screen_resized_cb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ui__manager_8h_source.html#l00179">179</a> of file <a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ui__manager_8cpp_source.html#l00132">on_screen_resize()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="ui__manager_8h_source.html">ui_manager.h</a></li>
<li>src/<a class="el" href="ui__manager_8cpp_source.html">ui_manager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classui__adaptor.html">ui_adaptor</a></li>
    <li class="footer">Generated on Sat Aug 26 2023 10:02:54 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
