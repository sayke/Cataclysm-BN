<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: submap Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classsubmap.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classsubmap-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">submap Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="submap_8h_source.html">submap.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for submap:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classsubmap.png" usemap="#submap_map" alt=""/>
  <map id="submap_map" name="submap_map">
<area href="structmaptile__soa.html" alt="maptile_soa&lt; SEEX, SEEY &gt;" shape="rect" coords="0,0,177,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsubmap_1_1cosmetic__t.html">cosmetic_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aafd8554ab31a0cea63cbffa2f12e7e62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aafd8554ab31a0cea63cbffa2f12e7e62">submap</a> ()</td></tr>
<tr class="separator:aafd8554ab31a0cea63cbffa2f12e7e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a968983832bae23ca6b97d5feee54e8fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a968983832bae23ca6b97d5feee54e8fe">submap</a> (<a class="el" href="classsubmap.html">submap</a> &amp;&amp;)</td></tr>
<tr class="separator:a968983832bae23ca6b97d5feee54e8fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a94867e037a16ad8620a23987baa0ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a9a94867e037a16ad8620a23987baa0ef">~submap</a> ()</td></tr>
<tr class="separator:a9a94867e037a16ad8620a23987baa0ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae79af5715756ede5217205830904b11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsubmap.html">submap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aae79af5715756ede5217205830904b11">operator=</a> (<a class="el" href="classsubmap.html">submap</a> &amp;&amp;)</td></tr>
<tr class="separator:aae79af5715756ede5217205830904b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8faa8cf5b48aaa05effb94603c4dc463"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a8faa8cf5b48aaa05effb94603c4dc463">get_trap</a> (<a class="el" href="structpoint.html">point</a> p) const</td></tr>
<tr class="separator:a8faa8cf5b48aaa05effb94603c4dc463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab65a7e5d36b7c8cb4de7e1b96820f78b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ab65a7e5d36b7c8cb4de7e1b96820f78b">set_trap</a> (<a class="el" href="structpoint.html">point</a> p, <a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a> <a class="el" href="structtrap.html">trap</a>)</td></tr>
<tr class="separator:ab65a7e5d36b7c8cb4de7e1b96820f78b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf150f62b5ab49d2f322da304f0b5a6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#abf150f62b5ab49d2f322da304f0b5a6f">set_all_traps</a> (const <a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a> &amp;<a class="el" href="structtrap.html">trap</a>)</td></tr>
<tr class="separator:abf150f62b5ab49d2f322da304f0b5a6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3e60e812430937e52afa570d73f16df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#af3e60e812430937e52afa570d73f16df">get_furn</a> (<a class="el" href="structpoint.html">point</a> p) const</td></tr>
<tr class="separator:af3e60e812430937e52afa570d73f16df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad959a4e327aa788333d8167b82c9aab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aad959a4e327aa788333d8167b82c9aab">set_furn</a> (<a class="el" href="structpoint.html">point</a> p, <a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a> furn)</td></tr>
<tr class="separator:aad959a4e327aa788333d8167b82c9aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a978f73a9bc50ebcce14957b3d6bba847"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a978f73a9bc50ebcce14957b3d6bba847">set_all_furn</a> (const <a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a> &amp;furn)</td></tr>
<tr class="separator:a978f73a9bc50ebcce14957b3d6bba847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac20d2236d686d8befbd0de2f22c058f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ac20d2236d686d8befbd0de2f22c058f1">get_ter</a> (<a class="el" href="structpoint.html">point</a> p) const</td></tr>
<tr class="separator:ac20d2236d686d8befbd0de2f22c058f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae02eb4f115da9eb2e799de9745ac71bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ae02eb4f115da9eb2e799de9745ac71bb">set_ter</a> (<a class="el" href="structpoint.html">point</a> p, <a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a> terr)</td></tr>
<tr class="separator:ae02eb4f115da9eb2e799de9745ac71bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f553eae014572624d6f1f8677b96f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a15f553eae014572624d6f1f8677b96f2">set_all_ter</a> (const <a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a> &amp;terr)</td></tr>
<tr class="separator:a15f553eae014572624d6f1f8677b96f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add4de7b02b811a026656c7a8f13c8367"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#add4de7b02b811a026656c7a8f13c8367">get_radiation</a> (<a class="el" href="structpoint.html">point</a> p) const</td></tr>
<tr class="separator:add4de7b02b811a026656c7a8f13c8367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f95bb1aea53b10ca88e5c37eafd0df8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a7f95bb1aea53b10ca88e5c37eafd0df8">set_radiation</a> (<a class="el" href="structpoint.html">point</a> p, const int radiation)</td></tr>
<tr class="separator:a7f95bb1aea53b10ca88e5c37eafd0df8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d0a8ee65f431876aff0ee8db945820"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a79d0a8ee65f431876aff0ee8db945820">get_lum</a> (<a class="el" href="structpoint.html">point</a> p) const</td></tr>
<tr class="separator:a79d0a8ee65f431876aff0ee8db945820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18d390addf2dc9fe4c9f320190301a61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a18d390addf2dc9fe4c9f320190301a61">set_lum</a> (<a class="el" href="structpoint.html">point</a> p, uint8_t luminance)</td></tr>
<tr class="separator:a18d390addf2dc9fe4c9f320190301a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8dd374566ccbe7cb42ff44cbe7ffd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a9a8dd374566ccbe7cb42ff44cbe7ffd6">update_lum_add</a> (<a class="el" href="structpoint.html">point</a> p, const <a class="el" href="classitem.html">item</a> &amp;i)</td></tr>
<tr class="separator:a9a8dd374566ccbe7cb42ff44cbe7ffd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeed207c9e57af89bf3af9d52ac230daa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aeed207c9e57af89bf3af9d52ac230daa">update_lum_rem</a> (<a class="el" href="structpoint.html">point</a> p, const <a class="el" href="classitem.html">item</a> &amp;i)</td></tr>
<tr class="separator:aeed207c9e57af89bf3af9d52ac230daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b7d7741921d9c8a80a8ca664022e9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1colony.html">cata::colony</a>&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ae3b7d7741921d9c8a80a8ca664022e9e">get_items</a> (<a class="el" href="structpoint.html">point</a> p)</td></tr>
<tr class="separator:ae3b7d7741921d9c8a80a8ca664022e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a917c0915bee29cc3dcb0e7ea74fab1b6"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcata_1_1colony.html">cata::colony</a>&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a917c0915bee29cc3dcb0e7ea74fab1b6">get_items</a> (<a class="el" href="structpoint.html">point</a> p) const</td></tr>
<tr class="separator:a917c0915bee29cc3dcb0e7ea74fab1b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58e0e8fb7010c9932af7abaaad37ad1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfield.html">field</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a58e0e8fb7010c9932af7abaaad37ad1b">get_field</a> (<a class="el" href="structpoint.html">point</a> p)</td></tr>
<tr class="separator:a58e0e8fb7010c9932af7abaaad37ad1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af369a1470e7b77a21ffe75ca9d03a637"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classfield.html">field</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#af369a1470e7b77a21ffe75ca9d03a637">get_field</a> (<a class="el" href="structpoint.html">point</a> p) const</td></tr>
<tr class="separator:af369a1470e7b77a21ffe75ca9d03a637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa497bd2f18de990f7c32cd9b2bd1e78e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aa497bd2f18de990f7c32cd9b2bd1e78e">insert_cosmetic</a> (<a class="el" href="structpoint.html">point</a> p, const std::string &amp;<a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, const std::string &amp;str)</td></tr>
<tr class="separator:aa497bd2f18de990f7c32cd9b2bd1e78e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15bbbad5b68ca691a748062af0b0af1b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a15bbbad5b68ca691a748062af0b0af1b">get_temperature</a> () const</td></tr>
<tr class="separator:a15bbbad5b68ca691a748062af0b0af1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a832045300c5e4be5d0277986bdfaecae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a832045300c5e4be5d0277986bdfaecae">set_temperature</a> (int new_temperature)</td></tr>
<tr class="separator:a832045300c5e4be5d0277986bdfaecae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23b46bbdb1725cea1aa3233c6bdabe29"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a23b46bbdb1725cea1aa3233c6bdabe29">has_graffiti</a> (<a class="el" href="structpoint.html">point</a> p) const</td></tr>
<tr class="separator:a23b46bbdb1725cea1aa3233c6bdabe29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50f8fbf3b7f92129cecfdd83af9452e7"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a50f8fbf3b7f92129cecfdd83af9452e7">get_graffiti</a> (<a class="el" href="structpoint.html">point</a> p) const</td></tr>
<tr class="separator:a50f8fbf3b7f92129cecfdd83af9452e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af818eabc6b15bc85809ac1a14b738421"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#af818eabc6b15bc85809ac1a14b738421">set_graffiti</a> (<a class="el" href="structpoint.html">point</a> p, const std::string &amp;new_graffiti)</td></tr>
<tr class="separator:af818eabc6b15bc85809ac1a14b738421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c69a7809e351fac641470e218ad0fad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a4c69a7809e351fac641470e218ad0fad">delete_graffiti</a> (<a class="el" href="structpoint.html">point</a> p)</td></tr>
<tr class="separator:a4c69a7809e351fac641470e218ad0fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a477d639e07eaaa2fb96db1ffa330a9b0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a477d639e07eaaa2fb96db1ffa330a9b0">has_signage</a> (<a class="el" href="structpoint.html">point</a> p) const</td></tr>
<tr class="separator:a477d639e07eaaa2fb96db1ffa330a9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad93f88406ea6e165e013c2927c7071a0"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ad93f88406ea6e165e013c2927c7071a0">get_signage</a> (<a class="el" href="structpoint.html">point</a> p) const</td></tr>
<tr class="separator:ad93f88406ea6e165e013c2927c7071a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989f1f395586c626ddb0126661a3b260"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a989f1f395586c626ddb0126661a3b260">set_signage</a> (<a class="el" href="structpoint.html">point</a> p, const std::string &amp;s)</td></tr>
<tr class="separator:a989f1f395586c626ddb0126661a3b260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7696c6645cb76f60b9054631d302840c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a7696c6645cb76f60b9054631d302840c">delete_signage</a> (<a class="el" href="structpoint.html">point</a> p)</td></tr>
<tr class="separator:a7696c6645cb76f60b9054631d302840c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cade8c85cb878532c5bb96b341e587d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a4cade8c85cb878532c5bb96b341e587d">has_computer</a> (<a class="el" href="structpoint.html">point</a> p) const</td></tr>
<tr class="separator:a4cade8c85cb878532c5bb96b341e587d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae103fd6f9d638cf729fa8f17db33cdb0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcomputer.html">computer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ae103fd6f9d638cf729fa8f17db33cdb0">get_computer</a> (<a class="el" href="structpoint.html">point</a> p) const</td></tr>
<tr class="separator:ae103fd6f9d638cf729fa8f17db33cdb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5964b68fca69127aba3cef0edbe39ff4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcomputer.html">computer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a5964b68fca69127aba3cef0edbe39ff4">get_computer</a> (<a class="el" href="structpoint.html">point</a> p)</td></tr>
<tr class="separator:a5964b68fca69127aba3cef0edbe39ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a8b724c18670637ef28008cb00190b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a1a8b724c18670637ef28008cb00190b0">set_computer</a> (<a class="el" href="structpoint.html">point</a> p, const <a class="el" href="classcomputer.html">computer</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>)</td></tr>
<tr class="separator:a1a8b724c18670637ef28008cb00190b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add16433ae90a8873ee18e3e84658dd4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#add16433ae90a8873ee18e3e84658dd4b">delete_computer</a> (<a class="el" href="structpoint.html">point</a> p)</td></tr>
<tr class="separator:add16433ae90a8873ee18e3e84658dd4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af15afcfd5f0efbbaae84d138a214847d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#af15afcfd5f0efbbaae84d138a214847d">contains_vehicle</a> (<a class="el" href="classvehicle.html">vehicle</a> *)</td></tr>
<tr class="separator:af15afcfd5f0efbbaae84d138a214847d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61b5eef233a79633cc3493d5452b66fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a61b5eef233a79633cc3493d5452b66fd">rotate</a> (int turns)</td></tr>
<tr class="separator:a61b5eef233a79633cc3493d5452b66fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d212dab698fe61a61c10061e8adf2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a67d212dab698fe61a61c10061e8adf2e">store</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;jsout) const</td></tr>
<tr class="separator:a67d212dab698fe61a61c10061e8adf2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37dda19454c9518c80147fdddedb9560"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a37dda19454c9518c80147fdddedb9560">load</a> (<a class="el" href="classJsonIn.html">JsonIn</a> &amp;jsin, const std::string &amp;member_name, int version)</td></tr>
<tr class="separator:a37dda19454c9518c80147fdddedb9560"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab9c259d41007ae95567f3613a849bdb7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">is_uniform</a></td></tr>
<tr class="separator:ab9c259d41007ae95567f3613a849bdb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada9558cbc399cd122d23af327daa1c67"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structsubmap_1_1cosmetic__t.html">cosmetic_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a></td></tr>
<tr class="separator:ada9558cbc399cd122d23af327daa1c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14312fd2b32daf90ba20524a8272e70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classactive__item__cache.html">active_item_cache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ab14312fd2b32daf90ba20524a8272e70">active_items</a></td></tr>
<tr class="separator:ab14312fd2b32daf90ba20524a8272e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa86d0130ed1d1556482b2f7478633778"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aa86d0130ed1d1556482b2f7478633778">field_count</a> = 0</td></tr>
<tr class="separator:aa86d0130ed1d1556482b2f7478633778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46123556cf8ed220cc78cfe639f76aea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a46123556cf8ed220cc78cfe639f76aea">last_touched</a> = <a class="el" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a></td></tr>
<tr class="separator:a46123556cf8ed220cc78cfe639f76aea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a955a62ae7625cb18d39267c80b48f703"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structspawn__point.html">spawn_point</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a955a62ae7625cb18d39267c80b48f703">spawns</a></td></tr>
<tr class="separator:a955a62ae7625cb18d39267c80b48f703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5623916cf7dbc2e67886538f837d8a86"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::unique_ptr&lt; <a class="el" href="classvehicle.html">vehicle</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a5623916cf7dbc2e67886538f837d8a86">vehicles</a></td></tr>
<tr class="memdesc:a5623916cf7dbc2e67886538f837d8a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vehicles on this submap (their (0,0) point is on this submap).  <a href="classsubmap.html#a5623916cf7dbc2e67886538f837d8a86">More...</a><br /></td></tr>
<tr class="separator:a5623916cf7dbc2e67886538f837d8a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a899d7838d59a219577907bfef4157314"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="structtripoint.html">tripoint</a>, <a class="el" href="structpartial__con.html">partial_con</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a899d7838d59a219577907bfef4157314">partial_constructions</a></td></tr>
<tr class="separator:a899d7838d59a219577907bfef4157314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab6b800454648ba710233504494b2c34"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classbasecamp.html">basecamp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aab6b800454648ba710233504494b2c34">camp</a></td></tr>
<tr class="separator:aab6b800454648ba710233504494b2c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a7762a23694210abea9955505fcb87"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="coordinates_8h.html#a0ac9d32a9fb320505f70e5f6834d82f4">point_sm_ms</a>, <a class="el" href="classcata_1_1poly__serialized.html">cata::poly_serialized</a>&lt; <a class="el" href="classactive__tile__data.html">active_tile_data</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a13a7762a23694210abea9955505fcb87">active_furniture</a></td></tr>
<tr class="separator:a13a7762a23694210abea9955505fcb87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae7d21c25718ad7093e5aed3aec78d891"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ae7d21c25718ad7093e5aed3aec78d891">update_legacy_computer</a> ()</td></tr>
<tr class="separator:ae7d21c25718ad7093e5aed3aec78d891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_structmaptile__soa"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structmaptile__soa')"><img src="closed.png" alt="-"/>&#160;Private Member Functions inherited from <a class="el" href="structmaptile__soa.html">maptile_soa&lt; SEEX, SEEY &gt;</a></td></tr>
<tr class="memitem:a4b544f27517996f2abbbe9ebffc18f36 inherit pub_methods_structmaptile__soa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmaptile__soa.html#a4b544f27517996f2abbbe9ebffc18f36">swap_soa_tile</a> (<a class="el" href="structpoint.html">point</a> p1, <a class="el" href="structpoint.html">point</a> p2)</td></tr>
<tr class="separator:a4b544f27517996f2abbbe9ebffc18f36 inherit pub_methods_structmaptile__soa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbdb69a3d548dece1672cc9862475216 inherit pub_methods_structmaptile__soa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmaptile__soa.html#afbdb69a3d548dece1672cc9862475216">swap_soa_tile</a> (<a class="el" href="structpoint.html">point</a> p, <a class="el" href="structmaptile__soa.html">maptile_soa</a>&lt; 1, 1 &gt; &amp;<a class="el" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>)</td></tr>
<tr class="separator:afbdb69a3d548dece1672cc9862475216 inherit pub_methods_structmaptile__soa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aeeba53a78e62b516c1bd1be0c63542ca"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="structpoint.html">point</a>, <a class="el" href="classcomputer.html">computer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a></td></tr>
<tr class="separator:aeeba53a78e62b516c1bd1be0c63542ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba919dd696c691da98256821a7d5c30"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classcomputer.html">computer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aeba919dd696c691da98256821a7d5c30">legacy_computer</a></td></tr>
<tr class="separator:aeba919dd696c691da98256821a7d5c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee3b1898d0e50f0d958754c8715b454"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aaee3b1898d0e50f0d958754c8715b454">temperature</a> = 0</td></tr>
<tr class="separator:aaee3b1898d0e50f0d958754c8715b454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_structmaptile__soa"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_structmaptile__soa')"><img src="closed.png" alt="-"/>&#160;Private Attributes inherited from <a class="el" href="structmaptile__soa.html">maptile_soa&lt; SEEX, SEEY &gt;</a></td></tr>
<tr class="memitem:a348487d194a4e2720845fb8d330143d6 inherit pub_attribs_structmaptile__soa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmaptile__soa.html#a348487d194a4e2720845fb8d330143d6">ter</a> [<a class="el" href="tileray_8cpp.html#a8052fc1aa2bb3c2d8bc2d80064bee6af">sx</a>][<a class="el" href="tileray_8cpp.html#aad2198d008c236dc3e5c4a07cb1a314e">sy</a>]</td></tr>
<tr class="separator:a348487d194a4e2720845fb8d330143d6 inherit pub_attribs_structmaptile__soa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1af4924187739d419937a1a9e33f00a inherit pub_attribs_structmaptile__soa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmaptile__soa.html#ae1af4924187739d419937a1a9e33f00a">frn</a> [<a class="el" href="tileray_8cpp.html#a8052fc1aa2bb3c2d8bc2d80064bee6af">sx</a>][<a class="el" href="tileray_8cpp.html#aad2198d008c236dc3e5c4a07cb1a314e">sy</a>]</td></tr>
<tr class="separator:ae1af4924187739d419937a1a9e33f00a inherit pub_attribs_structmaptile__soa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ea5c6497700229c30956d4d1e4818c inherit pub_attribs_structmaptile__soa"><td class="memItemLeft" align="right" valign="top">std::uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmaptile__soa.html#ad9ea5c6497700229c30956d4d1e4818c">lum</a> [<a class="el" href="tileray_8cpp.html#a8052fc1aa2bb3c2d8bc2d80064bee6af">sx</a>][<a class="el" href="tileray_8cpp.html#aad2198d008c236dc3e5c4a07cb1a314e">sy</a>]</td></tr>
<tr class="separator:ad9ea5c6497700229c30956d4d1e4818c inherit pub_attribs_structmaptile__soa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba85c89aefe1632a1951ecbc71c25b3 inherit pub_attribs_structmaptile__soa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1colony.html">cata::colony</a>&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmaptile__soa.html#a9ba85c89aefe1632a1951ecbc71c25b3">itm</a> [<a class="el" href="tileray_8cpp.html#a8052fc1aa2bb3c2d8bc2d80064bee6af">sx</a>][<a class="el" href="tileray_8cpp.html#aad2198d008c236dc3e5c4a07cb1a314e">sy</a>]</td></tr>
<tr class="separator:a9ba85c89aefe1632a1951ecbc71c25b3 inherit pub_attribs_structmaptile__soa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad49da78bfefd8945c194955ef1922a94 inherit pub_attribs_structmaptile__soa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfield.html">field</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmaptile__soa.html#ad49da78bfefd8945c194955ef1922a94">fld</a> [<a class="el" href="tileray_8cpp.html#a8052fc1aa2bb3c2d8bc2d80064bee6af">sx</a>][<a class="el" href="tileray_8cpp.html#aad2198d008c236dc3e5c4a07cb1a314e">sy</a>]</td></tr>
<tr class="separator:ad49da78bfefd8945c194955ef1922a94 inherit pub_attribs_structmaptile__soa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac539bcd2d3969f22406138396f7421ce inherit pub_attribs_structmaptile__soa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmaptile__soa.html#ac539bcd2d3969f22406138396f7421ce">trp</a> [<a class="el" href="tileray_8cpp.html#a8052fc1aa2bb3c2d8bc2d80064bee6af">sx</a>][<a class="el" href="tileray_8cpp.html#aad2198d008c236dc3e5c4a07cb1a314e">sy</a>]</td></tr>
<tr class="separator:ac539bcd2d3969f22406138396f7421ce inherit pub_attribs_structmaptile__soa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69034b688361c90fa77b04e9707f9597 inherit pub_attribs_structmaptile__soa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmaptile__soa.html#a69034b688361c90fa77b04e9707f9597">rad</a> [<a class="el" href="tileray_8cpp.html#a8052fc1aa2bb3c2d8bc2d80064bee6af">sx</a>][<a class="el" href="tileray_8cpp.html#aad2198d008c236dc3e5c4a07cb1a314e">sy</a>]</td></tr>
<tr class="separator:a69034b688361c90fa77b04e9707f9597 inherit pub_attribs_structmaptile__soa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a6aa8eac8b516b65613b099399075fc4d"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a> = <a class="el" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * <a class="el" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a></td></tr>
<tr class="separator:a6aa8eac8b516b65613b099399075fc4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00064">64</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aafd8554ab31a0cea63cbffa2f12e7e62" name="aafd8554ab31a0cea63cbffa2f12e7e62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafd8554ab31a0cea63cbffa2f12e7e62">&#9670;&nbsp;</a></span>submap() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">submap::submap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00040">40</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>{</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    std::uninitialized_fill_n( &amp;<a class="code hl_variable" href="structmaptile__soa.html#a348487d194a4e2720845fb8d330143d6">ter</a>[0][0], <a class="code hl_variable" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, <a class="code hl_variable" href="mapdata_8cpp.html#a7eaf3fb1c88b99d3594824fe3cb7003f">t_null</a> );</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    std::uninitialized_fill_n( &amp;<a class="code hl_variable" href="structmaptile__soa.html#ae1af4924187739d419937a1a9e33f00a">frn</a>[0][0], <a class="code hl_variable" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, <a class="code hl_variable" href="mapdata_8cpp.html#a98423a935af4b918d68f206e63f6cf7f">f_null</a> );</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    std::uninitialized_fill_n( &amp;<a class="code hl_variable" href="structmaptile__soa.html#ad9ea5c6497700229c30956d4d1e4818c">lum</a>[0][0], <a class="code hl_variable" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, 0 );</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    std::uninitialized_fill_n( &amp;<a class="code hl_variable" href="structmaptile__soa.html#ac539bcd2d3969f22406138396f7421ce">trp</a>[0][0], <a class="code hl_variable" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, <a class="code hl_variable" href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">tr_null</a> );</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    std::uninitialized_fill_n( &amp;<a class="code hl_variable" href="structmaptile__soa.html#a69034b688361c90fa77b04e9707f9597">rad</a>[0][0], <a class="code hl_variable" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, 0 );</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span> </div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <a class="code hl_variable" href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">is_uniform</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>}</div>
<div class="ttc" id="aclasssubmap_html_a6aa8eac8b516b65613b099399075fc4d"><div class="ttname"><a href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">submap::elements</a></div><div class="ttdeci">static constexpr size_t elements</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00230">submap.h:230</a></div></div>
<div class="ttc" id="aclasssubmap_html_ab9c259d41007ae95567f3613a849bdb7"><div class="ttname"><a href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">submap::is_uniform</a></div><div class="ttdeci">bool is_uniform</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00204">submap.h:204</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a7eaf3fb1c88b99d3594824fe3cb7003f"><div class="ttname"><a href="mapdata_8cpp.html#a7eaf3fb1c88b99d3594824fe3cb7003f">t_null</a></div><div class="ttdeci">ter_id t_null</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00625">mapdata.cpp:625</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a98423a935af4b918d68f206e63f6cf7f"><div class="ttname"><a href="mapdata_8cpp.html#a98423a935af4b918d68f206e63f6cf7f">f_null</a></div><div class="ttdeci">furn_id f_null</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l01097">mapdata.cpp:1097</a></div></div>
<div class="ttc" id="astructmaptile__soa_html_a348487d194a4e2720845fb8d330143d6"><div class="ttname"><a href="structmaptile__soa.html#a348487d194a4e2720845fb8d330143d6">maptile_soa&lt; SEEX, SEEY &gt;::ter</a></div><div class="ttdeci">ter_id ter[sx][sy]</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00052">submap.h:52</a></div></div>
<div class="ttc" id="astructmaptile__soa_html_a69034b688361c90fa77b04e9707f9597"><div class="ttname"><a href="structmaptile__soa.html#a69034b688361c90fa77b04e9707f9597">maptile_soa&lt; SEEX, SEEY &gt;::rad</a></div><div class="ttdeci">int rad[sx][sy]</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00058">submap.h:58</a></div></div>
<div class="ttc" id="astructmaptile__soa_html_ac539bcd2d3969f22406138396f7421ce"><div class="ttname"><a href="structmaptile__soa.html#ac539bcd2d3969f22406138396f7421ce">maptile_soa&lt; SEEX, SEEY &gt;::trp</a></div><div class="ttdeci">trap_id trp[sx][sy]</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00057">submap.h:57</a></div></div>
<div class="ttc" id="astructmaptile__soa_html_ad9ea5c6497700229c30956d4d1e4818c"><div class="ttname"><a href="structmaptile__soa.html#ad9ea5c6497700229c30956d4d1e4818c">maptile_soa&lt; SEEX, SEEY &gt;::lum</a></div><div class="ttdeci">std::uint8_t lum[sx][sy]</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00054">submap.h:54</a></div></div>
<div class="ttc" id="astructmaptile__soa_html_ae1af4924187739d419937a1a9e33f00a"><div class="ttname"><a href="structmaptile__soa.html#ae1af4924187739d419937a1a9e33f00a">maptile_soa&lt; SEEX, SEEY &gt;::frn</a></div><div class="ttdeci">furn_id frn[sx][sy]</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00053">submap.h:53</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a7b8e40eb2b50e3841e2d9f2d0531226a"><div class="ttname"><a href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">tr_null</a></div><div class="ttdeci">trap_id tr_null</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00276">trap.cpp:276</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00230">elements</a>, <a class="el" href="mapdata_8cpp_source.html#l01097">f_null</a>, <a class="el" href="submap_8h_source.html#l00053">maptile_soa&lt; SEEX, SEEY &gt;::frn</a>, <a class="el" href="submap_8h_source.html#l00204">is_uniform</a>, <a class="el" href="submap_8h_source.html#l00054">maptile_soa&lt; SEEX, SEEY &gt;::lum</a>, <a class="el" href="submap_8h_source.html#l00058">maptile_soa&lt; SEEX, SEEY &gt;::rad</a>, <a class="el" href="mapdata_8cpp_source.html#l00625">t_null</a>, <a class="el" href="submap_8h_source.html#l00052">maptile_soa&lt; SEEX, SEEY &gt;::ter</a>, <a class="el" href="trap_8cpp_source.html#l00276">tr_null</a>, and <a class="el" href="submap_8h_source.html#l00057">maptile_soa&lt; SEEX, SEEY &gt;::trp</a>.</p>

</div>
</div>
<a id="a968983832bae23ca6b97d5feee54e8fe" name="a968983832bae23ca6b97d5feee54e8fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a968983832bae23ca6b97d5feee54e8fe">&#9670;&nbsp;</a></span>submap() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">submap::submap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsubmap.html">submap</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9a94867e037a16ad8620a23987baa0ef" name="a9a94867e037a16ad8620a23987baa0ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a94867e037a16ad8620a23987baa0ef">&#9670;&nbsp;</a></span>~submap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">submap::~submap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af15afcfd5f0efbbaae84d138a214847d" name="af15afcfd5f0efbbaae84d138a214847d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af15afcfd5f0efbbaae84d138a214847d">&#9670;&nbsp;</a></span>contains_vehicle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool submap::contains_vehicle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvehicle.html">vehicle</a> *&#160;</td>
          <td class="paramname"><em>veh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00255">255</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>{</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <span class="keyword">const</span> <span class="keyword">auto</span> match = std::find_if(</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>                           begin( <a class="code hl_namespace" href="namespacevehicles.html">vehicles</a> ), end( <a class="code hl_namespace" href="namespacevehicles.html">vehicles</a> ),</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    [veh]( <span class="keyword">const</span> std::unique_ptr&lt;vehicle&gt; &amp;v ) {</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>        <span class="keywordflow">return</span> v.get() == veh;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    } );</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="keywordflow">return</span> match != <a class="code hl_namespace" href="namespacevehicles.html">vehicles</a>.end();</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>}</div>
<div class="ttc" id="anamespacevehicles_html"><div class="ttname"><a href="namespacevehicles.html">vehicles</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00065">vehicle.h:66</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04783">map::process_items_in_vehicle()</a>, and <a class="el" href="map_8cpp_source.html#l04762">map::process_items_in_vehicles()</a>.</p>

</div>
</div>
<a id="add16433ae90a8873ee18e3e84658dd4b" name="add16433ae90a8873ee18e3e84658dd4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add16433ae90a8873ee18e3e84658dd4b">&#9670;&nbsp;</a></span>delete_computer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::delete_computer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00249">249</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>{</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    <a class="code hl_function" href="classsubmap.html#ae7d21c25718ad7093e5aed3aec78d891">update_legacy_computer</a>();</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.erase( p );</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>}</div>
<div class="ttc" id="aclasssubmap_html_ae7d21c25718ad7093e5aed3aec78d891"><div class="ttname"><a href="classsubmap.html#ae7d21c25718ad7093e5aed3aec78d891">submap::update_legacy_computer</a></div><div class="ttdeci">void update_legacy_computer()</div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00193">submap.cpp:193</a></div></div>
<div class="ttc" id="aclasssubmap_html_aeeba53a78e62b516c1bd1be0c63542ca"><div class="ttname"><a href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">submap::computers</a></div><div class="ttdeci">std::map&lt; point, computer &gt; computers</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00224">submap.h:224</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00224">computers</a>, and <a class="el" href="submap_8cpp_source.html#l00193">update_legacy_computer()</a>.</p>

</div>
</div>
<a id="a4c69a7809e351fac641470e218ad0fad" name="a4c69a7809e351fac641470e218ad0fad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c69a7809e351fac641470e218ad0fad">&#9670;&nbsp;</a></span>delete_graffiti()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::delete_graffiti </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00144">144</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>{</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <a class="code hl_variable" href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">is_uniform</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="keyword">const</span> <span class="keyword">auto</span> fresult = <a class="code hl_function" href="submap_8cpp.html#a6cf782320c7df763f41a0443010a7afa">find_cosmetic</a>( <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code hl_function" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI</a> );</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keywordflow">if</span>( fresult.result ) {</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>        <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>[ fresult.ndx ] = <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>.back();</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>.pop_back();</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    }</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>}</div>
<div class="ttc" id="aclasssubmap_html_ada9558cbc399cd122d23af327daa1c67"><div class="ttname"><a href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">submap::cosmetics</a></div><div class="ttdeci">std::vector&lt; cosmetic_t &gt; cosmetics</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00206">submap.h:206</a></div></div>
<div class="ttc" id="asubmap_8cpp_html_a6cf782320c7df763f41a0443010a7afa"><div class="ttname"><a href="submap_8cpp.html#a6cf782320c7df763f41a0443010a7afa">find_cosmetic</a></div><div class="ttdeci">static cosmetic_find_result find_cosmetic(const std::vector&lt; submap::cosmetic_t &gt; &amp;cosmetics, point p, const std::string &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00107">submap.cpp:107</a></div></div>
<div class="ttc" id="asubmap_8cpp_html_a81ce0969039472354e345d83af4e7d52"><div class="ttname"><a href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI</a></div><div class="ttdeci">static const std::string COSMETICS_GRAFFITI(&quot;GRAFFITI&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00206">cosmetics</a>, <a class="el" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI()</a>, <a class="el" href="submap_8cpp_source.html#l00107">find_cosmetic()</a>, and <a class="el" href="submap_8h_source.html#l00204">is_uniform</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l07951">map::delete_graffiti()</a>.</p>

</div>
</div>
<a id="a7696c6645cb76f60b9054631d302840c" name="a7696c6645cb76f60b9054631d302840c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7696c6645cb76f60b9054631d302840c">&#9670;&nbsp;</a></span>delete_signage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::delete_signage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00183">183</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>{</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <a class="code hl_variable" href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">is_uniform</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keyword">const</span> <span class="keyword">auto</span> fresult = <a class="code hl_function" href="submap_8cpp.html#a6cf782320c7df763f41a0443010a7afa">find_cosmetic</a>( <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code hl_function" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE</a> );</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="keywordflow">if</span>( fresult.result ) {</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>[ fresult.ndx ] = <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>.back();</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>.pop_back();</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    }</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>}</div>
<div class="ttc" id="asubmap_8cpp_html_a2ff8b1d4e9aff7d65b90a0daf67ae291"><div class="ttname"><a href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE</a></div><div class="ttdeci">static const std::string COSMETICS_SIGNAGE(&quot;SIGNAGE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00206">cosmetics</a>, <a class="el" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE()</a>, <a class="el" href="submap_8cpp_source.html#l00107">find_cosmetic()</a>, and <a class="el" href="submap_8h_source.html#l00204">is_uniform</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04141">map::delete_signage()</a>.</p>

</div>
</div>
<a id="a5964b68fca69127aba3cef0edbe39ff4" name="a5964b68fca69127aba3cef0edbe39ff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5964b68fca69127aba3cef0edbe39ff4">&#9670;&nbsp;</a></span>get_computer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcomputer.html">computer</a> * submap::get_computer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00226">226</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>{</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="comment">// need to update to std::map first so modifications to the returned object</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="comment">// only affects the exact point p</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <a class="code hl_function" href="classsubmap.html#ae7d21c25718ad7093e5aed3aec78d891">update_legacy_computer</a>();</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.find( p );</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    <span class="keywordflow">if</span>( it != <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.end() ) {</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>        <span class="keywordflow">return</span> &amp;it-&gt;second;</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    }</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00224">computers</a>, and <a class="el" href="submap_8cpp_source.html#l00193">update_legacy_computer()</a>.</p>

</div>
</div>
<a id="ae103fd6f9d638cf729fa8f17db33cdb0" name="ae103fd6f9d638cf729fa8f17db33cdb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae103fd6f9d638cf729fa8f17db33cdb0">&#9670;&nbsp;</a></span>get_computer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classcomputer.html">computer</a> * submap::get_computer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00212">212</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>{</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <span class="comment">// the returned object will not get modified (should not, at least), so we</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <span class="comment">// don&#39;t yet need to update to std::map</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.find( p );</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <span class="keywordflow">if</span>( it != <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.end() ) {</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>        <span class="keywordflow">return</span> &amp;it-&gt;second;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    }</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classsubmap.html#aeba919dd696c691da98256821a7d5c30">legacy_computer</a> &amp;&amp; <a class="code hl_variable" href="structmaptile__soa.html#a348487d194a4e2720845fb8d330143d6">ter</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] == <a class="code hl_variable" href="mapdata_8cpp.html#a2c46d6c97cbcfb86c8493ab0bf7ea240">t_console</a> ) {</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classsubmap.html#aeba919dd696c691da98256821a7d5c30">legacy_computer</a>.get();</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    }</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>}</div>
<div class="ttc" id="aclasssubmap_html_aeba919dd696c691da98256821a7d5c30"><div class="ttname"><a href="classsubmap.html#aeba919dd696c691da98256821a7d5c30">submap::legacy_computer</a></div><div class="ttdeci">std::unique_ptr&lt; computer &gt; legacy_computer</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00225">submap.h:225</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a2c46d6c97cbcfb86c8493ab0bf7ea240"><div class="ttname"><a href="mapdata_8cpp.html#a2c46d6c97cbcfb86c8493ab0bf7ea240">t_console</a></div><div class="ttdeci">ter_id t_console</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00706">mapdata.cpp:706</a></div></div>
<div class="ttc" id="astructpoint_html_a9a82ca9504acabb1e30569f89c805471"><div class="ttname"><a href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00039">point.h:39</a></div></div>
<div class="ttc" id="astructpoint_html_ad679b07fb69d55f5ad454d0f1f2891d5"><div class="ttname"><a href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00038">point.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00224">computers</a>, <a class="el" href="submap_8h_source.html#l00225">legacy_computer</a>, <a class="el" href="mapdata_8cpp_source.html#l00706">t_console</a>, <a class="el" href="submap_8h_source.html#l00052">maptile_soa&lt; SEEX, SEEY &gt;::ter</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l05612">map::add_computer()</a>.</p>

</div>
</div>
<a id="a58e0e8fb7010c9932af7abaaad37ad1b" name="a58e0e8fb7010c9932af7abaaad37ad1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58e0e8fb7010c9932af7abaaad37ad1b">&#9670;&nbsp;</a></span>get_field() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfield.html">field</a> &amp; submap::get_field </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00149">149</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>                                    {</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structmaptile__soa.html#ad49da78bfefd8945c194955ef1922a94">fld</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        }</div>
<div class="ttc" id="astructmaptile__soa_html_ad49da78bfefd8945c194955ef1922a94"><div class="ttname"><a href="structmaptile__soa.html#ad49da78bfefd8945c194955ef1922a94">maptile_soa&lt; SEEX, SEEY &gt;::fld</a></div><div class="ttdeci">field fld[sx][sy]</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00056">submap.h:56</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00056">maptile_soa&lt; SEEX, SEEY &gt;::fld</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05528">map::add_field()</a>, <a class="el" href="map_8cpp_source.html#l05419">map::field_at()</a>, <a class="el" href="submap_8h_source.html#l00279">maptile::find_field()</a>, <a class="el" href="submap_8h_source.html#l00275">maptile::get_field()</a>, <a class="el" href="map_8cpp_source.html#l05505">map::get_field()</a>, <a class="el" href="map__field_8cpp_source.html#l00396">map::process_fields_in_submap()</a>, and <a class="el" href="map_8cpp_source.html#l05585">map::remove_field()</a>.</p>

</div>
</div>
<a id="af369a1470e7b77a21ffe75ca9d03a637" name="af369a1470e7b77a21ffe75ca9d03a637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af369a1470e7b77a21ffe75ca9d03a637">&#9670;&nbsp;</a></span>get_field() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classfield.html">field</a> &amp; submap::get_field </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00153">153</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>                                                {</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structmaptile__soa.html#ad49da78bfefd8945c194955ef1922a94">fld</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00056">maptile_soa&lt; SEEX, SEEY &gt;::fld</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

</div>
</div>
<a id="af3e60e812430937e52afa570d73f16df" name="af3e60e812430937e52afa570d73f16df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3e60e812430937e52afa570d73f16df">&#9670;&nbsp;</a></span>get_furn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a> submap::get_furn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00086">86</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>                                          {</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structmaptile__soa.html#ae1af4924187739d419937a1a9e33f00a">frn</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00053">maptile_soa&lt; SEEX, SEEY &gt;::frn</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l01412">map::furn()</a>, <a class="el" href="map_8cpp_source.html#l01424">map::furn_set()</a>, <a class="el" href="submap_8h_source.html#l00256">maptile::get_furn()</a>, <a class="el" href="submap_8h_source.html#l00268">maptile::get_furn_t()</a>, <a class="el" href="map_8cpp_source.html#l02403">map::has_flag_ter_or_furn()</a>, and <a class="el" href="map_8cpp_source.html#l01869">map::move_cost_ter_furn()</a>.</p>

</div>
</div>
<a id="a50f8fbf3b7f92129cecfdd83af9452e7" name="a50f8fbf3b7f92129cecfdd83af9452e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50f8fbf3b7f92129cecfdd83af9452e7">&#9670;&nbsp;</a></span>get_graffiti()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; submap::get_graffiti </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00123">123</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>{</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="keyword">const</span> <span class="keyword">auto</span> fresult = <a class="code hl_function" href="submap_8cpp.html#a6cf782320c7df763f41a0443010a7afa">find_cosmetic</a>( <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code hl_function" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI</a> );</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="keywordflow">if</span>( fresult.result ) {</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>[ fresult.ndx ].str;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    }</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="submap_8cpp.html#a6a2c6720a7afc5feb23a4ae8ca61f3e0">STRING_EMPTY</a>;</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>}</div>
<div class="ttc" id="asubmap_8cpp_html_a6a2c6720a7afc5feb23a4ae8ca61f3e0"><div class="ttname"><a href="submap_8cpp.html#a6a2c6720a7afc5feb23a4ae8ca61f3e0">STRING_EMPTY</a></div><div class="ttdeci">static const std::string STRING_EMPTY</div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00094">submap.cpp:94</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00206">cosmetics</a>, <a class="el" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI()</a>, <a class="el" href="submap_8cpp_source.html#l00107">find_cosmetic()</a>, and <a class="el" href="submap_8cpp_source.html#l00094">STRING_EMPTY</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8h_source.html#l00291">maptile::get_graffiti()</a>, and <a class="el" href="map_8cpp_source.html#l07961">map::graffiti_at()</a>.</p>

</div>
</div>
<a id="ae3b7d7741921d9c8a80a8ca664022e9e" name="ae3b7d7741921d9c8a80a8ca664022e9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3b7d7741921d9c8a80a8ca664022e9e">&#9670;&nbsp;</a></span>get_items() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1colony.html">cata::colony</a>&lt; <a class="el" href="classitem.html">item</a> &gt; &amp; submap::get_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00140">140</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>                                               {</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structmaptile__soa.html#a9ba85c89aefe1632a1951ecbc71c25b3">itm</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        }</div>
<div class="ttc" id="astructmaptile__soa_html_a9ba85c89aefe1632a1951ecbc71c25b3"><div class="ttname"><a href="structmaptile__soa.html#a9ba85c89aefe1632a1951ecbc71c25b3">maptile_soa&lt; SEEX, SEEY &gt;::itm</a></div><div class="ttdeci">cata::colony&lt; item &gt; itm[sx][sy]</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00055">submap.h:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00055">maptile_soa&lt; SEEX, SEEY &gt;::itm</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l07539">map::actualize()</a>, <a class="el" href="map_8cpp_source.html#l04454">map::add_item()</a>, <a class="el" href="submap_8h_source.html#l00304">maptile::get_item_count()</a>, <a class="el" href="submap_8h_source.html#l00309">maptile::get_uppermost_item()</a>, <a class="el" href="map_8cpp_source.html#l04890">map::has_items()</a>, <a class="el" href="map_8cpp_source.html#l04209">map::i_at()</a>, <a class="el" href="map_8cpp_source.html#l04247">map::i_clear()</a>, <a class="el" href="map_8cpp_source.html#l04222">map::i_rem()</a>, and <a class="el" href="map_8cpp_source.html#l04546">map::make_active()</a>.</p>

</div>
</div>
<a id="a917c0915bee29cc3dcb0e7ea74fab1b6" name="a917c0915bee29cc3dcb0e7ea74fab1b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a917c0915bee29cc3dcb0e7ea74fab1b6">&#9670;&nbsp;</a></span>get_items() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classcata_1_1colony.html">cata::colony</a>&lt; <a class="el" href="classitem.html">item</a> &gt; &amp; submap::get_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00144">144</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>                                                           {</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structmaptile__soa.html#a9ba85c89aefe1632a1951ecbc71c25b3">itm</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00055">maptile_soa&lt; SEEX, SEEY &gt;::itm</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

</div>
</div>
<a id="a79d0a8ee65f431876aff0ee8db945820" name="a79d0a8ee65f431876aff0ee8db945820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79d0a8ee65f431876aff0ee8db945820">&#9670;&nbsp;</a></span>get_lum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t submap::get_lum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00121">121</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>                                         {</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structmaptile__soa.html#ad9ea5c6497700229c30956d4d1e4818c">lum</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00054">maptile_soa&lt; SEEX, SEEY &gt;::lum</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

</div>
</div>
<a id="add4de7b02b811a026656c7a8f13c8367" name="add4de7b02b811a026656c7a8f13c8367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add4de7b02b811a026656c7a8f13c8367">&#9670;&nbsp;</a></span>get_radiation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int submap::get_radiation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00112">112</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>                                           {</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structmaptile__soa.html#a69034b688361c90fa77b04e9707f9597">rad</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00058">maptile_soa&lt; SEEX, SEEY &gt;::rad</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04177">map::adjust_radiation()</a>, <a class="el" href="submap_8h_source.html#l00283">maptile::get_radiation()</a>, and <a class="el" href="map_8cpp_source.html#l04153">map::get_radiation()</a>.</p>

</div>
</div>
<a id="ad93f88406ea6e165e013c2927c7071a0" name="ad93f88406ea6e165e013c2927c7071a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad93f88406ea6e165e013c2927c7071a0">&#9670;&nbsp;</a></span>get_signage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string submap::get_signage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00161">161</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>{</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="structmaptile__soa.html#ae1af4924187739d419937a1a9e33f00a">frn</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>].<a class="code hl_function" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_function" href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">has_flag</a>( <span class="stringliteral">&quot;SIGN&quot;</span> ) ) {</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        <span class="keyword">const</span> <span class="keyword">auto</span> fresult = <a class="code hl_function" href="submap_8cpp.html#a6cf782320c7df763f41a0443010a7afa">find_cosmetic</a>( <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code hl_function" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE</a> );</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>        <span class="keywordflow">if</span>( fresult.result ) {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>[ fresult.ndx ].str;</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        }</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    }</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span> </div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="submap_8cpp.html#a6a2c6720a7afc5feb23a4ae8ca61f3e0">STRING_EMPTY</a>;</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>}</div>
<div class="ttc" id="aclassint__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">int_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00026">ammo_effect.cpp:26</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_a630778707744fb147436b9aa0c370a7e"><div class="ttname"><a href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">map_data_common_t::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00419">mapdata.h:419</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00206">cosmetics</a>, <a class="el" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE()</a>, <a class="el" href="submap_8cpp_source.html#l00107">find_cosmetic()</a>, <a class="el" href="submap_8h_source.html#l00053">maptile_soa&lt; SEEX, SEEY &gt;::frn</a>, <a class="el" href="mapdata_8h_source.html#l00419">map_data_common_t::has_flag()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="submap_8cpp_source.html#l00094">STRING_EMPTY</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8h_source.html#l00299">maptile::get_signage()</a>, and <a class="el" href="map_8cpp_source.html#l04119">map::get_signage()</a>.</p>

</div>
</div>
<a id="a15bbbad5b68ca691a748062af0b0af1b" name="a15bbbad5b68ca691a748062af0b0af1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15bbbad5b68ca691a748062af0b0af1b">&#9670;&nbsp;</a></span>get_temperature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int submap::get_temperature </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00165">165</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>                                    {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classsubmap.html#aaee3b1898d0e50f0d958754c8715b454">temperature</a>;</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        }</div>
<div class="ttc" id="aclasssubmap_html_aaee3b1898d0e50f0d958754c8715b454"><div class="ttname"><a href="classsubmap.html#aaee3b1898d0e50f0d958754c8715b454">submap::temperature</a></div><div class="ttdeci">int temperature</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00226">submap.h:226</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00226">temperature</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04190">map::get_temperature()</a>.</p>

</div>
</div>
<a id="ac20d2236d686d8befbd0de2f22c058f1" name="ac20d2236d686d8befbd0de2f22c058f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac20d2236d686d8befbd0de2f22c058f1">&#9670;&nbsp;</a></span>get_ter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a> submap::get_ter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00099">99</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>                                        {</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structmaptile__soa.html#a348487d194a4e2720845fb8d330143d6">ter</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00052">maptile_soa&lt; SEEX, SEEY &gt;::ter</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l07539">map::actualize()</a>, <a class="el" href="map_8cpp_source.html#l07594">map::add_roofs()</a>, <a class="el" href="map_8cpp_source.html#l08140">map::build_floor_cache()</a>, <a class="el" href="submap_8h_source.html#l00260">maptile::get_ter()</a>, <a class="el" href="submap_8h_source.html#l00271">maptile::get_ter_t()</a>, <a class="el" href="map_8cpp_source.html#l02403">map::has_flag_ter_or_furn()</a>, <a class="el" href="map_8cpp_source.html#l01869">map::move_cost_ter_furn()</a>, <a class="el" href="map_8cpp_source.html#l07070">map::saven()</a>, <a class="el" href="map_8cpp_source.html#l01562">map::ter()</a>, <a class="el" href="map_8cpp_source.html#l01703">map::ter_set()</a>, <a class="el" href="map_8cpp_source.html#l05257">map::tr_at()</a>, <a class="el" href="map_8cpp_source.html#l05309">map::trap_set()</a>, and <a class="el" href="map_8cpp_source.html#l08197">map::update_suspension_cache()</a>.</p>

</div>
</div>
<a id="a8faa8cf5b48aaa05effb94603c4dc463" name="a8faa8cf5b48aaa05effb94603c4dc463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8faa8cf5b48aaa05effb94603c4dc463">&#9670;&nbsp;</a></span>get_trap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a> submap::get_trap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00073">73</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>                                          {</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structmaptile__soa.html#ac539bcd2d3969f22406138396f7421ce">trp</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00057">maptile_soa&lt; SEEX, SEEY &gt;::trp</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l07539">map::actualize()</a>, <a class="el" href="submap_8h_source.html#l00252">maptile::get_trap()</a>, <a class="el" href="submap_8h_source.html#l00264">maptile::get_trap_t()</a>, <a class="el" href="map_8cpp_source.html#l05393">map::remove_trap()</a>, <a class="el" href="map_8cpp_source.html#l05257">map::tr_at()</a>, and <a class="el" href="map_8cpp_source.html#l05309">map::trap_set()</a>.</p>

</div>
</div>
<a id="a4cade8c85cb878532c5bb96b341e587d" name="a4cade8c85cb878532c5bb96b341e587d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cade8c85cb878532c5bb96b341e587d">&#9670;&nbsp;</a></span>has_computer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool submap::has_computer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00207">207</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>{</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.find( p ) != <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.end() || ( <a class="code hl_variable" href="classsubmap.html#aeba919dd696c691da98256821a7d5c30">legacy_computer</a> &amp;&amp; <a class="code hl_variable" href="structmaptile__soa.html#a348487d194a4e2720845fb8d330143d6">ter</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] == <a class="code hl_variable" href="mapdata_8cpp.html#a2c46d6c97cbcfb86c8493ab0bf7ea240">t_console</a> );</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00224">computers</a>, <a class="el" href="submap_8h_source.html#l00225">legacy_computer</a>, <a class="el" href="mapdata_8cpp_source.html#l00706">t_console</a>, <a class="el" href="submap_8h_source.html#l00052">maptile_soa&lt; SEEX, SEEY &gt;::ter</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

</div>
</div>
<a id="a23b46bbdb1725cea1aa3233c6bdabe29" name="a23b46bbdb1725cea1aa3233c6bdabe29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b46bbdb1725cea1aa3233c6bdabe29">&#9670;&nbsp;</a></span>has_graffiti()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool submap::has_graffiti </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00118">118</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>{</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="submap_8cpp.html#a6cf782320c7df763f41a0443010a7afa">find_cosmetic</a>( <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code hl_function" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI</a> ).<a class="code hl_variable" href="structcosmetic__find__result.html#a3de8fb543a40b815afeff4fafb7e1380">result</a>;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>}</div>
<div class="ttc" id="astructcosmetic__find__result_html_a3de8fb543a40b815afeff4fafb7e1380"><div class="ttname"><a href="structcosmetic__find__result.html#a3de8fb543a40b815afeff4fafb7e1380">cosmetic_find_result::result</a></div><div class="ttdeci">bool result</div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00097">submap.cpp:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00206">cosmetics</a>, <a class="el" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI()</a>, <a class="el" href="submap_8cpp_source.html#l00107">find_cosmetic()</a>, and <a class="el" href="submap_8cpp_source.html#l00097">cosmetic_find_result::result</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8h_source.html#l00287">maptile::has_graffiti()</a>, and <a class="el" href="map_8cpp_source.html#l07972">map::has_graffiti_at()</a>.</p>

</div>
</div>
<a id="a477d639e07eaaa2fb96db1ffa330a9b0" name="a477d639e07eaaa2fb96db1ffa330a9b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a477d639e07eaaa2fb96db1ffa330a9b0">&#9670;&nbsp;</a></span>has_signage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool submap::has_signage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00153">153</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>{</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="structmaptile__soa.html#ae1af4924187739d419937a1a9e33f00a">frn</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>].<a class="code hl_function" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_function" href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">has_flag</a>( <span class="stringliteral">&quot;SIGN&quot;</span> ) ) {</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="submap_8cpp.html#a6cf782320c7df763f41a0443010a7afa">find_cosmetic</a>( <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code hl_function" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE</a> ).<a class="code hl_variable" href="structcosmetic__find__result.html#a3de8fb543a40b815afeff4fafb7e1380">result</a>;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    }</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00206">cosmetics</a>, <a class="el" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE()</a>, <a class="el" href="submap_8cpp_source.html#l00107">find_cosmetic()</a>, <a class="el" href="submap_8h_source.html#l00053">maptile_soa&lt; SEEX, SEEY &gt;::frn</a>, <a class="el" href="mapdata_8h_source.html#l00419">map_data_common_t::has_flag()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="submap_8cpp_source.html#l00097">cosmetic_find_result::result</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8h_source.html#l00295">maptile::has_signage()</a>.</p>

</div>
</div>
<a id="aa497bd2f18de990f7c32cd9b2bd1e78e" name="aa497bd2f18de990f7c32cd9b2bd1e78e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa497bd2f18de990f7c32cd9b2bd1e78e">&#9670;&nbsp;</a></span>insert_cosmetic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::insert_cosmetic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00080">80</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>{</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    cosmetic_t ins;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    ins.pos = p;</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    ins.type = <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">type</a>;</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    ins.str = str;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>.push_back( ins );</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>}</div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a></div><div class="ttdeci">@ type</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00206">cosmetics</a>, <a class="el" href="submap_8h_source.html#l00158">submap::cosmetic_t::pos</a>, <a class="el" href="submap_8h_source.html#l00160">submap::cosmetic_t::str</a>, <a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, and <a class="el" href="submap_8h_source.html#l00159">submap::cosmetic_t::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8cpp_source.html#l00132">set_graffiti()</a>, and <a class="el" href="submap_8cpp_source.html#l00172">set_signage()</a>.</p>

</div>
</div>
<a id="a37dda19454c9518c80147fdddedb9560" name="a37dda19454c9518c80147fdddedb9560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37dda19454c9518c80147fdddedb9560">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonIn.html">JsonIn</a> &amp;&#160;</td>
          <td class="paramname"><em>jsin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>member_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l03972">3972</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03973" name="l03973"></a><span class="lineno"> 3973</span>{</div>
<div class="line"><a id="l03974" name="l03974"></a><span class="lineno"> 3974</span>    <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;turn_last_touched&quot;</span> ) {</div>
<div class="line"><a id="l03975" name="l03975"></a><span class="lineno"> 3975</span>        <a class="code hl_variable" href="classsubmap.html#a46123556cf8ed220cc78cfe639f76aea">last_touched</a> = <a class="code hl_variable" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a> + <a class="code hl_function" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>() );</div>
<div class="line"><a id="l03976" name="l03976"></a><span class="lineno"> 3976</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;temperature&quot;</span> ) {</div>
<div class="line"><a id="l03977" name="l03977"></a><span class="lineno"> 3977</span>        <a class="code hl_variable" href="classsubmap.html#aaee3b1898d0e50f0d958754c8715b454">temperature</a> = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l03978" name="l03978"></a><span class="lineno"> 3978</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;terrain&quot;</span> ) {</div>
<div class="line"><a id="l03979" name="l03979"></a><span class="lineno"> 3979</span>        <span class="comment">// TODO: try block around this to error out if we come up short?</span></div>
<div class="line"><a id="l03980" name="l03980"></a><span class="lineno"> 3980</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l03981" name="l03981"></a><span class="lineno"> 3981</span>        <span class="comment">// terrain is encoded using simple RLE</span></div>
<div class="line"><a id="l03982" name="l03982"></a><span class="lineno"> 3982</span>        <span class="keywordtype">int</span> remaining = 0;</div>
<div class="line"><a id="l03983" name="l03983"></a><span class="lineno"> 3983</span>        <a class="code hl_class" href="classint__id.html">int_id&lt;ter_t&gt;</a> iid;</div>
<div class="line"><a id="l03984" name="l03984"></a><span class="lineno"> 3984</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a id="l03985" name="l03985"></a><span class="lineno"> 3985</span>            <span class="comment">// NOLINTNEXTLINE(modernize-loop-convert)</span></div>
<div class="line"><a id="l03986" name="l03986"></a><span class="lineno"> 3986</span>            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a id="l03987" name="l03987"></a><span class="lineno"> 3987</span>                <span class="keywordflow">if</span>( !remaining ) {</div>
<div class="line"><a id="l03988" name="l03988"></a><span class="lineno"> 3988</span>                    <span class="keywordflow">if</span>( jsin.<a class="code hl_function" href="classJsonIn.html#a616a508c44b4db45b23d7c3e4a3fa2ef">test_string</a>() ) {</div>
<div class="line"><a id="l03989" name="l03989"></a><span class="lineno"> 3989</span>                        iid = <a class="code hl_typedef" href="mapdata_8h.html#a35072a9fdd9a8d25da4e647a63d1c445">ter_str_id</a>( jsin.<a class="code hl_function" href="classJsonIn.html#a7af38e6fc060866be2322268b5d3bcb9">get_string</a>() ).<a class="code hl_function" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a id="l03990" name="l03990"></a><span class="lineno"> 3990</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jsin.<a class="code hl_function" href="classJsonIn.html#a1893a4495869a8bbf150fecc20bc99d3">test_array</a>() ) {</div>
<div class="line"><a id="l03991" name="l03991"></a><span class="lineno"> 3991</span>                        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l03992" name="l03992"></a><span class="lineno"> 3992</span>                        iid = <a class="code hl_typedef" href="mapdata_8h.html#a35072a9fdd9a8d25da4e647a63d1c445">ter_str_id</a>( jsin.<a class="code hl_function" href="classJsonIn.html#a7af38e6fc060866be2322268b5d3bcb9">get_string</a>() ).<a class="code hl_function" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a id="l03993" name="l03993"></a><span class="lineno"> 3993</span>                        remaining = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>() - 1;</div>
<div class="line"><a id="l03994" name="l03994"></a><span class="lineno"> 3994</span>                        jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>();</div>
<div class="line"><a id="l03995" name="l03995"></a><span class="lineno"> 3995</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03996" name="l03996"></a><span class="lineno"> 3996</span>                        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Mapbuffer terrain data is corrupt, expected string or array.&quot;</span> );</div>
<div class="line"><a id="l03997" name="l03997"></a><span class="lineno"> 3997</span>                    }</div>
<div class="line"><a id="l03998" name="l03998"></a><span class="lineno"> 3998</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03999" name="l03999"></a><span class="lineno"> 3999</span>                    --remaining;</div>
<div class="line"><a id="l04000" name="l04000"></a><span class="lineno"> 4000</span>                }</div>
<div class="line"><a id="l04001" name="l04001"></a><span class="lineno"> 4001</span>                <a class="code hl_variable" href="structmaptile__soa.html#a348487d194a4e2720845fb8d330143d6">ter</a>[i][j] = iid;</div>
<div class="line"><a id="l04002" name="l04002"></a><span class="lineno"> 4002</span>            }</div>
<div class="line"><a id="l04003" name="l04003"></a><span class="lineno"> 4003</span>        }</div>
<div class="line"><a id="l04004" name="l04004"></a><span class="lineno"> 4004</span>        <span class="keywordflow">if</span>( remaining ) {</div>
<div class="line"><a id="l04005" name="l04005"></a><span class="lineno"> 4005</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Mapbuffer terrain data is corrupt, tile data remaining.&quot;</span> );</div>
<div class="line"><a id="l04006" name="l04006"></a><span class="lineno"> 4006</span>        }</div>
<div class="line"><a id="l04007" name="l04007"></a><span class="lineno"> 4007</span>        jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>();</div>
<div class="line"><a id="l04008" name="l04008"></a><span class="lineno"> 4008</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;radiation&quot;</span> ) {</div>
<div class="line"><a id="l04009" name="l04009"></a><span class="lineno"> 4009</span>        <span class="keywordtype">int</span> rad_cell = 0;</div>
<div class="line"><a id="l04010" name="l04010"></a><span class="lineno"> 4010</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04011" name="l04011"></a><span class="lineno"> 4011</span>        <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04012" name="l04012"></a><span class="lineno"> 4012</span>            <span class="keywordtype">int</span> rad_strength = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04013" name="l04013"></a><span class="lineno"> 4013</span>            <span class="keywordtype">int</span> rad_num = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04014" name="l04014"></a><span class="lineno"> 4014</span>            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; rad_num; ++i ) {</div>
<div class="line"><a id="l04015" name="l04015"></a><span class="lineno"> 4015</span>                <span class="keywordflow">if</span>( rad_cell &lt; <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> ) {</div>
<div class="line"><a id="l04016" name="l04016"></a><span class="lineno"> 4016</span>                    <a class="code hl_function" href="classsubmap.html#a7f95bb1aea53b10ca88e5c37eafd0df8">set_radiation</a>( { 0 % <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>, rad_cell / <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> }, rad_strength );</div>
<div class="line"><a id="l04017" name="l04017"></a><span class="lineno"> 4017</span>                    rad_cell++;</div>
<div class="line"><a id="l04018" name="l04018"></a><span class="lineno"> 4018</span>                }</div>
<div class="line"><a id="l04019" name="l04019"></a><span class="lineno"> 4019</span>            }</div>
<div class="line"><a id="l04020" name="l04020"></a><span class="lineno"> 4020</span>        }</div>
<div class="line"><a id="l04021" name="l04021"></a><span class="lineno"> 4021</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;furniture&quot;</span> ) {</div>
<div class="line"><a id="l04022" name="l04022"></a><span class="lineno"> 4022</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04023" name="l04023"></a><span class="lineno"> 4023</span>        <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04024" name="l04024"></a><span class="lineno"> 4024</span>            jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04025" name="l04025"></a><span class="lineno"> 4025</span>            <span class="keywordtype">int</span> i = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04026" name="l04026"></a><span class="lineno"> 4026</span>            <span class="keywordtype">int</span> j = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04027" name="l04027"></a><span class="lineno"> 4027</span>            <a class="code hl_variable" href="structmaptile__soa.html#ae1af4924187739d419937a1a9e33f00a">frn</a>[i][j] = <a class="code hl_typedef" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a>( jsin.<a class="code hl_function" href="classJsonIn.html#a7af38e6fc060866be2322268b5d3bcb9">get_string</a>() );</div>
<div class="line"><a id="l04028" name="l04028"></a><span class="lineno"> 4028</span>            jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>();</div>
<div class="line"><a id="l04029" name="l04029"></a><span class="lineno"> 4029</span>        }</div>
<div class="line"><a id="l04030" name="l04030"></a><span class="lineno"> 4030</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;items&quot;</span> ) {</div>
<div class="line"><a id="l04031" name="l04031"></a><span class="lineno"> 4031</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04032" name="l04032"></a><span class="lineno"> 4032</span>        <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04033" name="l04033"></a><span class="lineno"> 4033</span>            <span class="keywordtype">int</span> i = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04034" name="l04034"></a><span class="lineno"> 4034</span>            <span class="keywordtype">int</span> j = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04035" name="l04035"></a><span class="lineno"> 4035</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a id="l04036" name="l04036"></a><span class="lineno"> 4036</span>            jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04037" name="l04037"></a><span class="lineno"> 4037</span>            <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04038" name="l04038"></a><span class="lineno"> 4038</span>                <a class="code hl_class" href="classitem.html">item</a> tmp;</div>
<div class="line"><a id="l04039" name="l04039"></a><span class="lineno"> 4039</span>                jsin.<a class="code hl_function" href="classJsonIn.html#aa8f42d396d9e62f0401b71ccf579c111">read</a>( tmp );</div>
<div class="line"><a id="l04040" name="l04040"></a><span class="lineno"> 4040</span> </div>
<div class="line"><a id="l04041" name="l04041"></a><span class="lineno"> 4041</span>                <span class="keywordflow">if</span>( tmp.<a class="code hl_function" href="classitem.html#aa25047563db389e8372f4f40ef7ac965">is_emissive</a>() ) {</div>
<div class="line"><a id="l04042" name="l04042"></a><span class="lineno"> 4042</span>                    <a class="code hl_function" href="classsubmap.html#a9a8dd374566ccbe7cb42ff44cbe7ffd6">update_lum_add</a>( p, tmp );</div>
<div class="line"><a id="l04043" name="l04043"></a><span class="lineno"> 4043</span>                }</div>
<div class="line"><a id="l04044" name="l04044"></a><span class="lineno"> 4044</span> </div>
<div class="line"><a id="l04045" name="l04045"></a><span class="lineno"> 4045</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8h.html#ad92349523462977f97edd9afbed2a996">savegame_loading_version</a> &gt;= 27 &amp;&amp; version &lt; 27 ) {</div>
<div class="line"><a id="l04046" name="l04046"></a><span class="lineno"> 4046</span>                    tmp.<a class="code hl_function" href="classitem.html#ac654c33b3e67bc06d01c5d3ee78f752c">legacy_fast_forward_time</a>();</div>
<div class="line"><a id="l04047" name="l04047"></a><span class="lineno"> 4047</span>                }</div>
<div class="line"><a id="l04048" name="l04048"></a><span class="lineno"> 4048</span> </div>
<div class="line"><a id="l04049" name="l04049"></a><span class="lineno"> 4049</span>                <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1colony_1_1colony__iterator.html">cata::colony&lt;item&gt;::iterator</a> it = <a class="code hl_variable" href="structmaptile__soa.html#a9ba85c89aefe1632a1951ecbc71c25b3">itm</a>[p.x][p.y].insert( tmp );</div>
<div class="line"><a id="l04050" name="l04050"></a><span class="lineno"> 4050</span>                <span class="keywordflow">if</span>( tmp.<a class="code hl_function" href="classitem.html#a22d1f85c07bab6621bbd16d301b22bbf">needs_processing</a>() ) {</div>
<div class="line"><a id="l04051" name="l04051"></a><span class="lineno"> 4051</span>                    <a class="code hl_variable" href="classsubmap.html#ab14312fd2b32daf90ba20524a8272e70">active_items</a>.<a class="code hl_function" href="classactive__item__cache.html#a5fa98979f3b77cce8696282184928af3">add</a>( *it, p );</div>
<div class="line"><a id="l04052" name="l04052"></a><span class="lineno"> 4052</span>                }</div>
<div class="line"><a id="l04053" name="l04053"></a><span class="lineno"> 4053</span>            }</div>
<div class="line"><a id="l04054" name="l04054"></a><span class="lineno"> 4054</span>        }</div>
<div class="line"><a id="l04055" name="l04055"></a><span class="lineno"> 4055</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;it1 : <a class="code hl_variable" href="structmaptile__soa.html#a9ba85c89aefe1632a1951ecbc71c25b3">itm</a> ) {</div>
<div class="line"><a id="l04056" name="l04056"></a><span class="lineno"> 4056</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;it2 : it1 ) {</div>
<div class="line"><a id="l04057" name="l04057"></a><span class="lineno"> 4057</span>                <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">to_cbc_migration::migrate</a>( it2 );</div>
<div class="line"><a id="l04058" name="l04058"></a><span class="lineno"> 4058</span>            }</div>
<div class="line"><a id="l04059" name="l04059"></a><span class="lineno"> 4059</span>        }</div>
<div class="line"><a id="l04060" name="l04060"></a><span class="lineno"> 4060</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;traps&quot;</span> ) {</div>
<div class="line"><a id="l04061" name="l04061"></a><span class="lineno"> 4061</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04062" name="l04062"></a><span class="lineno"> 4062</span>        <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04063" name="l04063"></a><span class="lineno"> 4063</span>            jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04064" name="l04064"></a><span class="lineno"> 4064</span>            <span class="keywordtype">int</span> i = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04065" name="l04065"></a><span class="lineno"> 4065</span>            <span class="keywordtype">int</span> j = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04066" name="l04066"></a><span class="lineno"> 4066</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a id="l04067" name="l04067"></a><span class="lineno"> 4067</span>            <span class="comment">// TODO: jsin should support returning an id like jsin.get_id&lt;trap&gt;()</span></div>
<div class="line"><a id="l04068" name="l04068"></a><span class="lineno"> 4068</span>            <a class="code hl_variable" href="structmaptile__soa.html#ac539bcd2d3969f22406138396f7421ce">trp</a>[p.x][p.y] = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4afa733ad49aa7cb511c8acdc6604fcfed">trap_str_id</a>( jsin.<a class="code hl_function" href="classJsonIn.html#a7af38e6fc060866be2322268b5d3bcb9">get_string</a>() ).id();</div>
<div class="line"><a id="l04069" name="l04069"></a><span class="lineno"> 4069</span>            jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>();</div>
<div class="line"><a id="l04070" name="l04070"></a><span class="lineno"> 4070</span>        }</div>
<div class="line"><a id="l04071" name="l04071"></a><span class="lineno"> 4071</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;fields&quot;</span> ) {</div>
<div class="line"><a id="l04072" name="l04072"></a><span class="lineno"> 4072</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04073" name="l04073"></a><span class="lineno"> 4073</span>        <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04074" name="l04074"></a><span class="lineno"> 4074</span>            <span class="comment">// Coordinates loop</span></div>
<div class="line"><a id="l04075" name="l04075"></a><span class="lineno"> 4075</span>            <span class="keywordtype">int</span> i = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04076" name="l04076"></a><span class="lineno"> 4076</span>            <span class="keywordtype">int</span> j = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04077" name="l04077"></a><span class="lineno"> 4077</span>            jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04078" name="l04078"></a><span class="lineno"> 4078</span>            <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04079" name="l04079"></a><span class="lineno"> 4079</span>                <span class="comment">// TODO: Check enum-&gt;string migration below</span></div>
<div class="line"><a id="l04080" name="l04080"></a><span class="lineno"> 4080</span>                <span class="keywordtype">int</span> type_int = 0;</div>
<div class="line"><a id="l04081" name="l04081"></a><span class="lineno"> 4081</span>                std::string type_str;</div>
<div class="line"><a id="l04082" name="l04082"></a><span class="lineno"> 4082</span>                <span class="keywordflow">if</span>( jsin.<a class="code hl_function" href="classJsonIn.html#a06bc35e467e8351821cfe3955479141f">test_int</a>() ) {</div>
<div class="line"><a id="l04083" name="l04083"></a><span class="lineno"> 4083</span>                    type_int = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04084" name="l04084"></a><span class="lineno"> 4084</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04085" name="l04085"></a><span class="lineno"> 4085</span>                    type_str = jsin.<a class="code hl_function" href="classJsonIn.html#a7af38e6fc060866be2322268b5d3bcb9">get_string</a>();</div>
<div class="line"><a id="l04086" name="l04086"></a><span class="lineno"> 4086</span>                }</div>
<div class="line"><a id="l04087" name="l04087"></a><span class="lineno"> 4087</span>                <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacefields.html#af8bc739ca8fbe535a44afc02da973280a04bb0ec2d0e931c59f606510558e55a1">intensity</a> = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04088" name="l04088"></a><span class="lineno"> 4088</span>                <span class="keywordtype">int</span> age = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04089" name="l04089"></a><span class="lineno"> 4089</span>                <a class="code hl_class" href="classint__id.html">field_type_id</a> ft;</div>
<div class="line"><a id="l04090" name="l04090"></a><span class="lineno"> 4090</span>                <span class="keywordflow">if</span>( !type_str.empty() ) {</div>
<div class="line"><a id="l04091" name="l04091"></a><span class="lineno"> 4091</span>                    ft = <a class="code hl_typedef" href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a>( type_str );</div>
<div class="line"><a id="l04092" name="l04092"></a><span class="lineno"> 4092</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04093" name="l04093"></a><span class="lineno"> 4093</span>                    ft = <a class="code hl_function" href="namespacefield__types.html#aed4acf984fcafa3166ca8c817edd9943">field_types::get_field_type_by_legacy_enum</a>( type_int ).<a class="code hl_variable" href="structfield__type.html#a7b1c65d99a37643b4ec84a3abfdfb1a0">id</a>;</div>
<div class="line"><a id="l04094" name="l04094"></a><span class="lineno"> 4094</span>                }</div>
<div class="line"><a id="l04095" name="l04095"></a><span class="lineno"> 4095</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="structmaptile__soa.html#ad49da78bfefd8945c194955ef1922a94">fld</a>[i][j].find_field( ft ) == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l04096" name="l04096"></a><span class="lineno"> 4096</span>                    <a class="code hl_variable" href="classsubmap.html#aa86d0130ed1d1556482b2f7478633778">field_count</a>++;</div>
<div class="line"><a id="l04097" name="l04097"></a><span class="lineno"> 4097</span>                }</div>
<div class="line"><a id="l04098" name="l04098"></a><span class="lineno"> 4098</span>                <a class="code hl_variable" href="structmaptile__soa.html#ad49da78bfefd8945c194955ef1922a94">fld</a>[i][j].<a class="code hl_function" href="classfield.html#a671e9a371f05061f38a3d44966424381">add_field</a>( ft, intensity, <a class="code hl_function" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( age ) );</div>
<div class="line"><a id="l04099" name="l04099"></a><span class="lineno"> 4099</span>            }</div>
<div class="line"><a id="l04100" name="l04100"></a><span class="lineno"> 4100</span>        }</div>
<div class="line"><a id="l04101" name="l04101"></a><span class="lineno"> 4101</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;graffiti&quot;</span> ) {</div>
<div class="line"><a id="l04102" name="l04102"></a><span class="lineno"> 4102</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04103" name="l04103"></a><span class="lineno"> 4103</span>        <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04104" name="l04104"></a><span class="lineno"> 4104</span>            jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04105" name="l04105"></a><span class="lineno"> 4105</span>            <span class="keywordtype">int</span> i = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04106" name="l04106"></a><span class="lineno"> 4106</span>            <span class="keywordtype">int</span> j = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04107" name="l04107"></a><span class="lineno"> 4107</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a id="l04108" name="l04108"></a><span class="lineno"> 4108</span>            <a class="code hl_function" href="classsubmap.html#af818eabc6b15bc85809ac1a14b738421">set_graffiti</a>( p, jsin.<a class="code hl_function" href="classJsonIn.html#a7af38e6fc060866be2322268b5d3bcb9">get_string</a>() );</div>
<div class="line"><a id="l04109" name="l04109"></a><span class="lineno"> 4109</span>            jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>();</div>
<div class="line"><a id="l04110" name="l04110"></a><span class="lineno"> 4110</span>        }</div>
<div class="line"><a id="l04111" name="l04111"></a><span class="lineno"> 4111</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;cosmetics&quot;</span> ) {</div>
<div class="line"><a id="l04112" name="l04112"></a><span class="lineno"> 4112</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04113" name="l04113"></a><span class="lineno"> 4113</span>        std::map&lt;std::string, std::string&gt; tcosmetics;</div>
<div class="line"><a id="l04114" name="l04114"></a><span class="lineno"> 4114</span> </div>
<div class="line"><a id="l04115" name="l04115"></a><span class="lineno"> 4115</span>        <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04116" name="l04116"></a><span class="lineno"> 4116</span>            jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04117" name="l04117"></a><span class="lineno"> 4117</span>            <span class="keywordtype">int</span> i = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04118" name="l04118"></a><span class="lineno"> 4118</span>            <span class="keywordtype">int</span> j = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04119" name="l04119"></a><span class="lineno"> 4119</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a id="l04120" name="l04120"></a><span class="lineno"> 4120</span>            std::string <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, str;</div>
<div class="line"><a id="l04121" name="l04121"></a><span class="lineno"> 4121</span>            <span class="comment">// Try to read as current format</span></div>
<div class="line"><a id="l04122" name="l04122"></a><span class="lineno"> 4122</span>            <span class="keywordflow">if</span>( jsin.<a class="code hl_function" href="classJsonIn.html#a616a508c44b4db45b23d7c3e4a3fa2ef">test_string</a>() ) {</div>
<div class="line"><a id="l04123" name="l04123"></a><span class="lineno"> 4123</span>                <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">type</a> = jsin.<a class="code hl_function" href="classJsonIn.html#a7af38e6fc060866be2322268b5d3bcb9">get_string</a>();</div>
<div class="line"><a id="l04124" name="l04124"></a><span class="lineno"> 4124</span>                str = jsin.<a class="code hl_function" href="classJsonIn.html#a7af38e6fc060866be2322268b5d3bcb9">get_string</a>();</div>
<div class="line"><a id="l04125" name="l04125"></a><span class="lineno"> 4125</span>                <a class="code hl_function" href="classsubmap.html#aa497bd2f18de990f7c32cd9b2bd1e78e">insert_cosmetic</a>( p, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, str );</div>
<div class="line"><a id="l04126" name="l04126"></a><span class="lineno"> 4126</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04127" name="l04127"></a><span class="lineno"> 4127</span>                <span class="comment">// Otherwise read as most recent old format</span></div>
<div class="line"><a id="l04128" name="l04128"></a><span class="lineno"> 4128</span>                jsin.<a class="code hl_function" href="classJsonIn.html#aa8f42d396d9e62f0401b71ccf579c111">read</a>( tcosmetics );</div>
<div class="line"><a id="l04129" name="l04129"></a><span class="lineno"> 4129</span>                <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;cosm : tcosmetics ) {</div>
<div class="line"><a id="l04130" name="l04130"></a><span class="lineno"> 4130</span>                    <a class="code hl_function" href="classsubmap.html#aa497bd2f18de990f7c32cd9b2bd1e78e">insert_cosmetic</a>( p, cosm.first, cosm.second );</div>
<div class="line"><a id="l04131" name="l04131"></a><span class="lineno"> 4131</span>                }</div>
<div class="line"><a id="l04132" name="l04132"></a><span class="lineno"> 4132</span>                tcosmetics.clear();</div>
<div class="line"><a id="l04133" name="l04133"></a><span class="lineno"> 4133</span>            }</div>
<div class="line"><a id="l04134" name="l04134"></a><span class="lineno"> 4134</span> </div>
<div class="line"><a id="l04135" name="l04135"></a><span class="lineno"> 4135</span>            jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>();</div>
<div class="line"><a id="l04136" name="l04136"></a><span class="lineno"> 4136</span>        }</div>
<div class="line"><a id="l04137" name="l04137"></a><span class="lineno"> 4137</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;spawns&quot;</span> ) {</div>
<div class="line"><a id="l04138" name="l04138"></a><span class="lineno"> 4138</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04139" name="l04139"></a><span class="lineno"> 4139</span>        <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04140" name="l04140"></a><span class="lineno"> 4140</span>            jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04141" name="l04141"></a><span class="lineno"> 4141</span>            <span class="comment">// TODO: json should know how to read an string_id</span></div>
<div class="line"><a id="l04142" name="l04142"></a><span class="lineno"> 4142</span>            <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">type</a> = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">mtype_id</a>( jsin.<a class="code hl_function" href="classJsonIn.html#a7af38e6fc060866be2322268b5d3bcb9">get_string</a>() );</div>
<div class="line"><a id="l04143" name="l04143"></a><span class="lineno"> 4143</span>            <span class="keywordtype">int</span> <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04144" name="l04144"></a><span class="lineno"> 4144</span>            <span class="keywordtype">int</span> i = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04145" name="l04145"></a><span class="lineno"> 4145</span>            <span class="keywordtype">int</span> j = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04146" name="l04146"></a><span class="lineno"> 4146</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a id="l04147" name="l04147"></a><span class="lineno"> 4147</span>            <span class="keywordtype">int</span> <a class="code hl_class" href="classstring__id.html">faction_id</a> = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04148" name="l04148"></a><span class="lineno"> 4148</span>            <span class="keywordtype">int</span> mission_id = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04149" name="l04149"></a><span class="lineno"> 4149</span>            <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a> = jsin.<a class="code hl_function" href="classJsonIn.html#a1d776b66d738a1657104cfdafc4fab34">get_bool</a>();</div>
<div class="line"><a id="l04150" name="l04150"></a><span class="lineno"> 4150</span>            std::string <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = jsin.<a class="code hl_function" href="classJsonIn.html#a7af38e6fc060866be2322268b5d3bcb9">get_string</a>();</div>
<div class="line"><a id="l04151" name="l04151"></a><span class="lineno"> 4151</span>            jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>();</div>
<div class="line"><a id="l04152" name="l04152"></a><span class="lineno"> 4152</span>            <a class="code hl_struct" href="structspawn__point.html">spawn_point</a> tmp( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a>, p, <a class="code hl_class" href="classstring__id.html">faction_id</a>, mission_id, <a class="code hl_enumvalue" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a>, <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l04153" name="l04153"></a><span class="lineno"> 4153</span>            <a class="code hl_variable" href="classsubmap.html#a955a62ae7625cb18d39267c80b48f703">spawns</a>.push_back( tmp );</div>
<div class="line"><a id="l04154" name="l04154"></a><span class="lineno"> 4154</span>        }</div>
<div class="line"><a id="l04155" name="l04155"></a><span class="lineno"> 4155</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;vehicles&quot;</span> ) {</div>
<div class="line"><a id="l04156" name="l04156"></a><span class="lineno"> 4156</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04157" name="l04157"></a><span class="lineno"> 4157</span>        <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04158" name="l04158"></a><span class="lineno"> 4158</span>            std::unique_ptr&lt;vehicle&gt; tmp = std::make_unique&lt;vehicle&gt;();</div>
<div class="line"><a id="l04159" name="l04159"></a><span class="lineno"> 4159</span>            jsin.<a class="code hl_function" href="classJsonIn.html#aa8f42d396d9e62f0401b71ccf579c111">read</a>( *tmp );</div>
<div class="line"><a id="l04160" name="l04160"></a><span class="lineno"> 4160</span>            <a class="code hl_namespace" href="namespacevehicles.html">vehicles</a>.push_back( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( tmp ) );</div>
<div class="line"><a id="l04161" name="l04161"></a><span class="lineno"> 4161</span>        }</div>
<div class="line"><a id="l04162" name="l04162"></a><span class="lineno"> 4162</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;partial_constructions&quot;</span> ) {</div>
<div class="line"><a id="l04163" name="l04163"></a><span class="lineno"> 4163</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04164" name="l04164"></a><span class="lineno"> 4164</span>        <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04165" name="l04165"></a><span class="lineno"> 4165</span>            <a class="code hl_struct" href="structpartial__con.html">partial_con</a> pc;</div>
<div class="line"><a id="l04166" name="l04166"></a><span class="lineno"> 4166</span>            <span class="keywordtype">int</span> i = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04167" name="l04167"></a><span class="lineno"> 4167</span>            <span class="keywordtype">int</span> j = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04168" name="l04168"></a><span class="lineno"> 4168</span>            <span class="keywordtype">int</span> k = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04169" name="l04169"></a><span class="lineno"> 4169</span>            <a class="code hl_struct" href="structtripoint.html">tripoint</a> pt = <a class="code hl_struct" href="structtripoint.html">tripoint</a>( i, j, k );</div>
<div class="line"><a id="l04170" name="l04170"></a><span class="lineno"> 4170</span>            pc.<a class="code hl_variable" href="structpartial__con.html#a85b4cad2bfa67cb504ee89ca3129c17d">counter</a> = jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>();</div>
<div class="line"><a id="l04171" name="l04171"></a><span class="lineno"> 4171</span>            <span class="keywordflow">if</span>( jsin.<a class="code hl_function" href="classJsonIn.html#a06bc35e467e8351821cfe3955479141f">test_int</a>() ) {</div>
<div class="line"><a id="l04172" name="l04172"></a><span class="lineno"> 4172</span>                <span class="comment">// Oops, int id incorrectly saved by legacy code, just load it and hope for the best</span></div>
<div class="line"><a id="l04173" name="l04173"></a><span class="lineno"> 4173</span>                pc.<a class="code hl_variable" href="structpartial__con.html#a1cbf6d24b8616500c5af5d5355c8983b">id</a> = <a class="code hl_typedef" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a>( jsin.<a class="code hl_function" href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">get_int</a>() );</div>
<div class="line"><a id="l04174" name="l04174"></a><span class="lineno"> 4174</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04175" name="l04175"></a><span class="lineno"> 4175</span>                pc.<a class="code hl_variable" href="structpartial__con.html#a1cbf6d24b8616500c5af5d5355c8983b">id</a> = <a class="code hl_typedef" href="type__id_8h.html#abb14ce5588f6fe430a78b1cc63218b86">construction_str_id</a>( jsin.<a class="code hl_function" href="classJsonIn.html#a7af38e6fc060866be2322268b5d3bcb9">get_string</a>() ).<a class="code hl_function" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a id="l04176" name="l04176"></a><span class="lineno"> 4176</span>            }</div>
<div class="line"><a id="l04177" name="l04177"></a><span class="lineno"> 4177</span>            jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04178" name="l04178"></a><span class="lineno"> 4178</span>            <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04179" name="l04179"></a><span class="lineno"> 4179</span>                <a class="code hl_class" href="classitem.html">item</a> tmp;</div>
<div class="line"><a id="l04180" name="l04180"></a><span class="lineno"> 4180</span>                jsin.<a class="code hl_function" href="classJsonIn.html#aa8f42d396d9e62f0401b71ccf579c111">read</a>( tmp );</div>
<div class="line"><a id="l04181" name="l04181"></a><span class="lineno"> 4181</span>                pc.<a class="code hl_variable" href="structpartial__con.html#a4660d0ab4eb556e12889b93c20742923">components</a>.push_back( tmp );</div>
<div class="line"><a id="l04182" name="l04182"></a><span class="lineno"> 4182</span>            }</div>
<div class="line"><a id="l04183" name="l04183"></a><span class="lineno"> 4183</span>            <a class="code hl_variable" href="classsubmap.html#a899d7838d59a219577907bfef4157314">partial_constructions</a>[pt] = pc;</div>
<div class="line"><a id="l04184" name="l04184"></a><span class="lineno"> 4184</span>        }</div>
<div class="line"><a id="l04185" name="l04185"></a><span class="lineno"> 4185</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;computers&quot;</span> ) {</div>
<div class="line"><a id="l04186" name="l04186"></a><span class="lineno"> 4186</span>        <span class="keywordflow">if</span>( jsin.<a class="code hl_function" href="classJsonIn.html#a1893a4495869a8bbf150fecc20bc99d3">test_array</a>() ) {</div>
<div class="line"><a id="l04187" name="l04187"></a><span class="lineno"> 4187</span>            jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04188" name="l04188"></a><span class="lineno"> 4188</span>            <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04189" name="l04189"></a><span class="lineno"> 4189</span>                <a class="code hl_struct" href="structpoint.html">point</a> loc;</div>
<div class="line"><a id="l04190" name="l04190"></a><span class="lineno"> 4190</span>                jsin.<a class="code hl_function" href="classJsonIn.html#aa8f42d396d9e62f0401b71ccf579c111">read</a>( loc );</div>
<div class="line"><a id="l04191" name="l04191"></a><span class="lineno"> 4191</span>                <span class="keyword">auto</span> new_comp_it = <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.emplace( loc, <a class="code hl_class" href="classcomputer.html">computer</a>( <span class="stringliteral">&quot;BUGGED_COMPUTER&quot;</span>, -100 ) ).first;</div>
<div class="line"><a id="l04192" name="l04192"></a><span class="lineno"> 4192</span>                jsin.<a class="code hl_function" href="classJsonIn.html#aa8f42d396d9e62f0401b71ccf579c111">read</a>( new_comp_it-&gt;second );</div>
<div class="line"><a id="l04193" name="l04193"></a><span class="lineno"> 4193</span>            }</div>
<div class="line"><a id="l04194" name="l04194"></a><span class="lineno"> 4194</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04195" name="l04195"></a><span class="lineno"> 4195</span>            <span class="comment">// only load legacy data here, but do not update to std::map, since</span></div>
<div class="line"><a id="l04196" name="l04196"></a><span class="lineno"> 4196</span>            <span class="comment">// the terrain may not have been loaded yet.</span></div>
<div class="line"><a id="l04197" name="l04197"></a><span class="lineno"> 4197</span>            <a class="code hl_variable" href="classsubmap.html#aeba919dd696c691da98256821a7d5c30">legacy_computer</a> = std::make_unique&lt;computer&gt;( <span class="stringliteral">&quot;BUGGED_COMPUTER&quot;</span>, -100 );</div>
<div class="line"><a id="l04198" name="l04198"></a><span class="lineno"> 4198</span>            jsin.<a class="code hl_function" href="classJsonIn.html#aa8f42d396d9e62f0401b71ccf579c111">read</a>( *<a class="code hl_variable" href="classsubmap.html#aeba919dd696c691da98256821a7d5c30">legacy_computer</a> );</div>
<div class="line"><a id="l04199" name="l04199"></a><span class="lineno"> 4199</span>        }</div>
<div class="line"><a id="l04200" name="l04200"></a><span class="lineno"> 4200</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;camp&quot;</span> ) {</div>
<div class="line"><a id="l04201" name="l04201"></a><span class="lineno"> 4201</span>        <a class="code hl_variable" href="classsubmap.html#aab6b800454648ba710233504494b2c34">camp</a> = std::make_unique&lt;basecamp&gt;();</div>
<div class="line"><a id="l04202" name="l04202"></a><span class="lineno"> 4202</span>        jsin.<a class="code hl_function" href="classJsonIn.html#aa8f42d396d9e62f0401b71ccf579c111">read</a>( *<a class="code hl_variable" href="classsubmap.html#aab6b800454648ba710233504494b2c34">camp</a> );</div>
<div class="line"><a id="l04203" name="l04203"></a><span class="lineno"> 4203</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;active_furniture&quot;</span> ) {</div>
<div class="line"><a id="l04204" name="l04204"></a><span class="lineno"> 4204</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l04205" name="l04205"></a><span class="lineno"> 4205</span>        <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l04206" name="l04206"></a><span class="lineno"> 4206</span>            <a class="code hl_class" href="classcoords_1_1coord__point.html">point_sm_ms</a> p;</div>
<div class="line"><a id="l04207" name="l04207"></a><span class="lineno"> 4207</span>            jsin.<a class="code hl_function" href="classJsonIn.html#aa8f42d396d9e62f0401b71ccf579c111">read</a>( p );</div>
<div class="line"><a id="l04208" name="l04208"></a><span class="lineno"> 4208</span>            <a class="code hl_variable" href="classsubmap.html#a13a7762a23694210abea9955505fcb87">active_furniture</a>[p].deserialize( jsin );</div>
<div class="line"><a id="l04209" name="l04209"></a><span class="lineno"> 4209</span>        }</div>
<div class="line"><a id="l04210" name="l04210"></a><span class="lineno"> 4210</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04211" name="l04211"></a><span class="lineno"> 4211</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a7f164ce2f527575071b24679a36201a0">skip_value</a>();</div>
<div class="line"><a id="l04212" name="l04212"></a><span class="lineno"> 4212</span>    }</div>
<div class="line"><a id="l04213" name="l04213"></a><span class="lineno"> 4213</span>}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">cata_variant_type::mtype_id</a></div><div class="ttdeci">@ mtype_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4afa733ad49aa7cb511c8acdc6604fcfed"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4afa733ad49aa7cb511c8acdc6604fcfed">cata_variant_type::trap_str_id</a></div><div class="ttdeci">@ trap_str_id</div></div>
<div class="ttc" id="aclassJsonIn_html_a06bc35e467e8351821cfe3955479141f"><div class="ttname"><a href="classJsonIn.html#a06bc35e467e8351821cfe3955479141f">JsonIn::test_int</a></div><div class="ttdeci">bool test_int()</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00258">json.h:258</a></div></div>
<div class="ttc" id="aclassJsonIn_html_a1893a4495869a8bbf150fecc20bc99d3"><div class="ttname"><a href="classJsonIn.html#a1893a4495869a8bbf150fecc20bc99d3">JsonIn::test_array</a></div><div class="ttdeci">bool test_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01539">json.cpp:1539</a></div></div>
<div class="ttc" id="aclassJsonIn_html_a1d776b66d738a1657104cfdafc4fab34"><div class="ttname"><a href="classJsonIn.html#a1d776b66d738a1657104cfdafc4fab34">JsonIn::get_bool</a></div><div class="ttdeci">bool get_bool()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01399">json.cpp:1399</a></div></div>
<div class="ttc" id="aclassJsonIn_html_a4ad2af6b619e40578784928e9a3fd134"><div class="ttname"><a href="classJsonIn.html#a4ad2af6b619e40578784928e9a3fd134">JsonIn::get_int</a></div><div class="ttdeci">int get_int()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01255">json.cpp:1255</a></div></div>
<div class="ttc" id="aclassJsonIn_html_a616a508c44b4db45b23d7c3e4a3fa2ef"><div class="ttname"><a href="classJsonIn.html#a616a508c44b4db45b23d7c3e4a3fa2ef">JsonIn::test_string</a></div><div class="ttdeci">bool test_string()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01527">json.cpp:1527</a></div></div>
<div class="ttc" id="aclassJsonIn_html_a70443f07b40c2a0ab1aee1e0418a1faf"><div class="ttname"><a href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">JsonIn::start_array</a></div><div class="ttdeci">void start_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01441">json.cpp:1441</a></div></div>
<div class="ttc" id="aclassJsonIn_html_a7af38e6fc060866be2322268b5d3bcb9"><div class="ttname"><a href="classJsonIn.html#a7af38e6fc060866be2322268b5d3bcb9">JsonIn::get_string</a></div><div class="ttdeci">std::string get_string()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01164">json.cpp:1164</a></div></div>
<div class="ttc" id="aclassJsonIn_html_a7f164ce2f527575071b24679a36201a0"><div class="ttname"><a href="classJsonIn.html#a7f164ce2f527575071b24679a36201a0">JsonIn::skip_value</a></div><div class="ttdeci">void skip_value()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00918">json.cpp:918</a></div></div>
<div class="ttc" id="aclassJsonIn_html_aa8f42d396d9e62f0401b71ccf579c111"><div class="ttname"><a href="classJsonIn.html#aa8f42d396d9e62f0401b71ccf579c111">JsonIn::read</a></div><div class="ttdeci">bool read(bool &amp;b, bool throw_on_error=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01553">json.cpp:1553</a></div></div>
<div class="ttc" id="aclassJsonIn_html_adb53515d72e6e0457ae3266ace12d5e5"><div class="ttname"><a href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">JsonIn::end_array</a></div><div class="ttdeci">bool end_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01457">json.cpp:1457</a></div></div>
<div class="ttc" id="aclassactive__item__cache_html_a5fa98979f3b77cce8696282184928af3"><div class="ttname"><a href="classactive__item__cache.html#a5fa98979f3b77cce8696282184928af3">active_item_cache::add</a></div><div class="ttdeci">void add(item &amp;it, point location)</div><div class="ttdoc">Adds the reference to the cache.</div><div class="ttdef"><b>Definition:</b> <a href="active__item__cache_8cpp_source.html#l00032">active_item_cache.cpp:32</a></div></div>
<div class="ttc" id="aclasscata_1_1colony_1_1colony__iterator_html"><div class="ttname"><a href="classcata_1_1colony_1_1colony__iterator.html">cata::colony::colony_iterator&lt; false &gt;</a></div></div>
<div class="ttc" id="aclasscomputer_html"><div class="ttname"><a href="classcomputer.html">computer</a></div><div class="ttdef"><b>Definition:</b> <a href="computer_8h_source.html#l00109">computer.h:110</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; point, coords::origin::submap, coords::ms &gt;</a></div></div>
<div class="ttc" id="aclassfield_html_a671e9a371f05061f38a3d44966424381"><div class="ttname"><a href="classfield.html#a671e9a371f05061f38a3d44966424381">field::add_field</a></div><div class="ttdeci">bool add_field(const field_type_id &amp;field_type_to_add, int new_intensity=1, const time_duration &amp;new_age=0_turns)</div><div class="ttdoc">Inserts the given field_type_id into the field list for a given tile if it does not already exist.</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00190">field.cpp:190</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; ter_t &gt;</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00209">item.h:210</a></div></div>
<div class="ttc" id="aclassitem_html_a22d1f85c07bab6621bbd16d301b22bbf"><div class="ttname"><a href="classitem.html#a22d1f85c07bab6621bbd16d301b22bbf">item::needs_processing</a></div><div class="ttdeci">bool needs_processing() const</div><div class="ttdoc">Whether the item should be processed (by calling process).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08951">item.cpp:8951</a></div></div>
<div class="ttc" id="aclassitem_html_aa25047563db389e8372f4f40ef7ac965"><div class="ttname"><a href="classitem.html#aa25047563db389e8372f4f40ef7ac965">item::is_emissive</a></div><div class="ttdeci">bool is_emissive() const</div><div class="ttdoc">Whether the item emits any light at all.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06973">item.cpp:6973</a></div></div>
<div class="ttc" id="aclassitem_html_ac654c33b3e67bc06d01c5d3ee78f752c"><div class="ttname"><a href="classitem.html#ac654c33b3e67bc06d01c5d3ee78f752c">item::legacy_fast_forward_time</a></div><div class="ttdeci">void legacy_fast_forward_time()</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10044">item.cpp:10044</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; mtype &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa3cde2bfb58efa9621289c0a70d24c5a"><div class="ttname"><a href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">string_id::id</a></div><div class="ttdeci">int_id&lt; T &gt; id() const</div><div class="ttdoc">Translate the string based it to the matching integer based id.</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00054">ammo_effect.cpp:54</a></div></div>
<div class="ttc" id="aclasssubmap_html_a13a7762a23694210abea9955505fcb87"><div class="ttname"><a href="classsubmap.html#a13a7762a23694210abea9955505fcb87">submap::active_furniture</a></div><div class="ttdeci">std::map&lt; point_sm_ms, cata::poly_serialized&lt; active_tile_data &gt; &gt; active_furniture</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00221">submap.h:221</a></div></div>
<div class="ttc" id="aclasssubmap_html_a46123556cf8ed220cc78cfe639f76aea"><div class="ttname"><a href="classsubmap.html#a46123556cf8ed220cc78cfe639f76aea">submap::last_touched</a></div><div class="ttdeci">time_point last_touched</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00211">submap.h:211</a></div></div>
<div class="ttc" id="aclasssubmap_html_a7f95bb1aea53b10ca88e5c37eafd0df8"><div class="ttname"><a href="classsubmap.html#a7f95bb1aea53b10ca88e5c37eafd0df8">submap::set_radiation</a></div><div class="ttdeci">void set_radiation(point p, const int radiation)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00116">submap.h:116</a></div></div>
<div class="ttc" id="aclasssubmap_html_a899d7838d59a219577907bfef4157314"><div class="ttname"><a href="classsubmap.html#a899d7838d59a219577907bfef4157314">submap::partial_constructions</a></div><div class="ttdeci">std::map&lt; tripoint, partial_con &gt; partial_constructions</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00219">submap.h:219</a></div></div>
<div class="ttc" id="aclasssubmap_html_a955a62ae7625cb18d39267c80b48f703"><div class="ttname"><a href="classsubmap.html#a955a62ae7625cb18d39267c80b48f703">submap::spawns</a></div><div class="ttdeci">std::vector&lt; spawn_point &gt; spawns</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00212">submap.h:212</a></div></div>
<div class="ttc" id="aclasssubmap_html_a9a8dd374566ccbe7cb42ff44cbe7ffd6"><div class="ttname"><a href="classsubmap.html#a9a8dd374566ccbe7cb42ff44cbe7ffd6">submap::update_lum_add</a></div><div class="ttdeci">void update_lum_add(point p, const item &amp;i)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00130">submap.h:130</a></div></div>
<div class="ttc" id="aclasssubmap_html_aa497bd2f18de990f7c32cd9b2bd1e78e"><div class="ttname"><a href="classsubmap.html#aa497bd2f18de990f7c32cd9b2bd1e78e">submap::insert_cosmetic</a></div><div class="ttdeci">void insert_cosmetic(point p, const std::string &amp;type, const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00080">submap.cpp:80</a></div></div>
<div class="ttc" id="aclasssubmap_html_aa86d0130ed1d1556482b2f7478633778"><div class="ttname"><a href="classsubmap.html#aa86d0130ed1d1556482b2f7478633778">submap::field_count</a></div><div class="ttdeci">int field_count</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00210">submap.h:210</a></div></div>
<div class="ttc" id="aclasssubmap_html_aab6b800454648ba710233504494b2c34"><div class="ttname"><a href="classsubmap.html#aab6b800454648ba710233504494b2c34">submap::camp</a></div><div class="ttdeci">std::unique_ptr&lt; basecamp &gt; camp</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00220">submap.h:220</a></div></div>
<div class="ttc" id="aclasssubmap_html_ab14312fd2b32daf90ba20524a8272e70"><div class="ttname"><a href="classsubmap.html#ab14312fd2b32daf90ba20524a8272e70">submap::active_items</a></div><div class="ttdeci">active_item_cache active_items</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00208">submap.h:208</a></div></div>
<div class="ttc" id="aclasssubmap_html_af818eabc6b15bc85809ac1a14b738421"><div class="ttname"><a href="classsubmap.html#af818eabc6b15bc85809ac1a14b738421">submap::set_graffiti</a></div><div class="ttdeci">void set_graffiti(point p, const std::string &amp;new_graffiti)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00132">submap.cpp:132</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a0f7145f4fc4c09defbaf25f468e4e54a"><div class="ttname"><a href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a></div><div class="ttdeci">static constexpr time_duration from_turns(const T t)</div><div class="ttdoc">Named constructors to get a duration representing a multiple of the named time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00204">calendar.h:204</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="agame_8h_html_ad92349523462977f97edd9afbed2a996"><div class="ttname"><a href="game_8h.html#ad92349523462977f97edd9afbed2a996">savegame_loading_version</a></div><div class="ttdeci">int savegame_loading_version</div><div class="ttdef"><b>Definition:</b> <a href="savegame_8cpp_source.html#l00064">savegame.cpp:64</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a39fd8a829e3dc412646663066dbdb54c"><div class="ttname"><a href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a></div><div class="ttdeci">static constexpr int SEEX</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00035">game_constants.h:35</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a4cfa35de359af17f7bc6c2a424339eb5"><div class="ttname"><a href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a></div><div class="ttdeci">static constexpr int SEEY</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00036">game_constants.h:36</a></div></div>
<div class="ttc" id="amapdata_8h_html_a35072a9fdd9a8d25da4e647a63d1c445"><div class="ttname"><a href="mapdata_8h.html#a35072a9fdd9a8d25da4e647a63d1c445">ter_str_id</a></div><div class="ttdeci">string_id&lt; ter_t &gt; ter_str_id</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00024">mapdata.h:24</a></div></div>
<div class="ttc" id="anamespaceavatar__action_html_a76ba74774376a08222b8cdcce08f7304"><div class="ttname"><a href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">avatar_action::move</a></div><div class="ttdeci">bool move(avatar &amp;you, map &amp;m, const tripoint &amp;d)</div><div class="ttdef"><b>Definition:</b> <a href="avatar__action_8cpp_source.html#l00096">avatar_action.cpp:96</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a2ad145a605c70358e73fdd4a802ba21a"><div class="ttname"><a href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a></div><div class="ttdeci">const time_point turn_zero</div><div class="ttdoc">Represents time point 0.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00026">calendar.cpp:26</a></div></div>
<div class="ttc" id="anamespacedetail_html_ab2f84fb3de26acdac3fc63a2dce5ea5e"><div class="ttname"><a href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">detail::count</a></div><div class="ttdeci">constexpr size_t count()</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__core_8h_source.html#l01073">fmtlib_core.h:1073</a></div></div>
<div class="ttc" id="anamespacefield__types_html_aed4acf984fcafa3166ca8c817edd9943"><div class="ttname"><a href="namespacefield__types.html#aed4acf984fcafa3166ca8c817edd9943">field_types::get_field_type_by_legacy_enum</a></div><div class="ttdeci">field_type get_field_type_by_legacy_enum(int legacy_enum_id)</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00446">field_type.cpp:446</a></div></div>
<div class="ttc" id="anamespacefields_html_af8bc739ca8fbe535a44afc02da973280a04bb0ec2d0e931c59f606510558e55a1"><div class="ttname"><a href="namespacefields.html#af8bc739ca8fbe535a44afc02da973280a04bb0ec2d0e931c59f606510558e55a1">fields::stacking_type::intensity</a></div><div class="ttdeci">@ intensity</div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l04129">overmap.cpp:4129</a></div></div>
<div class="ttc" id="anamespaceto__cbc__migration_html_aa2388f961ff14499d847777a40741d59"><div class="ttname"><a href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">to_cbc_migration::migrate</a></div><div class="ttdeci">static void migrate(cata::colony&lt; item &gt; &amp;stack)</div><div class="ttdoc">Merge old individual items into new count-by-charges items with same id.</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l02162">savegame_json.cpp:2162</a></div></div>
<div class="ttc" id="anpc_8h_html_ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9"><div class="ttname"><a href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">attitude_group::friendly</a></div><div class="ttdeci">@ friendly</div></div>
<div class="ttc" id="astructfield__type_html_a7b1c65d99a37643b4ec84a3abfdfb1a0"><div class="ttname"><a href="structfield__type.html#a7b1c65d99a37643b4ec84a3abfdfb1a0">field_type::id</a></div><div class="ttdeci">field_type_str_id id</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8h_source.html#l00143">field_type.h:143</a></div></div>
<div class="ttc" id="astructpartial__con_html"><div class="ttname"><a href="structpartial__con.html">partial_con</a></div><div class="ttdef"><b>Definition:</b> <a href="construction__partial_8h_source.html#l00010">construction_partial.h:10</a></div></div>
<div class="ttc" id="astructpartial__con_html_a1cbf6d24b8616500c5af5d5355c8983b"><div class="ttname"><a href="structpartial__con.html#a1cbf6d24b8616500c5af5d5355c8983b">partial_con::id</a></div><div class="ttdeci">construction_id id</div><div class="ttdef"><b>Definition:</b> <a href="construction__partial_8h_source.html#l00013">construction_partial.h:13</a></div></div>
<div class="ttc" id="astructpartial__con_html_a4660d0ab4eb556e12889b93c20742923"><div class="ttname"><a href="structpartial__con.html#a4660d0ab4eb556e12889b93c20742923">partial_con::components</a></div><div class="ttdeci">std::list&lt; item &gt; components</div><div class="ttdef"><b>Definition:</b> <a href="construction__partial_8h_source.html#l00012">construction_partial.h:12</a></div></div>
<div class="ttc" id="astructpartial__con_html_a85b4cad2bfa67cb504ee89ca3129c17d"><div class="ttname"><a href="structpartial__con.html#a85b4cad2bfa67cb504ee89ca3129c17d">partial_con::counter</a></div><div class="ttdeci">int counter</div><div class="ttdef"><b>Definition:</b> <a href="construction__partial_8h_source.html#l00011">construction_partial.h:11</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
<div class="ttc" id="astructspawn__point_html"><div class="ttname"><a href="structspawn__point.html">spawn_point</a></div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00035">submap.h:35</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00133">point.h:133</a></div></div>
<div class="ttc" id="atype__id_8h_html_a2a56520b7eef7294fc98230cb883c9d2"><div class="ttname"><a href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a></div><div class="ttdeci">int_id&lt; field_type &gt; field_type_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00060">type_id.h:60</a></div></div>
<div class="ttc" id="atype__id_8h_html_a6bc1468ac54b6176b517879f5f77564e"><div class="ttname"><a href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a></div><div class="ttdeci">int_id&lt; furn_t &gt; furn_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00064">type_id.h:64</a></div></div>
<div class="ttc" id="atype__id_8h_html_a7de4e933ae593eb3de0a138f3cd84657"><div class="ttname"><a href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a></div><div class="ttdeci">int_id&lt; construction &gt; construction_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00208">type_id.h:208</a></div></div>
<div class="ttc" id="atype__id_8h_html_abb14ce5588f6fe430a78b1cc63218b86"><div class="ttname"><a href="type__id_8h.html#abb14ce5588f6fe430a78b1cc63218b86">construction_str_id</a></div><div class="ttdeci">string_id&lt; construction &gt; construction_str_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00209">type_id.h:209</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l10034">item::age()</a>, <a class="el" href="construction__partial_8h_source.html#l00012">partial_con::components</a>, <a class="el" href="item_8cpp_source.html#l06035">item::count()</a>, <a class="el" href="construction__partial_8h_source.html#l00011">partial_con::counter</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="json_8cpp_source.html#l01457">JsonIn::end_array()</a>, <a class="el" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a>, <a class="el" href="calendar_8h_source.html#l00204">time_duration::from_turns()</a>, <a class="el" href="json_8cpp_source.html#l01399">JsonIn::get_bool()</a>, <a class="el" href="field__type_8cpp_source.html#l00446">field_types::get_field_type_by_legacy_enum()</a>, <a class="el" href="json_8cpp_source.html#l01255">JsonIn::get_int()</a>, <a class="el" href="json_8cpp_source.html#l01164">JsonIn::get_string()</a>, <a class="el" href="construction__partial_8h_source.html#l00013">partial_con::id</a>, <a class="el" href="field__type_8h_source.html#l00143">field_type::id</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00054">string_id&lt; T &gt;::id()</a>, <a class="el" href="item_8cpp_source.html#l06973">item::is_emissive()</a>, <a class="el" href="item_8cpp_source.html#l10044">item::legacy_fast_forward_time()</a>, <a class="el" href="savegame__json_8cpp_source.html#l02162">to_cbc_migration::migrate()</a>, <a class="el" href="item_8h_source.html#l02209">item::mission_id</a>, <a class="el" href="avatar__action_8cpp_source.html#l00096">avatar_action::move()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">mtype_id</a>, <a class="el" href="overmap_8cpp_source.html#l04129">om_direction::name()</a>, <a class="el" href="item_8cpp_source.html#l08951">item::needs_processing()</a>, <a class="el" href="json_8cpp_source.html#l01553">JsonIn::read()</a>, <a class="el" href="savegame_8cpp_source.html#l00064">savegame_loading_version</a>, <a class="el" href="game__constants_8h_source.html#l00035">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00036">SEEY</a>, <a class="el" href="json_8cpp_source.html#l00918">JsonIn::skip_value()</a>, <a class="el" href="json_8cpp_source.html#l01441">JsonIn::start_array()</a>, <a class="el" href="json_8cpp_source.html#l01539">JsonIn::test_array()</a>, <a class="el" href="json_8h_source.html#l00258">JsonIn::test_int()</a>, <a class="el" href="json_8cpp_source.html#l01527">JsonIn::test_string()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4afa733ad49aa7cb511c8acdc6604fcfed">trap_str_id</a>, <a class="el" href="calendar_8cpp_source.html#l00026">calendar::turn_zero</a>, <a class="el" href="item_8h_source.html#l02160">item::type</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

</div>
</div>
<a id="aae79af5715756ede5217205830904b11" name="aae79af5715756ede5217205830904b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae79af5715756ede5217205830904b11">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsubmap.html">submap</a> &amp; submap::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsubmap.html">submap</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a61b5eef233a79633cc3493d5452b66fd" name="a61b5eef233a79633cc3493d5452b66fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61b5eef233a79633cc3493d5452b66fd">&#9670;&nbsp;</a></span>rotate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::rotate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>turns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00265">265</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>{</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    turns = turns % 4;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span> </div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <span class="keywordflow">if</span>( turns == 0 ) {</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    }</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> </div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_function" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a> = [turns]( <a class="code hl_struct" href="structpoint.html">point</a>  p ) {</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        <span class="keywordflow">return</span> p.rotate( turns, { <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>, <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> } );</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    };</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span> </div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <span class="keywordflow">if</span>( turns == 2 ) {</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>        <span class="comment">// Swap horizontal stripes.</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0, je = <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> / 2; j &lt; je; ++j ) {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = j, ie = <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> - j; i &lt; ie; ++i ) {</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>                <a class="code hl_function" href="structmaptile__soa.html#a4b544f27517996f2abbbe9ebffc18f36">swap_soa_tile</a>( { i, j }, <a class="code hl_function" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( { i, j } ) );</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>            }</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        }</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>        <span class="comment">// Swap vertical stripes so that they don&#39;t overlap with</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        <span class="comment">// the already swapped horizontals.</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0, ie = <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> / 2; i &lt; ie; ++i ) {</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = i + 1, je = <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> - i - 1; j &lt; je; ++j ) {</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>                <a class="code hl_function" href="structmaptile__soa.html#a4b544f27517996f2abbbe9ebffc18f36">swap_soa_tile</a>( { i, j }, <a class="code hl_function" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( { i, j } ) );</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>            }</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        }</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        <a class="code hl_struct" href="structmaptile__soa.html">maptile_soa&lt;1, 1&gt;</a> tmp;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0, je = <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> / 2; j &lt; je; ++j ) {</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = j, ie = <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> - j - 1; i &lt; ie; ++i ) {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>                <span class="keyword">auto</span> p = <a class="code hl_struct" href="structpoint.html">point</a>{ i, j };</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>                <a class="code hl_function" href="structmaptile__soa.html#a4b544f27517996f2abbbe9ebffc18f36">swap_soa_tile</a>( p, tmp );</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span> </div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> k = 0; k &lt; 4; ++k ) {</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                    p = <a class="code hl_function" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( p );</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                    <a class="code hl_function" href="structmaptile__soa.html#a4b544f27517996f2abbbe9ebffc18f36">swap_soa_tile</a>( p, tmp );</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                }</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>            }</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>        }</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>    }</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span> </div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    <a class="code hl_variable" href="classsubmap.html#ab14312fd2b32daf90ba20524a8272e70">active_items</a>.<a class="code hl_function" href="classactive__item__cache.html#a83b2191d052a1e824a517f222db3389d">rotate_locations</a>( turns, { <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>, <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> } );</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span> </div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a> ) {</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>        elem.pos = <a class="code hl_function" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( elem.pos );</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    }</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classsubmap.html#a955a62ae7625cb18d39267c80b48f703">spawns</a> ) {</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        elem.pos = <a class="code hl_function" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( elem.pos );</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    }</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span> </div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_namespace" href="namespacevehicles.html">vehicles</a> ) {</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        <span class="keyword">const</span> <span class="keyword">auto</span> new_pos = <a class="code hl_function" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( elem-&gt;pos );</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span> </div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>        elem-&gt;pos = new_pos;</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>        elem-&gt;set_facing( elem-&gt;turn_dir + turns * 90_degrees );</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    }</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span> </div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    std::map&lt;point, computer&gt; rot_comp;</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a> ) {</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        rot_comp.emplace( <a class="code hl_function" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( elem.first ), elem.second );</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    }</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a> = rot_comp;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span> </div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    std::map&lt;point_sm_ms, cata::poly_serialized&lt;active_tile_data&gt;&gt; rot_active_furn;</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classsubmap.html#a13a7762a23694210abea9955505fcb87">active_furniture</a> ) {</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        rot_active_furn.emplace( <a class="code hl_typedef" href="coordinates_8h.html#a0ac9d32a9fb320505f70e5f6834d82f4">point_sm_ms</a>( <a class="code hl_function" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( elem.first.raw() ) ), elem.second );</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    }</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <a class="code hl_variable" href="classsubmap.html#a13a7762a23694210abea9955505fcb87">active_furniture</a> = rot_active_furn;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>}</div>
<div class="ttc" id="aclassactive__item__cache_html_a83b2191d052a1e824a517f222db3389d"><div class="ttname"><a href="classactive__item__cache.html#a83b2191d052a1e824a517f222db3389d">active_item_cache::rotate_locations</a></div><div class="ttdeci">void rotate_locations(int turns, point dim)</div><div class="ttdef"><b>Definition:</b> <a href="active__item__cache_8cpp_source.html#l00119">active_item_cache.cpp:119</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a0ac9d32a9fb320505f70e5f6834d82f4"><div class="ttname"><a href="coordinates_8h.html#a0ac9d32a9fb320505f70e5f6834d82f4">point_sm_ms</a></div><div class="ttdeci">coords::coord_point&lt; point, coords::origin::submap, coords::ms &gt; point_sm_ms</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00473">coordinates.h:473</a></div></div>
<div class="ttc" id="amapgen__functions_8cpp_html_a60321e5661fe285e032f87708c5430f6"><div class="ttname"><a href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a></div><div class="ttdeci">tripoint rotate_point(const tripoint &amp;p, int rotations)</div><div class="ttdoc">Calculates the coordinates of a rotated point.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen__functions_8cpp_source.html#l00054">mapgen_functions.cpp:54</a></div></div>
<div class="ttc" id="astructmaptile__soa_html"><div class="ttname"><a href="structmaptile__soa.html">maptile_soa</a></div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00051">submap.h:51</a></div></div>
<div class="ttc" id="astructmaptile__soa_html_a4b544f27517996f2abbbe9ebffc18f36"><div class="ttname"><a href="structmaptile__soa.html#a4b544f27517996f2abbbe9ebffc18f36">maptile_soa&lt; SEEX, SEEY &gt;::swap_soa_tile</a></div><div class="ttdeci">void swap_soa_tile(point p1, point p2)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00060">submap.cpp:17</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00221">active_furniture</a>, <a class="el" href="submap_8h_source.html#l00208">active_items</a>, <a class="el" href="submap_8h_source.html#l00224">computers</a>, <a class="el" href="submap_8h_source.html#l00206">cosmetics</a>, <a class="el" href="point_8cpp_source.html#l00010">point::rotate()</a>, <a class="el" href="active__item__cache_8cpp_source.html#l00119">active_item_cache::rotate_locations()</a>, <a class="el" href="mapgen__functions_8cpp_source.html#l00054">rotate_point()</a>, <a class="el" href="game__constants_8h_source.html#l00035">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00036">SEEY</a>, <a class="el" href="submap_8h_source.html#l00212">spawns</a>, and <a class="el" href="submap_8cpp_source.html#l00017">maptile_soa&lt; SEEX, SEEY &gt;::swap_soa_tile()</a>.</p>

</div>
</div>
<a id="a978f73a9bc50ebcce14957b3d6bba847" name="a978f73a9bc50ebcce14957b3d6bba847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a978f73a9bc50ebcce14957b3d6bba847">&#9670;&nbsp;</a></span>set_all_furn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_all_furn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a> &amp;&#160;</td>
          <td class="paramname"><em>furn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00095">95</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>                                                 {</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>            std::uninitialized_fill_n( &amp;<a class="code hl_variable" href="structmaptile__soa.html#ae1af4924187739d419937a1a9e33f00a">frn</a>[0][0], <a class="code hl_variable" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, furn );</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00230">elements</a>, and <a class="el" href="submap_8h_source.html#l00053">maptile_soa&lt; SEEX, SEEY &gt;::frn</a>.</p>

</div>
</div>
<a id="a15f553eae014572624d6f1f8677b96f2" name="a15f553eae014572624d6f1f8677b96f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15f553eae014572624d6f1f8677b96f2">&#9670;&nbsp;</a></span>set_all_ter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_all_ter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a> &amp;&#160;</td>
          <td class="paramname"><em>terr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00108">108</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>                                               {</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>            std::uninitialized_fill_n( &amp;<a class="code hl_variable" href="structmaptile__soa.html#a348487d194a4e2720845fb8d330143d6">ter</a>[0][0], <a class="code hl_variable" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, terr );</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00230">elements</a>, and <a class="el" href="submap_8h_source.html#l00052">maptile_soa&lt; SEEX, SEEY &gt;::ter</a>.</p>

</div>
</div>
<a id="abf150f62b5ab49d2f322da304f0b5a6f" name="abf150f62b5ab49d2f322da304f0b5a6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf150f62b5ab49d2f322da304f0b5a6f">&#9670;&nbsp;</a></span>set_all_traps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_all_traps </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a> &amp;&#160;</td>
          <td class="paramname"><em>trap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00082">82</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>                                                  {</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>            std::uninitialized_fill_n( &amp;<a class="code hl_variable" href="structmaptile__soa.html#ac539bcd2d3969f22406138396f7421ce">trp</a>[0][0], <a class="code hl_variable" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, <a class="code hl_struct" href="structtrap.html">trap</a> );</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>        }</div>
<div class="ttc" id="astructtrap_html"><div class="ttname"><a href="structtrap.html">trap</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00086">trap.h:86</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00230">elements</a>, and <a class="el" href="submap_8h_source.html#l00057">maptile_soa&lt; SEEX, SEEY &gt;::trp</a>.</p>

</div>
</div>
<a id="a1a8b724c18670637ef28008cb00190b0" name="a1a8b724c18670637ef28008cb00190b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a8b724c18670637ef28008cb00190b0">&#9670;&nbsp;</a></span>set_computer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_computer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcomputer.html">computer</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00238">238</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>{</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    <a class="code hl_function" href="classsubmap.html#ae7d21c25718ad7093e5aed3aec78d891">update_legacy_computer</a>();</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.find( p );</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    <span class="keywordflow">if</span>( it != <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.end() ) {</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        it-&gt;second = <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>        <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.emplace( p, <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> );</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    }</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>}</div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01032">magic.cpp:1032</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01032">c</a>, <a class="el" href="submap_8h_source.html#l00224">computers</a>, and <a class="el" href="submap_8cpp_source.html#l00193">update_legacy_computer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l05612">map::add_computer()</a>.</p>

</div>
</div>
<a id="aad959a4e327aa788333d8167b82c9aab" name="aad959a4e327aa788333d8167b82c9aab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad959a4e327aa788333d8167b82c9aab">&#9670;&nbsp;</a></span>set_furn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_furn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a>&#160;</td>
          <td class="paramname"><em>furn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00090">90</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>                                               {</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>            <a class="code hl_variable" href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">is_uniform</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>            <a class="code hl_variable" href="structmaptile__soa.html#ae1af4924187739d419937a1a9e33f00a">frn</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] = furn;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00053">maptile_soa&lt; SEEX, SEEY &gt;::frn</a>, <a class="el" href="submap_8h_source.html#l00204">is_uniform</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l01424">map::furn_set()</a>.</p>

</div>
</div>
<a id="af818eabc6b15bc85809ac1a14b738421" name="af818eabc6b15bc85809ac1a14b738421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af818eabc6b15bc85809ac1a14b738421">&#9670;&nbsp;</a></span>set_graffiti()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_graffiti </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>new_graffiti</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00132">132</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>{</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <a class="code hl_variable" href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">is_uniform</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="comment">// Find signage at p if available</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="keyword">const</span> <span class="keyword">auto</span> fresult = <a class="code hl_function" href="submap_8cpp.html#a6cf782320c7df763f41a0443010a7afa">find_cosmetic</a>( <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code hl_function" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI</a> );</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="keywordflow">if</span>( fresult.result ) {</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>        <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>[ fresult.ndx ].str = new_graffiti;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <a class="code hl_function" href="classsubmap.html#aa497bd2f18de990f7c32cd9b2bd1e78e">insert_cosmetic</a>( p, <a class="code hl_function" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI</a>, new_graffiti );</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    }</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00206">cosmetics</a>, <a class="el" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI()</a>, <a class="el" href="submap_8cpp_source.html#l00107">find_cosmetic()</a>, <a class="el" href="submap_8cpp_source.html#l00080">insert_cosmetic()</a>, and <a class="el" href="submap_8h_source.html#l00204">is_uniform</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l07941">map::set_graffiti()</a>.</p>

</div>
</div>
<a id="a18d390addf2dc9fe4c9f320190301a61" name="a18d390addf2dc9fe4c9f320190301a61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18d390addf2dc9fe4c9f320190301a61">&#9670;&nbsp;</a></span>set_lum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_lum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>luminance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00125">125</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>                                                   {</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>            <a class="code hl_variable" href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">is_uniform</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>            <a class="code hl_variable" href="structmaptile__soa.html#ad9ea5c6497700229c30956d4d1e4818c">lum</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] = luminance;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00204">is_uniform</a>, <a class="el" href="submap_8h_source.html#l00054">maptile_soa&lt; SEEX, SEEY &gt;::lum</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04247">map::i_clear()</a>.</p>

</div>
</div>
<a id="a7f95bb1aea53b10ca88e5c37eafd0df8" name="a7f95bb1aea53b10ca88e5c37eafd0df8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f95bb1aea53b10ca88e5c37eafd0df8">&#9670;&nbsp;</a></span>set_radiation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_radiation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>radiation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00116">116</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>                                                           {</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>            <a class="code hl_variable" href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">is_uniform</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>            <a class="code hl_variable" href="structmaptile__soa.html#a69034b688361c90fa77b04e9707f9597">rad</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] = radiation;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00204">is_uniform</a>, <a class="el" href="submap_8h_source.html#l00058">maptile_soa&lt; SEEX, SEEY &gt;::rad</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04177">map::adjust_radiation()</a>, and <a class="el" href="map_8cpp_source.html#l04165">map::set_radiation()</a>.</p>

</div>
</div>
<a id="a989f1f395586c626ddb0126661a3b260" name="a989f1f395586c626ddb0126661a3b260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a989f1f395586c626ddb0126661a3b260">&#9670;&nbsp;</a></span>set_signage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_signage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00172">172</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>{</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <a class="code hl_variable" href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">is_uniform</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="comment">// Find signage at p if available</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="keyword">const</span> <span class="keyword">auto</span> fresult = <a class="code hl_function" href="submap_8cpp.html#a6cf782320c7df763f41a0443010a7afa">find_cosmetic</a>( <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code hl_function" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE</a> );</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="keywordflow">if</span>( fresult.result ) {</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>[ fresult.ndx ].str = s;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        <a class="code hl_function" href="classsubmap.html#aa497bd2f18de990f7c32cd9b2bd1e78e">insert_cosmetic</a>( p, <a class="code hl_function" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE</a>, s );</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    }</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00206">cosmetics</a>, <a class="el" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE()</a>, <a class="el" href="submap_8cpp_source.html#l00107">find_cosmetic()</a>, <a class="el" href="submap_8cpp_source.html#l00080">insert_cosmetic()</a>, and <a class="el" href="submap_8h_source.html#l00204">is_uniform</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04130">map::set_signage()</a>.</p>

</div>
</div>
<a id="a832045300c5e4be5d0277986bdfaecae" name="a832045300c5e4be5d0277986bdfaecae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a832045300c5e4be5d0277986bdfaecae">&#9670;&nbsp;</a></span>set_temperature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_temperature </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>new_temperature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00169">169</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>                                                    {</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>            <a class="code hl_variable" href="classsubmap.html#aaee3b1898d0e50f0d958754c8715b454">temperature</a> = new_temperature;</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00226">temperature</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04199">map::set_temperature()</a>.</p>

</div>
</div>
<a id="ae02eb4f115da9eb2e799de9745ac71bb" name="ae02eb4f115da9eb2e799de9745ac71bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae02eb4f115da9eb2e799de9745ac71bb">&#9670;&nbsp;</a></span>set_ter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_ter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a>&#160;</td>
          <td class="paramname"><em>terr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00103">103</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>                                             {</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>            <a class="code hl_variable" href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">is_uniform</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>            <a class="code hl_variable" href="structmaptile__soa.html#a348487d194a4e2720845fb8d330143d6">ter</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] = terr;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00204">is_uniform</a>, <a class="el" href="submap_8h_source.html#l00052">maptile_soa&lt; SEEX, SEEY &gt;::ter</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l07594">map::add_roofs()</a>, and <a class="el" href="map_8cpp_source.html#l01703">map::ter_set()</a>.</p>

</div>
</div>
<a id="ab65a7e5d36b7c8cb4de7e1b96820f78b" name="ab65a7e5d36b7c8cb4de7e1b96820f78b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab65a7e5d36b7c8cb4de7e1b96820f78b">&#9670;&nbsp;</a></span>set_trap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_trap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a>&#160;</td>
          <td class="paramname"><em>trap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00077">77</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>                                               {</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>            <a class="code hl_variable" href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">is_uniform</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>            <a class="code hl_variable" href="structmaptile__soa.html#ac539bcd2d3969f22406138396f7421ce">trp</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] = <a class="code hl_enumvalue" href="relic_8h.html#a37cd9dd49ee6b62891ec331828640ddcaca97f68cf88e0d3b9c652c05c7619575">trap</a>;</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>        }</div>
<div class="ttc" id="arelic_8h_html_a37cd9dd49ee6b62891ec331828640ddcaca97f68cf88e0d3b9c652c05c7619575"><div class="ttname"><a href="relic_8h.html#a37cd9dd49ee6b62891ec331828640ddcaca97f68cf88e0d3b9c652c05c7619575">relic_recharge_type::trap</a></div><div class="ttdeci">@ trap</div><div class="ttdoc">Consumes trap to recharge.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00204">is_uniform</a>, <a class="el" href="relic_8h.html#a37cd9dd49ee6b62891ec331828640ddcaca97f68cf88e0d3b9c652c05c7619575">trap</a>, <a class="el" href="submap_8h_source.html#l00057">maptile_soa&lt; SEEX, SEEY &gt;::trp</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05393">map::remove_trap()</a>, and <a class="el" href="map_8cpp_source.html#l05309">map::trap_set()</a>.</p>

</div>
</div>
<a id="a67d212dab698fe61a61c10061e8adf2e" name="a67d212dab698fe61a61c10061e8adf2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d212dab698fe61a61c10061e8adf2e">&#9670;&nbsp;</a></span>store()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::store </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>jsout</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l03745">3745</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03746" name="l03746"></a><span class="lineno"> 3746</span>{</div>
<div class="line"><a id="l03747" name="l03747"></a><span class="lineno"> 3747</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;turn_last_touched&quot;</span>, <a class="code hl_variable" href="classsubmap.html#a46123556cf8ed220cc78cfe639f76aea">last_touched</a> );</div>
<div class="line"><a id="l03748" name="l03748"></a><span class="lineno"> 3748</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;temperature&quot;</span>, <a class="code hl_variable" href="classsubmap.html#aaee3b1898d0e50f0d958754c8715b454">temperature</a> );</div>
<div class="line"><a id="l03749" name="l03749"></a><span class="lineno"> 3749</span> </div>
<div class="line"><a id="l03750" name="l03750"></a><span class="lineno"> 3750</span>    <span class="comment">// Terrain is saved using a simple RLE scheme.  Legacy saves don&#39;t have</span></div>
<div class="line"><a id="l03751" name="l03751"></a><span class="lineno"> 3751</span>    <span class="comment">// this feature but the algorithm is backward compatible.</span></div>
<div class="line"><a id="l03752" name="l03752"></a><span class="lineno"> 3752</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;terrain&quot;</span> );</div>
<div class="line"><a id="l03753" name="l03753"></a><span class="lineno"> 3753</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03754" name="l03754"></a><span class="lineno"> 3754</span>    std::string last_id;</div>
<div class="line"><a id="l03755" name="l03755"></a><span class="lineno"> 3755</span>    <span class="keywordtype">int</span> num_same = 1;</div>
<div class="line"><a id="l03756" name="l03756"></a><span class="lineno"> 3756</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a id="l03757" name="l03757"></a><span class="lineno"> 3757</span>        <span class="comment">// NOLINTNEXTLINE(modernize-loop-convert)</span></div>
<div class="line"><a id="l03758" name="l03758"></a><span class="lineno"> 3758</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a id="l03759" name="l03759"></a><span class="lineno"> 3759</span>            <span class="keyword">const</span> std::string this_id = <a class="code hl_variable" href="structmaptile__soa.html#a348487d194a4e2720845fb8d330143d6">ter</a>[i][j].<a class="code hl_function" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_variable" href="structter__t.html#a876ecdb9de153e3d864ee221ed63bd45">id</a>.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>();</div>
<div class="line"><a id="l03760" name="l03760"></a><span class="lineno"> 3760</span>            <span class="keywordflow">if</span>( !last_id.empty() ) {</div>
<div class="line"><a id="l03761" name="l03761"></a><span class="lineno"> 3761</span>                <span class="keywordflow">if</span>( this_id == last_id ) {</div>
<div class="line"><a id="l03762" name="l03762"></a><span class="lineno"> 3762</span>                    num_same++;</div>
<div class="line"><a id="l03763" name="l03763"></a><span class="lineno"> 3763</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03764" name="l03764"></a><span class="lineno"> 3764</span>                    <span class="keywordflow">if</span>( num_same == 1 ) {</div>
<div class="line"><a id="l03765" name="l03765"></a><span class="lineno"> 3765</span>                        <span class="comment">// if there&#39;s only one element don&#39;t write as an array</span></div>
<div class="line"><a id="l03766" name="l03766"></a><span class="lineno"> 3766</span>                        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( last_id );</div>
<div class="line"><a id="l03767" name="l03767"></a><span class="lineno"> 3767</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03768" name="l03768"></a><span class="lineno"> 3768</span>                        jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03769" name="l03769"></a><span class="lineno"> 3769</span>                        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( last_id );</div>
<div class="line"><a id="l03770" name="l03770"></a><span class="lineno"> 3770</span>                        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( num_same );</div>
<div class="line"><a id="l03771" name="l03771"></a><span class="lineno"> 3771</span>                        jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03772" name="l03772"></a><span class="lineno"> 3772</span>                        num_same = 1;</div>
<div class="line"><a id="l03773" name="l03773"></a><span class="lineno"> 3773</span>                    }</div>
<div class="line"><a id="l03774" name="l03774"></a><span class="lineno"> 3774</span>                    last_id = this_id;</div>
<div class="line"><a id="l03775" name="l03775"></a><span class="lineno"> 3775</span>                }</div>
<div class="line"><a id="l03776" name="l03776"></a><span class="lineno"> 3776</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03777" name="l03777"></a><span class="lineno"> 3777</span>                last_id = this_id;</div>
<div class="line"><a id="l03778" name="l03778"></a><span class="lineno"> 3778</span>            }</div>
<div class="line"><a id="l03779" name="l03779"></a><span class="lineno"> 3779</span>        }</div>
<div class="line"><a id="l03780" name="l03780"></a><span class="lineno"> 3780</span>    }</div>
<div class="line"><a id="l03781" name="l03781"></a><span class="lineno"> 3781</span>    <span class="comment">// Because of the RLE scheme we have to do one last pass</span></div>
<div class="line"><a id="l03782" name="l03782"></a><span class="lineno"> 3782</span>    <span class="keywordflow">if</span>( num_same == 1 ) {</div>
<div class="line"><a id="l03783" name="l03783"></a><span class="lineno"> 3783</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( last_id );</div>
<div class="line"><a id="l03784" name="l03784"></a><span class="lineno"> 3784</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03785" name="l03785"></a><span class="lineno"> 3785</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03786" name="l03786"></a><span class="lineno"> 3786</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( last_id );</div>
<div class="line"><a id="l03787" name="l03787"></a><span class="lineno"> 3787</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( num_same );</div>
<div class="line"><a id="l03788" name="l03788"></a><span class="lineno"> 3788</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03789" name="l03789"></a><span class="lineno"> 3789</span>    }</div>
<div class="line"><a id="l03790" name="l03790"></a><span class="lineno"> 3790</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03791" name="l03791"></a><span class="lineno"> 3791</span> </div>
<div class="line"><a id="l03792" name="l03792"></a><span class="lineno"> 3792</span>    <span class="comment">// Write out the radiation array in a simple RLE scheme.</span></div>
<div class="line"><a id="l03793" name="l03793"></a><span class="lineno"> 3793</span>    <span class="comment">// written in intensity, count pairs</span></div>
<div class="line"><a id="l03794" name="l03794"></a><span class="lineno"> 3794</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;radiation&quot;</span> );</div>
<div class="line"><a id="l03795" name="l03795"></a><span class="lineno"> 3795</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03796" name="l03796"></a><span class="lineno"> 3796</span>    <span class="keywordtype">int</span> lastrad = -1;</div>
<div class="line"><a id="l03797" name="l03797"></a><span class="lineno"> 3797</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> = 0;</div>
<div class="line"><a id="l03798" name="l03798"></a><span class="lineno"> 3798</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a id="l03799" name="l03799"></a><span class="lineno"> 3799</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a id="l03800" name="l03800"></a><span class="lineno"> 3800</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a id="l03801" name="l03801"></a><span class="lineno"> 3801</span>            <span class="comment">// Save radiation, re-examine this because it doesn&#39;t look like it works right</span></div>
<div class="line"><a id="l03802" name="l03802"></a><span class="lineno"> 3802</span>            <span class="keywordtype">int</span> r = <a class="code hl_function" href="classsubmap.html#add4de7b02b811a026656c7a8f13c8367">get_radiation</a>( p );</div>
<div class="line"><a id="l03803" name="l03803"></a><span class="lineno"> 3803</span>            <span class="keywordflow">if</span>( r == lastrad ) {</div>
<div class="line"><a id="l03804" name="l03804"></a><span class="lineno"> 3804</span>                <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a>++;</div>
<div class="line"><a id="l03805" name="l03805"></a><span class="lineno"> 3805</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03806" name="l03806"></a><span class="lineno"> 3806</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> ) {</div>
<div class="line"><a id="l03807" name="l03807"></a><span class="lineno"> 3807</span>                    jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> );</div>
<div class="line"><a id="l03808" name="l03808"></a><span class="lineno"> 3808</span>                }</div>
<div class="line"><a id="l03809" name="l03809"></a><span class="lineno"> 3809</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( r );</div>
<div class="line"><a id="l03810" name="l03810"></a><span class="lineno"> 3810</span>                lastrad = r;</div>
<div class="line"><a id="l03811" name="l03811"></a><span class="lineno"> 3811</span>                <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> = 1;</div>
<div class="line"><a id="l03812" name="l03812"></a><span class="lineno"> 3812</span>            }</div>
<div class="line"><a id="l03813" name="l03813"></a><span class="lineno"> 3813</span>        }</div>
<div class="line"><a id="l03814" name="l03814"></a><span class="lineno"> 3814</span>    }</div>
<div class="line"><a id="l03815" name="l03815"></a><span class="lineno"> 3815</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> );</div>
<div class="line"><a id="l03816" name="l03816"></a><span class="lineno"> 3816</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03817" name="l03817"></a><span class="lineno"> 3817</span> </div>
<div class="line"><a id="l03818" name="l03818"></a><span class="lineno"> 3818</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;furniture&quot;</span> );</div>
<div class="line"><a id="l03819" name="l03819"></a><span class="lineno"> 3819</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03820" name="l03820"></a><span class="lineno"> 3820</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a id="l03821" name="l03821"></a><span class="lineno"> 3821</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a id="l03822" name="l03822"></a><span class="lineno"> 3822</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a id="l03823" name="l03823"></a><span class="lineno"> 3823</span>            <span class="comment">// Save furniture</span></div>
<div class="line"><a id="l03824" name="l03824"></a><span class="lineno"> 3824</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classsubmap.html#af3e60e812430937e52afa570d73f16df">get_furn</a>( p ) ) {</div>
<div class="line"><a id="l03825" name="l03825"></a><span class="lineno"> 3825</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03826" name="l03826"></a><span class="lineno"> 3826</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( p.x );</div>
<div class="line"><a id="l03827" name="l03827"></a><span class="lineno"> 3827</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( p.y );</div>
<div class="line"><a id="l03828" name="l03828"></a><span class="lineno"> 3828</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( <a class="code hl_function" href="classsubmap.html#af3e60e812430937e52afa570d73f16df">get_furn</a>( p ).obj().<span class="keywordtype">id</span> );</div>
<div class="line"><a id="l03829" name="l03829"></a><span class="lineno"> 3829</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03830" name="l03830"></a><span class="lineno"> 3830</span>            }</div>
<div class="line"><a id="l03831" name="l03831"></a><span class="lineno"> 3831</span>        }</div>
<div class="line"><a id="l03832" name="l03832"></a><span class="lineno"> 3832</span>    }</div>
<div class="line"><a id="l03833" name="l03833"></a><span class="lineno"> 3833</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03834" name="l03834"></a><span class="lineno"> 3834</span> </div>
<div class="line"><a id="l03835" name="l03835"></a><span class="lineno"> 3835</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;items&quot;</span> );</div>
<div class="line"><a id="l03836" name="l03836"></a><span class="lineno"> 3836</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03837" name="l03837"></a><span class="lineno"> 3837</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a id="l03838" name="l03838"></a><span class="lineno"> 3838</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a id="l03839" name="l03839"></a><span class="lineno"> 3839</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="structmaptile__soa.html#a9ba85c89aefe1632a1951ecbc71c25b3">itm</a>[i][j].empty() ) {</div>
<div class="line"><a id="l03840" name="l03840"></a><span class="lineno"> 3840</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03841" name="l03841"></a><span class="lineno"> 3841</span>            }</div>
<div class="line"><a id="l03842" name="l03842"></a><span class="lineno"> 3842</span>            jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( i );</div>
<div class="line"><a id="l03843" name="l03843"></a><span class="lineno"> 3843</span>            jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( j );</div>
<div class="line"><a id="l03844" name="l03844"></a><span class="lineno"> 3844</span>            jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( <a class="code hl_variable" href="structmaptile__soa.html#a9ba85c89aefe1632a1951ecbc71c25b3">itm</a>[i][j] );</div>
<div class="line"><a id="l03845" name="l03845"></a><span class="lineno"> 3845</span>        }</div>
<div class="line"><a id="l03846" name="l03846"></a><span class="lineno"> 3846</span>    }</div>
<div class="line"><a id="l03847" name="l03847"></a><span class="lineno"> 3847</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03848" name="l03848"></a><span class="lineno"> 3848</span> </div>
<div class="line"><a id="l03849" name="l03849"></a><span class="lineno"> 3849</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;traps&quot;</span> );</div>
<div class="line"><a id="l03850" name="l03850"></a><span class="lineno"> 3850</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03851" name="l03851"></a><span class="lineno"> 3851</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a id="l03852" name="l03852"></a><span class="lineno"> 3852</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a id="l03853" name="l03853"></a><span class="lineno"> 3853</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a id="l03854" name="l03854"></a><span class="lineno"> 3854</span>            <span class="comment">// Save traps</span></div>
<div class="line"><a id="l03855" name="l03855"></a><span class="lineno"> 3855</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classsubmap.html#a8faa8cf5b48aaa05effb94603c4dc463">get_trap</a>( p ) ) {</div>
<div class="line"><a id="l03856" name="l03856"></a><span class="lineno"> 3856</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03857" name="l03857"></a><span class="lineno"> 3857</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( p.x );</div>
<div class="line"><a id="l03858" name="l03858"></a><span class="lineno"> 3858</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( p.y );</div>
<div class="line"><a id="l03859" name="l03859"></a><span class="lineno"> 3859</span>                <span class="comment">// TODO: jsout should support writing an id like jsout.write( trap_id )</span></div>
<div class="line"><a id="l03860" name="l03860"></a><span class="lineno"> 3860</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( <a class="code hl_function" href="classsubmap.html#a8faa8cf5b48aaa05effb94603c4dc463">get_trap</a>( p ).<span class="keywordtype">id</span>().str() );</div>
<div class="line"><a id="l03861" name="l03861"></a><span class="lineno"> 3861</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03862" name="l03862"></a><span class="lineno"> 3862</span>            }</div>
<div class="line"><a id="l03863" name="l03863"></a><span class="lineno"> 3863</span>        }</div>
<div class="line"><a id="l03864" name="l03864"></a><span class="lineno"> 3864</span>    }</div>
<div class="line"><a id="l03865" name="l03865"></a><span class="lineno"> 3865</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03866" name="l03866"></a><span class="lineno"> 3866</span> </div>
<div class="line"><a id="l03867" name="l03867"></a><span class="lineno"> 3867</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;fields&quot;</span> );</div>
<div class="line"><a id="l03868" name="l03868"></a><span class="lineno"> 3868</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03869" name="l03869"></a><span class="lineno"> 3869</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a id="l03870" name="l03870"></a><span class="lineno"> 3870</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a id="l03871" name="l03871"></a><span class="lineno"> 3871</span>            <span class="comment">// Save fields</span></div>
<div class="line"><a id="l03872" name="l03872"></a><span class="lineno"> 3872</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="structmaptile__soa.html#ad49da78bfefd8945c194955ef1922a94">fld</a>[i][j].<a class="code hl_variable" href="classsubmap.html#aa86d0130ed1d1556482b2f7478633778">field_count</a>() &gt; 0 ) {</div>
<div class="line"><a id="l03873" name="l03873"></a><span class="lineno"> 3873</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( i );</div>
<div class="line"><a id="l03874" name="l03874"></a><span class="lineno"> 3874</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( j );</div>
<div class="line"><a id="l03875" name="l03875"></a><span class="lineno"> 3875</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03876" name="l03876"></a><span class="lineno"> 3876</span>                <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="structmaptile__soa.html#ad49da78bfefd8945c194955ef1922a94">fld</a>[i][j] ) {</div>
<div class="line"><a id="l03877" name="l03877"></a><span class="lineno"> 3877</span>                    <span class="keyword">const</span> <a class="code hl_class" href="classfield__entry.html">field_entry</a> &amp;cur = elem.second;</div>
<div class="line"><a id="l03878" name="l03878"></a><span class="lineno"> 3878</span>                    jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cur.<a class="code hl_function" href="classfield__entry.html#af76e247514edaeed4bdc58638bfa0ae1">get_field_type</a>().<a class="code hl_function" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>() );</div>
<div class="line"><a id="l03879" name="l03879"></a><span class="lineno"> 3879</span>                    jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cur.<a class="code hl_function" href="classfield__entry.html#a5ee5768041fa90ed1518442b9bd7daab">get_field_intensity</a>() );</div>
<div class="line"><a id="l03880" name="l03880"></a><span class="lineno"> 3880</span>                    jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cur.<a class="code hl_function" href="classfield__entry.html#a7eb2efd29a27ad81d198009ad674a61d">get_field_age</a>() );</div>
<div class="line"><a id="l03881" name="l03881"></a><span class="lineno"> 3881</span>                }</div>
<div class="line"><a id="l03882" name="l03882"></a><span class="lineno"> 3882</span>                jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03883" name="l03883"></a><span class="lineno"> 3883</span>            }</div>
<div class="line"><a id="l03884" name="l03884"></a><span class="lineno"> 3884</span>        }</div>
<div class="line"><a id="l03885" name="l03885"></a><span class="lineno"> 3885</span>    }</div>
<div class="line"><a id="l03886" name="l03886"></a><span class="lineno"> 3886</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03887" name="l03887"></a><span class="lineno"> 3887</span> </div>
<div class="line"><a id="l03888" name="l03888"></a><span class="lineno"> 3888</span>    <span class="comment">// Write out as array of arrays of single entries</span></div>
<div class="line"><a id="l03889" name="l03889"></a><span class="lineno"> 3889</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;cosmetics&quot;</span> );</div>
<div class="line"><a id="l03890" name="l03890"></a><span class="lineno"> 3890</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03891" name="l03891"></a><span class="lineno"> 3891</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;cosm : <a class="code hl_variable" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a> ) {</div>
<div class="line"><a id="l03892" name="l03892"></a><span class="lineno"> 3892</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03893" name="l03893"></a><span class="lineno"> 3893</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cosm.pos.x );</div>
<div class="line"><a id="l03894" name="l03894"></a><span class="lineno"> 3894</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cosm.pos.y );</div>
<div class="line"><a id="l03895" name="l03895"></a><span class="lineno"> 3895</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cosm.type );</div>
<div class="line"><a id="l03896" name="l03896"></a><span class="lineno"> 3896</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cosm.str );</div>
<div class="line"><a id="l03897" name="l03897"></a><span class="lineno"> 3897</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03898" name="l03898"></a><span class="lineno"> 3898</span>    }</div>
<div class="line"><a id="l03899" name="l03899"></a><span class="lineno"> 3899</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03900" name="l03900"></a><span class="lineno"> 3900</span> </div>
<div class="line"><a id="l03901" name="l03901"></a><span class="lineno"> 3901</span>    <span class="comment">// Output the spawn points</span></div>
<div class="line"><a id="l03902" name="l03902"></a><span class="lineno"> 3902</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;spawns&quot;</span> );</div>
<div class="line"><a id="l03903" name="l03903"></a><span class="lineno"> 3903</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03904" name="l03904"></a><span class="lineno"> 3904</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classsubmap.html#a955a62ae7625cb18d39267c80b48f703">spawns</a> ) {</div>
<div class="line"><a id="l03905" name="l03905"></a><span class="lineno"> 3905</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03906" name="l03906"></a><span class="lineno"> 3906</span>        <span class="comment">// TODO: json should know how to write string_ids</span></div>
<div class="line"><a id="l03907" name="l03907"></a><span class="lineno"> 3907</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.type.str() );</div>
<div class="line"><a id="l03908" name="l03908"></a><span class="lineno"> 3908</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.count );</div>
<div class="line"><a id="l03909" name="l03909"></a><span class="lineno"> 3909</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.pos.x );</div>
<div class="line"><a id="l03910" name="l03910"></a><span class="lineno"> 3910</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.pos.y );</div>
<div class="line"><a id="l03911" name="l03911"></a><span class="lineno"> 3911</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.faction_id );</div>
<div class="line"><a id="l03912" name="l03912"></a><span class="lineno"> 3912</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.mission_id );</div>
<div class="line"><a id="l03913" name="l03913"></a><span class="lineno"> 3913</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.friendly );</div>
<div class="line"><a id="l03914" name="l03914"></a><span class="lineno"> 3914</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.name );</div>
<div class="line"><a id="l03915" name="l03915"></a><span class="lineno"> 3915</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03916" name="l03916"></a><span class="lineno"> 3916</span>    }</div>
<div class="line"><a id="l03917" name="l03917"></a><span class="lineno"> 3917</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03918" name="l03918"></a><span class="lineno"> 3918</span> </div>
<div class="line"><a id="l03919" name="l03919"></a><span class="lineno"> 3919</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;vehicles&quot;</span> );</div>
<div class="line"><a id="l03920" name="l03920"></a><span class="lineno"> 3920</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03921" name="l03921"></a><span class="lineno"> 3921</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_namespace" href="namespacevehicles.html">vehicles</a> ) {</div>
<div class="line"><a id="l03922" name="l03922"></a><span class="lineno"> 3922</span>        <span class="comment">// json lib doesn&#39;t know how to turn a vehicle * into a vehicle,</span></div>
<div class="line"><a id="l03923" name="l03923"></a><span class="lineno"> 3923</span>        <span class="comment">// so we have to iterate manually.</span></div>
<div class="line"><a id="l03924" name="l03924"></a><span class="lineno"> 3924</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( *elem );</div>
<div class="line"><a id="l03925" name="l03925"></a><span class="lineno"> 3925</span>    }</div>
<div class="line"><a id="l03926" name="l03926"></a><span class="lineno"> 3926</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03927" name="l03927"></a><span class="lineno"> 3927</span> </div>
<div class="line"><a id="l03928" name="l03928"></a><span class="lineno"> 3928</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;partial_constructions&quot;</span> );</div>
<div class="line"><a id="l03929" name="l03929"></a><span class="lineno"> 3929</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03930" name="l03930"></a><span class="lineno"> 3930</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classsubmap.html#a899d7838d59a219577907bfef4157314">partial_constructions</a> ) {</div>
<div class="line"><a id="l03931" name="l03931"></a><span class="lineno"> 3931</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.first.x );</div>
<div class="line"><a id="l03932" name="l03932"></a><span class="lineno"> 3932</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.first.y );</div>
<div class="line"><a id="l03933" name="l03933"></a><span class="lineno"> 3933</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.first.z );</div>
<div class="line"><a id="l03934" name="l03934"></a><span class="lineno"> 3934</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.second.counter );</div>
<div class="line"><a id="l03935" name="l03935"></a><span class="lineno"> 3935</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.second.id.id() );</div>
<div class="line"><a id="l03936" name="l03936"></a><span class="lineno"> 3936</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03937" name="l03937"></a><span class="lineno"> 3937</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;it : elem.second.components ) {</div>
<div class="line"><a id="l03938" name="l03938"></a><span class="lineno"> 3938</span>            jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( it );</div>
<div class="line"><a id="l03939" name="l03939"></a><span class="lineno"> 3939</span>        }</div>
<div class="line"><a id="l03940" name="l03940"></a><span class="lineno"> 3940</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03941" name="l03941"></a><span class="lineno"> 3941</span>    }</div>
<div class="line"><a id="l03942" name="l03942"></a><span class="lineno"> 3942</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03943" name="l03943"></a><span class="lineno"> 3943</span> </div>
<div class="line"><a id="l03944" name="l03944"></a><span class="lineno"> 3944</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classsubmap.html#aeba919dd696c691da98256821a7d5c30">legacy_computer</a> ) {</div>
<div class="line"><a id="l03945" name="l03945"></a><span class="lineno"> 3945</span>        <span class="comment">// it&#39;s possible that no access to computers has been made and legacy_computer</span></div>
<div class="line"><a id="l03946" name="l03946"></a><span class="lineno"> 3946</span>        <span class="comment">// is not cleared</span></div>
<div class="line"><a id="l03947" name="l03947"></a><span class="lineno"> 3947</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;computers&quot;</span>, *<a class="code hl_variable" href="classsubmap.html#aeba919dd696c691da98256821a7d5c30">legacy_computer</a> );</div>
<div class="line"><a id="l03948" name="l03948"></a><span class="lineno"> 3948</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.empty() ) {</div>
<div class="line"><a id="l03949" name="l03949"></a><span class="lineno"> 3949</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;computers&quot;</span> );</div>
<div class="line"><a id="l03950" name="l03950"></a><span class="lineno"> 3950</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03951" name="l03951"></a><span class="lineno"> 3951</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a> ) {</div>
<div class="line"><a id="l03952" name="l03952"></a><span class="lineno"> 3952</span>            jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.first );</div>
<div class="line"><a id="l03953" name="l03953"></a><span class="lineno"> 3953</span>            jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.second );</div>
<div class="line"><a id="l03954" name="l03954"></a><span class="lineno"> 3954</span>        }</div>
<div class="line"><a id="l03955" name="l03955"></a><span class="lineno"> 3955</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03956" name="l03956"></a><span class="lineno"> 3956</span>    }</div>
<div class="line"><a id="l03957" name="l03957"></a><span class="lineno"> 3957</span> </div>
<div class="line"><a id="l03958" name="l03958"></a><span class="lineno"> 3958</span>    <span class="comment">// Output base camp if any</span></div>
<div class="line"><a id="l03959" name="l03959"></a><span class="lineno"> 3959</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classsubmap.html#aab6b800454648ba710233504494b2c34">camp</a> ) {</div>
<div class="line"><a id="l03960" name="l03960"></a><span class="lineno"> 3960</span>        jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;camp&quot;</span>, *<a class="code hl_variable" href="classsubmap.html#aab6b800454648ba710233504494b2c34">camp</a> );</div>
<div class="line"><a id="l03961" name="l03961"></a><span class="lineno"> 3961</span>    }</div>
<div class="line"><a id="l03962" name="l03962"></a><span class="lineno"> 3962</span> </div>
<div class="line"><a id="l03963" name="l03963"></a><span class="lineno"> 3963</span>    jsout.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;active_furniture&quot;</span> );</div>
<div class="line"><a id="l03964" name="l03964"></a><span class="lineno"> 3964</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l03965" name="l03965"></a><span class="lineno"> 3965</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;pr : <a class="code hl_variable" href="classsubmap.html#a13a7762a23694210abea9955505fcb87">active_furniture</a> ) {</div>
<div class="line"><a id="l03966" name="l03966"></a><span class="lineno"> 3966</span>        jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( pr.first );</div>
<div class="line"><a id="l03967" name="l03967"></a><span class="lineno"> 3967</span>        pr.second.serialize( jsout );</div>
<div class="line"><a id="l03968" name="l03968"></a><span class="lineno"> 3968</span>    }</div>
<div class="line"><a id="l03969" name="l03969"></a><span class="lineno"> 3969</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l03970" name="l03970"></a><span class="lineno"> 3970</span>}</div>
<div class="ttc" id="aclassJsonOut_html_a44cdd853d4c6913b37caa9f0131eeff2"><div class="ttname"><a href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">JsonOut::end_array</a></div><div class="ttdeci">void end_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02150">json.cpp:2150</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4550e2036b904c4d4a90e440dd41c684"><div class="ttname"><a href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">JsonOut::start_array</a></div><div class="ttdeci">void start_array(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02139">json.cpp:2139</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4b8c8e50e3be57e737ae971ecf2c3fd5"><div class="ttname"><a href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">JsonOut::write</a></div><div class="ttdeci">void write(T val)</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00615">json.h:615</a></div></div>
<div class="ttc" id="aclassJsonOut_html_adb3c899f0ad7fc4f25cd3357c51a2c42"><div class="ttname"><a href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">JsonOut::member</a></div><div class="ttdeci">void member(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02235">json.cpp:2235</a></div></div>
<div class="ttc" id="aclassfield__entry_html"><div class="ttname"><a href="classfield__entry.html">field_entry</a></div><div class="ttdoc">An active or passive effect existing on a tile.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00019">field.h:20</a></div></div>
<div class="ttc" id="aclassfield__entry_html_a5ee5768041fa90ed1518442b9bd7daab"><div class="ttname"><a href="classfield__entry.html#a5ee5768041fa90ed1518442b9bd7daab">field_entry::get_field_intensity</a></div><div class="ttdeci">int get_field_intensity() const</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00121">field.cpp:121</a></div></div>
<div class="ttc" id="aclassfield__entry_html_a7eb2efd29a27ad81d198009ad674a61d"><div class="ttname"><a href="classfield__entry.html#a7eb2efd29a27ad81d198009ad674a61d">field_entry::get_field_age</a></div><div class="ttdeci">time_duration get_field_age() const</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00133">field.cpp:133</a></div></div>
<div class="ttc" id="aclassfield__entry_html_af76e247514edaeed4bdc58638bfa0ae1"><div class="ttname"><a href="classfield__entry.html#af76e247514edaeed4bdc58638bfa0ae1">field_entry::get_field_type</a></div><div class="ttdeci">field_type_id get_field_type() const</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00105">field.cpp:105</a></div></div>
<div class="ttc" id="aclassint__id_html_a88b1e0c550f4d6f36cac7a73feca7f01"><div class="ttname"><a href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">int_id::id</a></div><div class="ttdeci">const string_id&lt; T &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa7dabc565f0c067e1a237ea224b18f93"><div class="ttname"><a href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00255">string_id.h:255</a></div></div>
<div class="ttc" id="aclasssubmap_html_a8faa8cf5b48aaa05effb94603c4dc463"><div class="ttname"><a href="classsubmap.html#a8faa8cf5b48aaa05effb94603c4dc463">submap::get_trap</a></div><div class="ttdeci">trap_id get_trap(point p) const</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00073">submap.h:73</a></div></div>
<div class="ttc" id="aclasssubmap_html_add4de7b02b811a026656c7a8f13c8367"><div class="ttname"><a href="classsubmap.html#add4de7b02b811a026656c7a8f13c8367">submap::get_radiation</a></div><div class="ttdeci">int get_radiation(point p) const</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00112">submap.h:112</a></div></div>
<div class="ttc" id="aclasssubmap_html_af3e60e812430937e52afa570d73f16df"><div class="ttname"><a href="classsubmap.html#af3e60e812430937e52afa570d73f16df">submap::get_furn</a></div><div class="ttdeci">furn_id get_furn(point p) const</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00086">submap.h:86</a></div></div>
<div class="ttc" id="astructter__t_html_a876ecdb9de153e3d864ee221ed63bd45"><div class="ttname"><a href="structter__t.html#a876ecdb9de153e3d864ee221ed63bd45">ter_t::id</a></div><div class="ttdeci">ter_str_id id</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00465">mapdata.h:465</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06035">item::count()</a>, <a class="el" href="json_8cpp_source.html#l02150">JsonOut::end_array()</a>, <a class="el" href="field_8cpp_source.html#l00133">field_entry::get_field_age()</a>, <a class="el" href="field_8cpp_source.html#l00121">field_entry::get_field_intensity()</a>, <a class="el" href="field_8cpp_source.html#l00105">field_entry::get_field_type()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, <a class="el" href="json_8cpp_source.html#l02235">JsonOut::member()</a>, <a class="el" href="game__constants_8h_source.html#l00035">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00036">SEEY</a>, <a class="el" href="json_8cpp_source.html#l02139">JsonOut::start_array()</a>, <a class="el" href="json_8h_source.html#l00615">JsonOut::write()</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

</div>
</div>
<a id="ae7d21c25718ad7093e5aed3aec78d891" name="ae7d21c25718ad7093e5aed3aec78d891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7d21c25718ad7093e5aed3aec78d891">&#9670;&nbsp;</a></span>update_legacy_computer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::update_legacy_computer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00193">193</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>{</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classsubmap.html#aeba919dd696c691da98256821a7d5c30">legacy_computer</a> ) {</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> x = 0; x &lt; <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; ++x ) {</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> y = 0; y &lt; <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; ++y ) {</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="structmaptile__soa.html#a348487d194a4e2720845fb8d330143d6">ter</a>[x][y] == <a class="code hl_variable" href="mapdata_8cpp.html#a2c46d6c97cbcfb86c8493ab0bf7ea240">t_console</a> ) {</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>                    <a class="code hl_variable" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.emplace( <a class="code hl_struct" href="structpoint.html">point</a>( x, y ), *<a class="code hl_variable" href="classsubmap.html#aeba919dd696c691da98256821a7d5c30">legacy_computer</a> );</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>                }</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>            }</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>        }</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        <a class="code hl_variable" href="classsubmap.html#aeba919dd696c691da98256821a7d5c30">legacy_computer</a>.reset();</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    }</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00224">computers</a>, <a class="el" href="submap_8h_source.html#l00225">legacy_computer</a>, <a class="el" href="game__constants_8h_source.html#l00035">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00036">SEEY</a>, <a class="el" href="mapdata_8cpp_source.html#l00706">t_console</a>, and <a class="el" href="submap_8h_source.html#l00052">maptile_soa&lt; SEEX, SEEY &gt;::ter</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8cpp_source.html#l00249">delete_computer()</a>, <a class="el" href="submap_8cpp_source.html#l00226">get_computer()</a>, and <a class="el" href="submap_8cpp_source.html#l00238">set_computer()</a>.</p>

</div>
</div>
<a id="a9a8dd374566ccbe7cb42ff44cbe7ffd6" name="a9a8dd374566ccbe7cb42ff44cbe7ffd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8dd374566ccbe7cb42ff44cbe7ffd6">&#9670;&nbsp;</a></span>update_lum_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::update_lum_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00130">130</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>                                                      {</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>            <a class="code hl_variable" href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">is_uniform</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>            <span class="keywordflow">if</span>( i.<a class="code hl_function" href="classitem.html#aa25047563db389e8372f4f40ef7ac965">is_emissive</a>() &amp;&amp; <a class="code hl_variable" href="structmaptile__soa.html#ad9ea5c6497700229c30956d4d1e4818c">lum</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] &lt; 255 ) {</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>                <a class="code hl_variable" href="structmaptile__soa.html#ad9ea5c6497700229c30956d4d1e4818c">lum</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>]++;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>            }</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06973">item::is_emissive()</a>, <a class="el" href="submap_8h_source.html#l00204">is_uniform</a>, <a class="el" href="submap_8h_source.html#l00054">maptile_soa&lt; SEEX, SEEY &gt;::lum</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04454">map::add_item()</a>, and <a class="el" href="map_8cpp_source.html#l04566">map::update_lum()</a>.</p>

</div>
</div>
<a id="aeed207c9e57af89bf3af9d52ac230daa" name="aeed207c9e57af89bf3af9d52ac230daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeed207c9e57af89bf3af9d52ac230daa">&#9670;&nbsp;</a></span>update_lum_rem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::update_lum_rem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpoint.html">point</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00056">56</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>{</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <a class="code hl_variable" href="classsubmap.html#ab9c259d41007ae95567f3613a849bdb7">is_uniform</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="keywordflow">if</span>( !i.<a class="code hl_function" href="classitem.html#aa25047563db389e8372f4f40ef7ac965">is_emissive</a>() ) {</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="structmaptile__soa.html#ad9ea5c6497700229c30956d4d1e4818c">lum</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] &amp;&amp; <a class="code hl_variable" href="structmaptile__soa.html#ad9ea5c6497700229c30956d4d1e4818c">lum</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] &lt; 255 ) {</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        <a class="code hl_variable" href="structmaptile__soa.html#ad9ea5c6497700229c30956d4d1e4818c">lum</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>]--;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    }</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <span class="comment">// Have to scan through all items to be sure removing i will actually lower</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="comment">// the count below 255.</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> = 0;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : <a class="code hl_variable" href="structmaptile__soa.html#a9ba85c89aefe1632a1951ecbc71c25b3">itm</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] ) {</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>        <span class="keywordflow">if</span>( it.is_emissive() ) {</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>            <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a>++;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>        }</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    }</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> &lt;= 256 ) {</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>        <a class="code hl_variable" href="structmaptile__soa.html#ad9ea5c6497700229c30956d4d1e4818c">lum</a>[p.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>( <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> - 1 );</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    }</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06973">item::is_emissive()</a>, and <a class="el" href="submap_8h_source.html#l00204">is_uniform</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04222">map::i_rem()</a>, and <a class="el" href="map_8cpp_source.html#l04566">map::update_lum()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a13a7762a23694210abea9955505fcb87" name="a13a7762a23694210abea9955505fcb87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13a7762a23694210abea9955505fcb87">&#9670;&nbsp;</a></span>active_furniture</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="coordinates_8h.html#a0ac9d32a9fb320505f70e5f6834d82f4">point_sm_ms</a>, <a class="el" href="classcata_1_1poly__serialized.html">cata::poly_serialized</a>&lt;<a class="el" href="classactive__tile__data.html">active_tile_data</a>&gt; &gt; submap::active_furniture</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00221">221</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l01424">map::furn_set()</a>, and <a class="el" href="submap_8cpp_source.html#l00265">rotate()</a>.</p>

</div>
</div>
<a id="ab14312fd2b32daf90ba20524a8272e70" name="ab14312fd2b32daf90ba20524a8272e70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab14312fd2b32daf90ba20524a8272e70">&#9670;&nbsp;</a></span>active_items</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classactive__item__cache.html">active_item_cache</a> submap::active_items</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00208">208</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04454">map::add_item()</a>, <a class="el" href="map_8cpp_source.html#l04673">map::check_submap_active_item_consistency()</a>, <a class="el" href="map_8cpp_source.html#l04247">map::i_clear()</a>, <a class="el" href="map_8cpp_source.html#l04222">map::i_rem()</a>, <a class="el" href="map_8cpp_source.html#l07124">map::loadn()</a>, <a class="el" href="map_8cpp_source.html#l04546">map::make_active()</a>, <a class="el" href="map_8cpp_source.html#l04699">map::process_items()</a>, <a class="el" href="map_8cpp_source.html#l04742">map::process_items_in_submap()</a>, <a class="el" href="submap_8cpp_source.html#l00265">rotate()</a>, and <a class="el" href="map_8cpp_source.html#l05719">map::update_submap_active_item_status()</a>.</p>

</div>
</div>
<a id="aab6b800454648ba710233504494b2c34" name="aab6b800454648ba710233504494b2c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab6b800454648ba710233504494b2c34">&#9670;&nbsp;</a></span>camp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classbasecamp.html">basecamp</a>&gt; submap::camp</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00220">220</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05705">map::hoist_submap_camp()</a>, and <a class="el" href="map_8cpp_source.html#l05700">map::remove_submap_camp()</a>.</p>

</div>
</div>
<a id="aeeba53a78e62b516c1bd1be0c63542ca" name="aeeba53a78e62b516c1bd1be0c63542ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeba53a78e62b516c1bd1be0c63542ca">&#9670;&nbsp;</a></span>computers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="structpoint.html">point</a>, <a class="el" href="classcomputer.html">computer</a>&gt; submap::computers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00224">224</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8cpp_source.html#l00249">delete_computer()</a>, <a class="el" href="submap_8cpp_source.html#l00212">get_computer()</a>, <a class="el" href="submap_8cpp_source.html#l00207">has_computer()</a>, <a class="el" href="submap_8cpp_source.html#l00265">rotate()</a>, <a class="el" href="submap_8cpp_source.html#l00238">set_computer()</a>, and <a class="el" href="submap_8cpp_source.html#l00193">update_legacy_computer()</a>.</p>

</div>
</div>
<a id="ada9558cbc399cd122d23af327daa1c67" name="ada9558cbc399cd122d23af327daa1c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada9558cbc399cd122d23af327daa1c67">&#9670;&nbsp;</a></span>cosmetics</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structsubmap_1_1cosmetic__t.html">cosmetic_t</a>&gt; submap::cosmetics</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00206">206</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8cpp_source.html#l00144">delete_graffiti()</a>, <a class="el" href="submap_8cpp_source.html#l00183">delete_signage()</a>, <a class="el" href="submap_8cpp_source.html#l00123">get_graffiti()</a>, <a class="el" href="submap_8cpp_source.html#l00161">get_signage()</a>, <a class="el" href="submap_8cpp_source.html#l00118">has_graffiti()</a>, <a class="el" href="submap_8cpp_source.html#l00153">has_signage()</a>, <a class="el" href="submap_8cpp_source.html#l00080">insert_cosmetic()</a>, <a class="el" href="submap_8cpp_source.html#l00265">rotate()</a>, <a class="el" href="submap_8cpp_source.html#l00132">set_graffiti()</a>, and <a class="el" href="submap_8cpp_source.html#l00172">set_signage()</a>.</p>

</div>
</div>
<a id="a6aa8eac8b516b65613b099399075fc4d" name="a6aa8eac8b516b65613b099399075fc4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aa8eac8b516b65613b099399075fc4d">&#9670;&nbsp;</a></span>elements</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t submap::elements = <a class="el" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * <a class="el" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00230">230</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8h_source.html#l00095">set_all_furn()</a>, <a class="el" href="submap_8h_source.html#l00108">set_all_ter()</a>, <a class="el" href="submap_8h_source.html#l00082">set_all_traps()</a>, and <a class="el" href="submap_8cpp_source.html#l00040">submap()</a>.</p>

</div>
</div>
<a id="aa86d0130ed1d1556482b2f7478633778" name="aa86d0130ed1d1556482b2f7478633778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa86d0130ed1d1556482b2f7478633778">&#9670;&nbsp;</a></span>field_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int submap::field_count = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00210">210</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05528">map::add_field()</a>, <a class="el" href="map_8cpp_source.html#l02725">map::decay_fields_and_scent()</a>, <a class="el" href="map_8cpp_source.html#l07124">map::loadn()</a>, <a class="el" href="map__field_8cpp_source.html#l00396">map::process_fields_in_submap()</a>, and <a class="el" href="map_8cpp_source.html#l05585">map::remove_field()</a>.</p>

</div>
</div>
<a id="ab9c259d41007ae95567f3613a849bdb7" name="ab9c259d41007ae95567f3613a849bdb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9c259d41007ae95567f3613a849bdb7">&#9670;&nbsp;</a></span>is_uniform</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool submap::is_uniform</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00204">204</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05528">map::add_field()</a>, <a class="el" href="map_8cpp_source.html#l04454">map::add_item()</a>, <a class="el" href="mapgen_8cpp_source.html#l05447">map::add_vehicle()</a>, <a class="el" href="submap_8cpp_source.html#l00144">delete_graffiti()</a>, <a class="el" href="submap_8cpp_source.html#l00183">delete_signage()</a>, <a class="el" href="map_8cpp_source.html#l01183">map::displace_vehicle()</a>, <a class="el" href="submap_8h_source.html#l00090">set_furn()</a>, <a class="el" href="submap_8cpp_source.html#l00132">set_graffiti()</a>, <a class="el" href="submap_8h_source.html#l00125">set_lum()</a>, <a class="el" href="submap_8h_source.html#l00116">set_radiation()</a>, <a class="el" href="submap_8cpp_source.html#l00172">set_signage()</a>, <a class="el" href="submap_8h_source.html#l00103">set_ter()</a>, <a class="el" href="submap_8h_source.html#l00077">set_trap()</a>, <a class="el" href="map_8cpp_source.html#l06853">map::shift_vehicle_z()</a>, <a class="el" href="map_8cpp_source.html#l07650">map::spawn_monsters_submap_group()</a>, <a class="el" href="submap_8cpp_source.html#l00040">submap()</a>, <a class="el" href="submap_8h_source.html#l00130">update_lum_add()</a>, and <a class="el" href="submap_8cpp_source.html#l00056">update_lum_rem()</a>.</p>

</div>
</div>
<a id="a46123556cf8ed220cc78cfe639f76aea" name="a46123556cf8ed220cc78cfe639f76aea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46123556cf8ed220cc78cfe639f76aea">&#9670;&nbsp;</a></span>last_touched</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> submap::last_touched = <a class="el" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00211">211</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l07539">map::actualize()</a>, and <a class="el" href="map_8cpp_source.html#l07070">map::saven()</a>.</p>

</div>
</div>
<a id="aeba919dd696c691da98256821a7d5c30" name="aeba919dd696c691da98256821a7d5c30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeba919dd696c691da98256821a7d5c30">&#9670;&nbsp;</a></span>legacy_computer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classcomputer.html">computer</a>&gt; submap::legacy_computer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00225">225</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8cpp_source.html#l00212">get_computer()</a>, <a class="el" href="submap_8cpp_source.html#l00207">has_computer()</a>, and <a class="el" href="submap_8cpp_source.html#l00193">update_legacy_computer()</a>.</p>

</div>
</div>
<a id="a899d7838d59a219577907bfef4157314" name="a899d7838d59a219577907bfef4157314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a899d7838d59a219577907bfef4157314">&#9670;&nbsp;</a></span>partial_constructions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="structtripoint.html">tripoint</a>, <a class="el" href="structpartial__con.html">partial_con</a>&gt; submap::partial_constructions</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00219">219</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05273">map::partial_con_at()</a>, <a class="el" href="map_8cpp_source.html#l05287">map::partial_con_remove()</a>, and <a class="el" href="map_8cpp_source.html#l05297">map::partial_con_set()</a>.</p>

</div>
</div>
<a id="a955a62ae7625cb18d39267c80b48f703" name="a955a62ae7625cb18d39267c80b48f703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a955a62ae7625cb18d39267c80b48f703">&#9670;&nbsp;</a></span>spawns</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structspawn__point.html">spawn_point</a>&gt; submap::spawns</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00212">212</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l05407">map::add_spawn()</a>, <a class="el" href="editmap_8cpp_source.html#l01782">editmap::mapgen_preview()</a>, <a class="el" href="submap_8cpp_source.html#l00265">rotate()</a>, and <a class="el" href="map_8cpp_source.html#l07784">map::spawn_monsters_submap()</a>.</p>

</div>
</div>
<a id="aaee3b1898d0e50f0d958754c8715b454" name="aaee3b1898d0e50f0d958754c8715b454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaee3b1898d0e50f0d958754c8715b454">&#9670;&nbsp;</a></span>temperature</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int submap::temperature = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00226">226</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8h_source.html#l00165">get_temperature()</a>, and <a class="el" href="submap_8h_source.html#l00169">set_temperature()</a>.</p>

</div>
</div>
<a id="a5623916cf7dbc2e67886538f837d8a86" name="a5623916cf7dbc2e67886538f837d8a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5623916cf7dbc2e67886538f837d8a86">&#9670;&nbsp;</a></span>vehicles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::unique_ptr&lt;<a class="el" href="classvehicle.html">vehicle</a>&gt; &gt; submap::vehicles</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vehicles on this submap (their (0,0) point is on this submap). </p>
<p >This vehicle objects are deleted by this submap when it gets deleted. </p>

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00218">218</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l05447">map::add_vehicle()</a>, <a class="el" href="map_8cpp_source.html#l00413">map::detach_vehicle()</a>, <a class="el" href="map_8cpp_source.html#l01183">map::displace_vehicle()</a>, <a class="el" href="map_8cpp_source.html#l01039">map::get_vehicles()</a>, <a class="el" href="map_8cpp_source.html#l07124">map::loadn()</a>, <a class="el" href="editmap_8cpp_source.html#l01782">editmap::mapgen_preview()</a>, <a class="el" href="editmap_8cpp_source.html#l01983">editmap::mapgen_veh_destroy()</a>, <a class="el" href="editmap_8cpp_source.html#l01949">editmap::mapgen_veh_query()</a>, <a class="el" href="map_8cpp_source.html#l04762">map::process_items_in_vehicles()</a>, <a class="el" href="map_8cpp_source.html#l06853">map::shift_vehicle_z()</a>, and <a class="el" href="map_8cpp_source.html#l00399">map::update_vehicle_list()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="submap_8h_source.html">submap.h</a></li>
<li>src/<a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a></li>
<li>src/<a class="el" href="submap_8cpp_source.html">submap.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classsubmap.html">submap</a></li>
    <li class="footer">Generated on Sun Aug 20 2023 09:17:15 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
